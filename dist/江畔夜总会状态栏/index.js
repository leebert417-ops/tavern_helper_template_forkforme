var n={d:(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o:(n,t)=>Object.prototype.hasOwnProperty.call(n,t)},t={};n.d(t,{d:()=>b}),console.log('🌙 加载江畔夜总会状态栏插件...');let e=null,i=null,a=null;let o=0;let l='club',s=new Set;function c(n,t,e='未知'){if(!n)return e;const i=t.split('.');let a=n;for(const n of i){if(null==a||'object'!=typeof a)return e;a=a[n]}return null==a||''===String(a)?e:String(a)}function r(){let n;console.log('🚀 初始化江畔夜总会状态栏插件...');try{n=window.top?window.top.document:document}catch(t){console.warn('⚠️ 无法访问 window.top，使用当前 document'),n=document}n.getElementById('nightclub-toggle-btn')&&(console.log('⚠️ 江畔夜总会状态栏已存在，先移除旧的'),n.getElementById('nightclub-toggle-btn')?.remove(),n.getElementById('nightclub-main-panel')?.remove(),n.getElementById('nightclub-plugin-styles')?.remove(),$(n).off('.nightclub-plugin'),$(n).off('.nightclub-panel'),$(window).off('.nightclub-panel')),n.getElementById('nightclub-plugin-styles')||(n.head.insertAdjacentHTML('beforeend','\n<style id="nightclub-plugin-styles">\n:root {\n  --nightclub-primary: #e94560;\n  --nightclub-bg-dark: #1a1a2e;\n  --nightclub-bg-mid: #16213e;\n  --nightclub-text-light: #eee;\n  --nightclub-text-dim: #aaa;\n}\n\n/* 拖动按钮 */\n.nightclub-toggle-btn {\n  position: fixed !important;\n  top: 100px;\n  left: 20px;\n  width: 64px;\n  height: 64px;\n  background: linear-gradient(135deg, #e94560 0%, #c8365a 100%);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: grab;\n  z-index: 10000 !important;\n  box-shadow: 0 4px 12px rgba(233, 69, 96, 0.4);\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: none;\n  font-size: 28px;\n  border: 3px solid rgba(255, 255, 255, 0.3);\n  transition: transform 0.2s;\n}\n\n.nightclub-toggle-btn:hover {\n  transform: scale(1.05);\n}\n\n.nightclub-toggle-btn.dragging {\n  cursor: grabbing !important;\n  opacity: 0.9;\n  z-index: 10001 !important;\n}\n\n/* 主面板容器 */\n.nightclub-main-panel {\n  position: fixed !important;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 90vw !important;\n  max-width: 800px !important;\n  height: 85vh !important;\n  max-height: 600px !important;\n  background: linear-gradient(135deg, var(--nightclub-bg-dark) 0%, var(--nightclub-bg-mid) 100%);\n  border: 2px solid var(--nightclub-primary);\n  border-radius: 12px;\n  box-shadow: 0 8px 32px rgba(233, 69, 96, 0.4);\n  z-index: 9999 !important;\n  display: none;\n  flex-direction: column;\n  overflow: hidden;\n  color: var(--nightclub-text-light);\n  font-family: \'Microsoft YaHei\', \'Segoe UI\', sans-serif;\n}\n\n.nightclub-main-panel.active {\n  display: flex;\n}\n\n.nightclub-main-panel.dragging {\n  opacity: 0.95;\n  z-index: 10000 !important;\n  transition: none !important;\n}\n\n/* 头部 */\n.nightclub-header {\n  flex-shrink: 0;\n  padding: 16px 20px;\n  background: linear-gradient(135deg, var(--nightclub-primary) 0%, #c8365a 100%);\n  color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: 600;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  cursor: grab;\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: none;\n}\n\n.nightclub-header.dragging {\n  cursor: grabbing !important;\n}\n\n/* 标签页导航 */\n.nightclub-tabs {\n  flex-shrink: 0;\n  display: flex;\n  background: rgba(0, 0, 0, 0.2);\n  border-bottom: 2px solid rgba(255, 255, 255, 0.1);\n}\n\n.nightclub-tab {\n  flex: 1;\n  padding: 12px 16px;\n  text-align: center;\n  background: transparent;\n  border: none;\n  color: rgba(255, 255, 255, 0.6);\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  border-bottom: 3px solid transparent;\n  user-select: none;\n  -webkit-user-select: none;\n}\n\n.nightclub-tab:hover {\n  background: rgba(255, 255, 255, 0.05);\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.nightclub-tab.active {\n  color: white;\n  background: rgba(255, 255, 255, 0.1);\n  border-bottom-color: var(--nightclub-primary);\n}\n\n.nightclub-tab-badge {\n  display: inline-block;\n  margin-left: 6px;\n  padding: 2px 6px;\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 10px;\n  font-size: 11px;\n  font-weight: 700;\n}\n\n.nightclub-tab.active .nightclub-tab-badge {\n  background: var(--nightclub-primary);\n}\n\n.nightclub-header-left {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.nightclub-header-title {\n  font-size: 18px;\n  font-weight: 700;\n}\n\n.nightclub-header-subtitle {\n  font-size: 12px;\n  opacity: 0.9;\n}\n\n.nightclub-close-btn {\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  color: white;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  cursor: pointer;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.nightclub-close-btn:hover {\n  background: rgba(255, 255, 255, 0.3);\n  transform: scale(1.1);\n}\n\n/* 内容区域 */\n.nightclub-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n}\n\n.nightclub-content::-webkit-scrollbar {\n  width: 8px;\n}\n\n.nightclub-content::-webkit-scrollbar-track {\n  background: rgba(0, 0, 0, 0.1);\n}\n\n.nightclub-content::-webkit-scrollbar-thumb {\n  background: var(--nightclub-primary);\n  border-radius: 4px;\n}\n\n/* 卡片样式 */\n.nightclub-card {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  padding: 16px;\n  margin-bottom: 16px;\n}\n\n.nightclub-card-title {\n  font-size: 16px;\n  font-weight: 700;\n  margin-bottom: 12px;\n  color: var(--nightclub-primary);\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.nightclub-card-content {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.nightclub-info-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n}\n\n.nightclub-info-label {\n  color: var(--nightclub-text-dim);\n  font-size: 14px;\n}\n\n.nightclub-info-value {\n  color: var(--nightclub-text-light);\n  font-size: 14px;\n  font-weight: 600;\n}\n\n/* 进度条 */\n.nightclub-progress-bar {\n  width: 100%;\n  height: 8px;\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 4px;\n  overflow: hidden;\n  margin-top: 4px;\n}\n\n.nightclub-progress-fill {\n  height: 100%;\n  background: linear-gradient(90deg, var(--nightclub-primary) 0%, #ff6b81 100%);\n  transition: width 0.3s;\n}\n\n/* 培养对象列表 */\n.nightclub-trainee-item {\n  background: rgba(255, 255, 255, 0.03);\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  border-radius: 8px;\n  padding: 12px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.nightclub-trainee-item:hover {\n  background: rgba(255, 255, 255, 0.08);\n  border-color: var(--nightclub-primary);\n  transform: translateX(4px);\n}\n\n.nightclub-trainee-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.nightclub-trainee-name {\n  font-weight: 700;\n  font-size: 15px;\n  color: var(--nightclub-text-light);\n}\n\n.nightclub-trainee-status {\n  font-size: 12px;\n  color: var(--nightclub-text-dim);\n}\n\n/* 归档艺人 */\n.nightclub-archived-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  gap: 12px;\n}\n\n.nightclub-archived-item {\n  background: rgba(255, 255, 255, 0.03);\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  border-radius: 8px;\n  padding: 12px;\n  text-align: center;\n}\n\n.nightclub-archived-name {\n  font-weight: 700;\n  margin-bottom: 4px;\n  color: var(--nightclub-text-light);\n}\n\n.nightclub-archived-type {\n  font-size: 12px;\n  color: var(--nightclub-text-dim);\n}\n\n/* 空状态 */\n.nightclub-empty {\n  text-align: center;\n  padding: 40px 20px;\n  color: var(--nightclub-text-dim);\n}\n\n.nightclub-empty-icon {\n  font-size: 48px;\n  margin-bottom: 12px;\n  opacity: 0.5;\n}\n\n.nightclub-empty-text {\n  font-size: 14px;\n}\n\n/* 加载状态 */\n.nightclub-loading {\n  text-align: center;\n  padding: 40px 20px;\n  color: var(--nightclub-primary);\n}\n\n.nightclub-loading-icon {\n  font-size: 32px;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n\n/* 移动端适配 */\n@media (max-width: 768px) {\n  .nightclub-main-panel {\n    width: 95vw !important;\n    height: 90vh !important;\n    max-height: none !important;\n  }\n  \n  .nightclub-toggle-btn {\n    width: 56px;\n    height: 56px;\n    font-size: 24px;\n    /* 确保按钮可交互 */\n    pointer-events: auto !important;\n  }\n  \n  .nightclub-header {\n    padding: 12px 16px;\n  }\n  \n  .nightclub-header-title {\n    font-size: 16px !important;\n  }\n  \n  .nightclub-header-subtitle {\n    font-size: 11px !important;\n  }\n  \n  .nightclub-card {\n    padding: 12px;\n    margin-bottom: 12px;\n  }\n  \n  .nightclub-card-title {\n    font-size: 14px;\n  }\n}\n\n/* 竖屏优化 */\n@media (max-width: 480px) and (orientation: portrait) {\n  .nightclub-main-panel {\n    width: 100vw !important;\n    height: 100vh !important;\n    border-radius: 0;\n    top: 0 !important;\n    left: 0 !important;\n    transform: none !important;\n    max-width: none !important;\n  }\n  \n  .nightclub-toggle-btn {\n    width: 50px;\n    height: 50px;\n    font-size: 22px;\n    /* 确保按钮在小屏幕下也能正常工作 */\n    z-index: 10002 !important;\n    pointer-events: auto !important;\n  }\n  \n  .nightclub-content {\n    padding: 12px;\n  }\n  \n  .nightclub-archived-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n/* 横屏优化 */\n@media (max-height: 600px) and (orientation: landscape) {\n  .nightclub-main-panel {\n    height: 95vh !important;\n    max-height: none !important;\n  }\n  \n  .nightclub-header {\n    padding: 10px 16px;\n  }\n  \n  .nightclub-content {\n    padding: 12px 16px;\n  }\n}\n\n/* ==================== 全局移动端优化 ==================== */\n\n/* 防止双击缩放 */\n* {\n  touch-action: manipulation;\n}\n\n/* 移除触摸高亮 */\n* {\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n\n/* 优化滚动体验（iOS 平滑滚动） */\n.nightclub-content {\n  -webkit-overflow-scrolling: touch;\n}\n\n/* 移动端字体优化 */\n@media (max-width: 768px) {\n  body {\n    -webkit-text-size-adjust: 100%;\n    -ms-text-size-adjust: 100%;\n    text-size-adjust: 100%;\n  }\n}\n\n/* 支持刘海屏等安全区域 - 仅在小屏幕应用 */\n@media (max-width: 768px) {\n  @supports (padding: max(0px)) {\n    .nightclub-main-panel {\n      padding-top: max(0px, env(safe-area-inset-top)) !important;\n      padding-bottom: max(0px, env(safe-area-inset-bottom)) !important;\n      padding-left: max(0px, env(safe-area-inset-left)) !important;\n      padding-right: max(0px, env(safe-area-inset-right)) !important;\n    }\n  }\n}\n\n/* 移除所有按钮和可交互元素的焦点框 */\nbutton:focus,\nbutton:active,\n.nightclub-toggle-btn:focus,\n.nightclub-toggle-btn:active,\n.nightclub-close-btn:focus,\n.nightclub-close-btn:active,\n.nightclub-trainee-item:focus,\n.nightclub-trainee-item:active {\n  outline: none !important;\n  -webkit-tap-highlight-color: transparent !important;\n}\n\n/* 对象侦测页面 */\n.detection-current-display {\n  background: rgba(233, 69, 96, 0.08);\n  border: 2px solid rgba(233, 69, 96, 0.3);\n  border-radius: 12px;\n  margin-bottom: 16px;\n  overflow: hidden;\n}\n\n.detection-display-header {\n  padding: 12px 16px;\n  background: rgba(233, 69, 96, 0.15);\n  border-bottom: 1px solid rgba(233, 69, 96, 0.2);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.detection-display-title {\n  font-size: 15px;\n  font-weight: 700;\n  color: var(--nightclub-primary);\n}\n\n/* 侦测结果显示框 */\n.detection-results-display {\n  background: rgba(76, 175, 80, 0.08);\n  border: 2px solid rgba(76, 175, 80, 0.3);\n  border-radius: 12px;\n  margin-bottom: 16px;\n  overflow: hidden;\n}\n\n.detection-results-header {\n  padding: 12px 16px;\n  background: rgba(76, 175, 80, 0.15);\n  border-bottom: 1px solid rgba(76, 175, 80, 0.2);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.detection-results-title {\n  font-size: 15px;\n  font-weight: 700;\n  color: #4caf50;\n}\n\n.detection-results-content {\n  padding: 12px;\n  max-height: 300px;\n  overflow-y: auto;\n}\n\n.detection-result-item {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  padding: 12px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.detection-result-item:hover {\n  background: rgba(255, 255, 255, 0.08);\n  border-color: rgba(76, 175, 80, 0.5);\n  transform: translateX(2px);\n}\n\n.detection-result-item:last-child {\n  margin-bottom: 0;\n}\n\n.detection-result-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.detection-result-name {\n  font-size: 14px;\n  font-weight: 700;\n  color: #4caf50;\n}\n\n.detection-result-toggle {\n  font-size: 12px;\n  color: var(--nightclub-text-dim);\n  padding: 4px 8px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 4px;\n  cursor: pointer;\n  user-select: none;\n}\n\n.detection-result-toggle:hover {\n  background: rgba(255, 255, 255, 0.1);\n  color: var(--nightclub-text-light);\n}\n\n.detection-result-data {\n  font-size: 13px;\n  color: var(--nightclub-text-dim);\n  line-height: 1.8;\n  white-space: pre-line;\n  max-height: 0;\n  overflow: hidden;\n  transition: max-height 0.3s ease;\n}\n\n.detection-result-data.expanded {\n  max-height: 1000px;\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.detection-results-empty {\n  text-align: center;\n  padding: 24px 12px;\n  color: var(--nightclub-text-dim);\n  font-size: 13px;\n  font-style: italic;\n}\n\n.detection-display-content {\n  padding: 12px;\n  min-height: 80px;\n  max-height: 200px;\n  overflow-y: auto;\n}\n\n.detection-display-empty {\n  text-align: center;\n  padding: 24px 12px;\n  color: var(--nightclub-text-dim);\n  font-size: 13px;\n  font-style: italic;\n}\n\n.detection-display-item {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  padding: 10px 12px;\n  margin-bottom: 8px;\n}\n\n.detection-display-item:last-child {\n  margin-bottom: 0;\n}\n\n.detection-display-item-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 6px;\n  gap: 8px;\n}\n\n.detection-display-item-name {\n  font-size: 14px;\n  font-weight: 700;\n  color: var(--nightclub-text-light);\n}\n\n.detection-display-item-category {\n  font-size: 11px;\n  padding: 2px 8px;\n  background: rgba(233, 69, 96, 0.25);\n  border-radius: 10px;\n  color: var(--nightclub-primary);\n  white-space: nowrap;\n}\n\n.detection-display-item-remove {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: rgba(233, 69, 96, 0.3);\n  border: 1px solid var(--nightclub-primary);\n  color: var(--nightclub-primary);\n  font-size: 18px;\n  line-height: 1;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n  flex-shrink: 0;\n}\n\n.detection-display-item-remove:hover {\n  background: var(--nightclub-primary);\n  color: white;\n  transform: scale(1.1);\n}\n\n.detection-display-item-info {\n  font-size: 12px;\n  color: var(--nightclub-text-dim);\n  line-height: 1.4;\n}\n\n.detection-description {\n  padding: 10px 12px;\n  background: rgba(233, 69, 96, 0.08);\n  border-left: 3px solid var(--nightclub-primary);\n  border-radius: 4px;\n  margin-bottom: 16px;\n  font-size: 12px;\n  line-height: 1.6;\n  color: var(--nightclub-text-dim);\n}\n\n.detection-clear-btn {\n  padding: 4px 12px;\n  background: rgba(233, 69, 96, 0.2);\n  border: 1px solid var(--nightclub-primary);\n  border-radius: 6px;\n  color: var(--nightclub-primary);\n  font-size: 12px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.detection-clear-btn:hover {\n  background: rgba(233, 69, 96, 0.3);\n}\n\n.detection-targets-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 12px;\n  margin-bottom: 16px;\n}\n\n.detection-target-item {\n  background: rgba(255, 255, 255, 0.03);\n  border: 2px solid rgba(255, 255, 255, 0.08);\n  border-radius: 8px;\n  padding: 12px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.detection-target-item:hover {\n  background: rgba(255, 255, 255, 0.06);\n  border-color: rgba(233, 69, 96, 0.5);\n  transform: translateY(-2px);\n}\n\n.detection-target-item.selected {\n  background: rgba(233, 69, 96, 0.15);\n  border-color: var(--nightclub-primary);\n  box-shadow: 0 0 12px rgba(233, 69, 96, 0.3);\n}\n\n.detection-target-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.detection-target-name {\n  font-size: 15px;\n  font-weight: 700;\n  color: var(--nightclub-text-light);\n}\n\n.detection-target-category {\n  font-size: 11px;\n  padding: 2px 8px;\n  background: rgba(233, 69, 96, 0.2);\n  border-radius: 12px;\n  color: var(--nightclub-primary);\n}\n\n.detection-target-info {\n  font-size: 12px;\n  color: var(--nightclub-text-dim);\n  margin-bottom: 8px;\n  line-height: 1.4;\n}\n\n.detection-target-status {\n  font-size: 12px;\n  text-align: center;\n  padding: 6px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 6px;\n  color: var(--nightclub-text-dim);\n}\n\n.detection-target-item.selected .detection-target-status {\n  background: rgba(233, 69, 96, 0.3);\n  color: var(--nightclub-primary);\n  font-weight: 600;\n}\n\n.detection-actions {\n  display: flex;\n  gap: 12px;\n  margin-top: 16px;\n}\n\n.detection-action-btn {\n  flex: 1;\n  padding: 12px 16px;\n  background: linear-gradient(135deg, var(--nightclub-primary) 0%, #c8365a 100%);\n  border: none;\n  border-radius: 8px;\n  color: white;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.detection-action-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(233, 69, 96, 0.4);\n}\n\n.detection-action-btn:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.detection-action-btn.detection-remove-btn {\n  background: linear-gradient(135deg, #444 0%, #666 100%);\n}\n\n.detection-action-btn.detection-remove-btn:hover:not(:disabled) {\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n@media (max-width: 768px) {\n  .detection-results-content {\n    max-height: 250px;\n  }\n\n  .detection-result-item {\n    padding: 10px;\n  }\n\n  .detection-result-name {\n    font-size: 13px;\n  }\n\n  .detection-result-toggle {\n    font-size: 11px;\n    padding: 3px 6px;\n  }\n\n  .detection-result-data {\n    font-size: 12px;\n  }\n\n  .detection-display-content {\n    max-height: 150px;\n  }\n\n  .detection-display-item-header {\n    flex-wrap: wrap;\n  }\n\n  .detection-targets-grid {\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n    gap: 10px;\n  }\n  \n  .detection-actions {\n    flex-direction: column;\n  }\n}\n</style>\n'),console.log('✅ 样式已注入')),n.body.insertAdjacentHTML('beforeend','\n\x3c!-- 拖动按钮 --\x3e\n<div id="nightclub-toggle-btn" class="nightclub-toggle-btn">\n  <span>🌙</span>\n</div>\n\n\x3c!-- 主面板 --\x3e\n<div id="nightclub-main-panel" class="nightclub-main-panel">\n  <div class="nightclub-header">\n    <div class="nightclub-header-left">\n      <div class="nightclub-header-title">🌙 江畔夜总会</div>\n      <div class="nightclub-header-subtitle" id="nightclub-time-display">加载中...</div>\n    </div>\n    <button class="nightclub-close-btn" id="nightclub-close-btn">×</button>\n  </div>\n  \n  \x3c!-- 标签页导航 --\x3e\n  <div class="nightclub-tabs">\n    <button class="nightclub-tab active" data-page="club">\n      🏢 会所状态\n    </button>\n    <button class="nightclub-tab" data-page="workshop">\n      🏭 工坊状态<span class="nightclub-tab-badge" id="tab-badge-workshop">0</span>\n    </button>\n    <button class="nightclub-tab" data-page="trainees">\n      👥 培养对象<span class="nightclub-tab-badge" id="tab-badge-trainees">0</span>\n    </button>\n    <button class="nightclub-tab" data-page="archived">\n      📁 已归档<span class="nightclub-tab-badge" id="tab-badge-archived">0</span>\n    </button>\n    <button class="nightclub-tab" data-page="detection">\n      🔍 对象侦测<span class="nightclub-tab-badge" id="tab-badge-detection">0</span>\n    </button>\n  </div>\n  \n  <div class="nightclub-content" id="nightclub-content">\n    <div class="nightclub-loading">\n      <div class="nightclub-loading-icon">⏳</div>\n      <div>正在加载数据...</div>\n    </div>\n  </div>\n</div>\n'),console.log('✅ HTML 已注入');const t=n.getElementById('nightclub-toggle-btn');if(t)try{const n=localStorage.getItem('nightclub-btn-position');if(n){const e=JSON.parse(n);t.style.left=e.left+'px',t.style.top=e.top+'px',console.log('📍 恢复按钮位置:',e)}}catch(n){console.warn('⚠️ 恢复按钮位置失败')}!function(n){const t=n.getElementById('nightclub-toggle-btn'),i=n.getElementById('nightclub-main-panel');if(!t||!i)return;const a=$(n);function l(n,i){if(e)return!1;const a=window.getComputedStyle(t),o=parseInt(a.left)||0,l=parseInt(a.top)||0;return e={startX:n,startY:i,initialLeft:o,initialTop:l,hasDragged:!1},console.log('🖱️ 准备拖动按钮'),!0}function s(n,i){if(!e)return;const a=n-e.startX,o=i-e.startY;if(!e.hasDragged&&(Math.abs(a)>5||Math.abs(o)>5)&&(e.hasDragged=!0,t.classList.add('dragging'),console.log('🖱️ 开始拖动按钮')),e.hasDragged){let n,i=e.initialLeft+a,l=e.initialTop+o;try{n=window.top||window}catch(t){n=window}const s=$(n).width()-80,c=$(n).height()-80;i=Math.max(0,Math.min(i,s)),l=Math.max(0,Math.min(l,c)),t.style.left=i+'px',t.style.top=l+'px'}}function c(i,a){if(!e)return;const l=e.hasDragged;if(t.classList.remove('dragging'),l){const n=window.getComputedStyle(t),e={left:parseInt(n.left)||0,top:parseInt(n.top)||0};localStorage.setItem('nightclub-btn-position',JSON.stringify(e)),console.log('✅ 按钮拖动结束，保存位置:',e)}e=null,l||(console.log('🎨 检测到点击，切换面板'),function(n){const t=n.getElementById('nightclub-main-panel');if(!t)return;const e=t.classList.contains('active');e?t.classList.remove('active'):(t.classList.add('active'),o=0,d(n))}(n))}$(t).on('mousedown.nightclub-plugin',function(n){l(n.clientX,n.clientY)&&(n.preventDefault(),n.stopPropagation())}),t.addEventListener('touchstart',function(n){const t=n.touches[0];l(t.clientX,t.clientY)&&(n.preventDefault(),n.stopPropagation())},{passive:!1}),a.on('mousemove.nightclub-plugin',function(n){s(n.clientX,n.clientY),e&&n.preventDefault()}),a.on('touchmove.nightclub-plugin',function(n){const t=n.originalEvent.touches[0];s(t.clientX,t.clientY),e&&n.preventDefault()}),a.on('mouseup.nightclub-plugin',function(n){c(n.clientX,n.clientY)}),a.on('touchend.nightclub-plugin touchcancel.nightclub-plugin',function(n){const t=n.originalEvent.changedTouches[0];t?c(t.clientX,t.clientY):c(0,0)}),console.log('✅ 按钮拖动功能已初始化')}(n),function(n){const t=n.getElementById('nightclub-close-btn');t&&t.addEventListener('click',t=>{t.stopPropagation();const e=n.getElementById('nightclub-main-panel');e&&e.classList.remove('active')});(function(n){const t=n.querySelectorAll('.nightclub-tab');t.forEach(e=>{e.addEventListener('click',function(e){e.stopPropagation();const i=this.getAttribute('data-page');i&&(l=i,t.forEach(n=>n.classList.remove('active')),this.classList.add('active'),a&&p(n,a),console.log('📄 切换到页面:',i))})}),console.log('✅ 标签页切换已初始化')})(n),function(n){const t=n.getElementById('nightclub-main-panel'),e=n.getElementById('nightclub-close-btn')?.parentElement;if(!t||!e)return;const a=$(n);/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function o(){try{const n=localStorage.getItem('nightclub-panel-position');if(n){const e=JSON.parse(n);window.innerWidth<=480&&window.innerWidth<window.innerHeight||(t.style.transform='none',t.style.left=e.left+'px',t.style.top=e.top+'px',console.log('📍 恢复面板位置:',e))}}catch(n){console.warn('⚠️ 恢复面板位置失败')}}function l(n,e){if(i)return!1;if(window.innerWidth<=480&&window.innerWidth<window.innerHeight)return!1;const a=t.getBoundingClientRect();return i={startX:n,startY:e,initialLeft:a.left,initialTop:a.top,hasDragged:!1},console.log('🖱️ 准备拖动面板'),!0}function s(n,a){if(!i)return;const o=n-i.startX,l=a-i.startY;if(!i.hasDragged&&(Math.abs(o)>5||Math.abs(l)>5)&&(i.hasDragged=!0,t.classList.add('dragging'),e.classList.add('dragging'),console.log('🖱️ 开始拖动面板')),i.hasDragged){let n=i.initialLeft+o,e=i.initialTop+l;const a=t.offsetWidth;t.offsetHeight;let s;try{s=window.top||window}catch(n){s=window}const c=$(s).width(),r=$(s).height();n=Math.max(50-a,Math.min(n,c-50)),e=Math.max(0,Math.min(e,r-50)),t.style.transform='none',t.style.left=n+'px',t.style.top=e+'px'}}function c(){if(!i)return;const n=i.hasDragged;if(t.classList.remove('dragging'),e.classList.remove('dragging'),n){const n=t.getBoundingClientRect(),e={left:n.left,top:n.top};localStorage.setItem('nightclub-panel-position',JSON.stringify(e)),console.log('✅ 面板拖动结束，保存位置:',e)}i=null}$(e).on('mousedown.nightclub-panel',function(n){n.target.closest('.nightclub-close-btn')||l(n.clientX,n.clientY)&&(n.preventDefault(),n.stopPropagation())}),e.addEventListener('touchstart',function(n){if(n.target.closest('.nightclub-close-btn'))return;const t=n.touches[0];l(t.clientX,t.clientY)&&(n.preventDefault(),n.stopPropagation())},{passive:!1}),a.on('mousemove.nightclub-panel',function(n){s(n.clientX,n.clientY),i&&n.preventDefault()}),a.on('touchmove.nightclub-panel',function(n){const t=n.originalEvent.touches[0];s(t.clientX,t.clientY),i&&n.preventDefault()}),a.on('mouseup.nightclub-panel',function(){c()}),a.on('touchend.nightclub-panel touchcancel.nightclub-panel',function(){c()}),$(window).on('resize.nightclub-panel orientationchange.nightclub-panel',function(){window.innerWidth<=480&&window.innerWidth<window.innerHeight?(t.style.transform='none',t.style.left='0',t.style.top='0'):o()}),o(),console.log('✅ 面板拖动功能已初始化')}(n),console.log('✅ 面板系统已初始化')}(n),console.log('✅ 江畔夜总会状态栏插件初始化完成！')}async function d(n){try{if('undefined'==typeof Mvu)try{if(!window.parent||void 0===window.parent.Mvu)throw new Error('父窗口中也没有 MVU');window.Mvu=window.parent.Mvu,console.log('✅ 已从父窗口引用 MVU')}catch(t){return console.warn('⚠️ MVU 框架未加载或无法访问父窗口'),void(o<5?(o++,console.log(`🔄 第 ${o}/5 次重试加载 MVU...`),setTimeout(()=>d(n),400)):g(n,'MVU 框架未加载，请确保已安装酒馆助手并启用 MVU 框架'))}const t=Mvu.getMvuData({type:'message',message_id:'latest'}),e=t?.stat_data;if(!e)return console.warn('⚠️ MVU 数据为空'),void(o<5?(o++,setTimeout(()=>d(n),400)):g(n,'未能加载数据'));a=e,console.log('✅ 数据加载成功',e),p(n,e)}catch(t){console.error('❌ 加载数据出错:',t),g(n,'加载出错: '+t.message)}}function g(n,t){const e=n.getElementById('nightclub-content');e&&(e.innerHTML=`\n      <div class="nightclub-empty">\n        <div class="nightclub-empty-icon">⚠️</div>\n        <div class="nightclub-empty-text">${t}</div>\n      </div>\n    `)}function p(n,t){const e=n.getElementById('nightclub-content'),i=n.getElementById('nightclub-time-display');if(!e)return;if(i&&t.时间信息){const n=c(t,'时间信息.当前日期',''),e=c(t,'时间信息.当前时间',''),a=c(t,'时间信息.营业状态',''),o=c(t,'地点信息.当前位置','');i.textContent=`${n} ${e} | ${a}${o?` | ${o}`:''}`}const o=t.夜总会经营?.待处理订单?.length||0,r=t.工坊培养对象?.培养列表?.length||0,d=t.已归档?.档案列表?.length||0,g=s.size,b=n.getElementById('tab-badge-workshop'),h=n.getElementById('tab-badge-trainees'),f=n.getElementById('tab-badge-archived'),m=n.getElementById('tab-badge-detection');b&&(b.textContent=String(o)),h&&(h.textContent=String(r)),f&&(f.textContent=String(d)),m&&(m.textContent=String(g));let v='';'club'===l?v+=function(n){let t='';n.夜总会经营&&(t+=`\n      <div class="nightclub-card">\n        <div class="nightclub-card-title">\n          <span>💼</span>\n          <span>经营状况</span>\n        </div>\n        <div class="nightclub-card-content">\n          <div class="nightclub-info-row">\n            <span class="nightclub-info-label">VIP客户</span>\n            <span class="nightclub-info-value">${c(n,'夜总会经营.VIP客户数','0')} 人</span>\n          </div>\n        </div>\n      </div>\n    `);return t+='\n    <div class="nightclub-card">\n      <div class="nightclub-card-title">\n        <span>🏢</span>\n        <span>地上区域</span>\n      </div>\n      <div class="nightclub-card-content">\n          <div class="nightclub-info-row">\n          <span class="nightclub-info-label">酒水吧台</span>\n          <span class="nightclub-info-value">正常营业</span>\n          </div>\n        <div class="nightclub-info-row">\n          <span class="nightclub-info-label">豪华舞厅</span>\n          <span class="nightclub-info-value">正常营业</span>\n        </div>\n        <div class="nightclub-info-row">\n          <span class="nightclub-info-label">KTV包厢</span>\n          <span class="nightclub-info-value">正常营业</span>\n        </div>\n        <div class="nightclub-info-row">\n          <span class="nightclub-info-label">VIP休息室</span>\n          <span class="nightclub-info-value">正常营业</span>\n        </div>\n        </div>\n      </div>\n    ',t}(t):'workshop'===l?v+=function(n){let t='';if(t+=`\n    <div class="nightclub-card">\n      <div class="nightclub-card-title">\n        <span>🏭</span>\n        <span>地下区域</span>\n      </div>\n      <div class="nightclub-card-content">\n        <div class="nightclub-info-row">\n          <span class="nightclub-info-label">基础培训中心</span>\n          <span class="nightclub-info-value">运行中</span>\n        </div>\n        <div class="nightclub-info-row">\n          <span class="nightclub-info-label">形体塑造中心</span>\n          <span class="nightclub-info-value">运行中</span>\n        </div>\n        <div class="nightclub-info-row">\n          <span class="nightclub-info-label">保养护理中心</span>\n          <span class="nightclub-info-value">运行中</span>\n        </div>\n        <div class="nightclub-info-row">\n          <span class="nightclub-info-label">当前培养人数</span>\n          <span class="nightclub-info-value">${n.工坊培养对象?.当前培养人数||0} 人</span>\n        </div>\n      </div>\n    </div>\n  `,n.夜总会经营?.待处理订单&&n.夜总会经营.待处理订单.length>0){const e=n.夜总会经营.待处理订单;t+=`\n      <div class="nightclub-card">\n        <div class="nightclub-card-title">\n          <span>📋</span>\n          <span>订单详情 (${e.length})</span>\n        </div>\n        <div class="nightclub-card-content">\n    `,e.forEach(n=>{const e=n.订单编号||'未知',i=n.客户代号||'未知',a=n.需求类型||'',o=n.具体要求||'',l=n.截止日期||'',s=n.状态||'待处理';t+=`\n        <div class="nightclub-trainee-item">\n          <div class="nightclub-trainee-header">\n            <span class="nightclub-trainee-name">${e}</span>\n            <span class="nightclub-trainee-status">${s}</span>\n          </div>\n          <div class="nightclub-info-row">\n            <span class="nightclub-info-label">客户</span>\n            <span class="nightclub-info-value">${i}</span>\n          </div>\n          ${a?`\n          <div class="nightclub-info-row">\n            <span class="nightclub-info-label">需求类型</span>\n            <span class="nightclub-info-value">${a}</span>\n          </div>`:''}\n          ${o?`\n          <div class="nightclub-info-row">\n            <span class="nightclub-info-label">具体要求</span>\n            <span class="nightclub-info-value">${o}</span>\n          </div>`:''}\n          ${l?`\n          <div class="nightclub-info-row">\n            <span class="nightclub-info-label">截止日期</span>\n            <span class="nightclub-info-value">${l}</span>\n          </div>`:''}\n        </div>\n      `}),t+='\n        </div>\n      </div>\n    '}else t+='\n      <div class="nightclub-empty">\n        <div class="nightclub-empty-icon">📭</div>\n        <div class="nightclub-empty-text">暂无待处理订单</div>\n      </div>\n    ';return t}(t):'trainees'===l?v+=function(n){let t='';if(n.工坊培养对象){const e=n.工坊培养对象.培养列表||[];0===e.length?t+='\n          <div class="nightclub-empty">\n            <div class="nightclub-empty-icon">📭</div>\n            <div class="nightclub-empty-text">暂无培养对象</div>\n          </div>\n      ':(t+=`\n        <div class="nightclub-card">\n          <div class="nightclub-card-title">\n            <span>👥</span>\n            <span>工坊培养对象 (${e.length})</span>\n          </div>\n          <div class="nightclub-card-content">\n      `,e.forEach(n=>{const e=n.姓名||'未知',i=n.编号||'',a=n.基本信息?.年龄||'',o=n.基本信息?.来源||'',l=n.基本信息?.原始外貌||'',s=n.基本信息?.培养天数||'0',c='number'==typeof n.培养进度?n.培养进度:n.培养进度||'0',r=n.定制信息?.对应订单||'无',d=n.定制信息?.目标形象||'未定',g=n.定制信息?.特殊要求||'',p=n.当前状态||'培训中';t+=`\n          <div class="nightclub-trainee-item">\n            <div class="nightclub-trainee-header">\n              <span class="nightclub-trainee-name">${e}${i?` (${i})`:''}</span>\n              <span class="nightclub-trainee-status">${p}</span>\n            </div>\n            <div class="nightclub-info-row">\n              <span class="nightclub-info-label">年龄 / 来源</span>\n              <span class="nightclub-info-value">${a}岁 / ${o}</span>\n            </div>\n            ${l?`\n            <div class="nightclub-info-row">\n              <span class="nightclub-info-label">原始外貌</span>\n              <span class="nightclub-info-value">${l}</span>\n            </div>`:''}\n            <div class="nightclub-info-row">\n              <span class="nightclub-info-label">培养天数</span>\n              <span class="nightclub-info-value">${s} 天</span>\n            </div>\n            <div class="nightclub-info-row">\n              <span class="nightclub-info-label">培养进度</span>\n              <span class="nightclub-info-value">${c}%</span>\n            </div>\n            <div class="nightclub-progress-bar">\n              <div class="nightclub-progress-fill" style="width: ${c}%"></div>\n            </div>\n            <div class="nightclub-info-row">\n              <span class="nightclub-info-label">对应订单</span>\n              <span class="nightclub-info-value">${r}</span>\n            </div>\n            <div class="nightclub-info-row">\n              <span class="nightclub-info-label">目标形象</span>\n              <span class="nightclub-info-value">${d}</span>\n            </div>\n            ${g?`\n            <div class="nightclub-info-row">\n              <span class="nightclub-info-label">特殊要求</span>\n              <span class="nightclub-info-value">${g}</span>\n            </div>`:''}\n          </div>\n        `}),t+='\n        </div>\n      </div>\n    ')}return t}(t):'archived'===l?v+=function(n){let t='';if(n.已归档){const e=n.已归档.档案列表||[];0===e.length?t+='\n          <div class="nightclub-empty">\n            <div class="nightclub-empty-icon">📭</div>\n            <div class="nightclub-empty-text">暂无归档艺人</div>\n          </div>\n      ':(t+=`\n        <div class="nightclub-card">\n          <div class="nightclub-card-title">\n            <span>📁</span>\n            <span>已归档 (${e.length})</span>\n          </div>\n          <div class="nightclub-card-content">\n      `,e.forEach(n=>{const e=n.编号||'',i=n.艺名||'未知',a=n.类型||'未知',o=n.年龄||'',l=n.来源||'',s=n.特征||'',c=n.当前状态||'',r=n.评价||'';t+=`\n          <div class="nightclub-trainee-item">\n            <div class="nightclub-trainee-header">\n              <span class="nightclub-trainee-name">${i}${e?` (${e})`:''}</span>\n              <span class="nightclub-trainee-status">${a}</span>\n            </div>\n            <div class="nightclub-info-row">\n              <span class="nightclub-info-label">年龄 / 来源</span>\n              <span class="nightclub-info-value">${o?o+'岁':''} ${o&&l?'/':''} ${l}</span>\n            </div>\n            ${s?`\n            <div class="nightclub-info-row">\n              <span class="nightclub-info-label">特征</span>\n              <span class="nightclub-info-value">${s}</span>\n            </div>`:''}\n            ${c?`\n            <div class="nightclub-info-row">\n              <span class="nightclub-info-label">当前状态</span>\n              <span class="nightclub-info-value">${c}</span>\n            </div>`:''}\n            ${r?`\n            <div class="nightclub-info-row">\n              <span class="nightclub-info-label">评价</span>\n              <span class="nightclub-info-value">${r}</span>\n            </div>`:''}\n          </div>\n        `}),t+='\n          </div>\n          </div>\n        ')}return t}(t):'detection'===l&&(v+=function(n){let t='';const e=n.侦测数据||{},i=Object.keys(e).length,a=[];n.工坊培养对象?.培养列表&&n.工坊培养对象.培养列表.forEach(n=>{n.姓名&&a.push({name:n.姓名,category:'培养对象',info:`编号: ${n.编号||'未知'} | 培养进度: ${n.培养进度||'0'}%`})});n.已归档?.档案列表&&n.已归档.档案列表.forEach(n=>{n.艺名&&a.push({name:n.艺名,category:'已归档',info:`类型: ${n.类型||'未知'} | 状态: ${n.当前状态||'未知'}`})});return a.push({name:'云舒',category:'管理层',info:'会所管理者 | 地上业务负责人'},{name:'云卷',category:'管理层',info:'工坊管理者 | 地下业务负责人'}),t+=`\n    <div class="nightclub-card">\n      <div class="nightclub-card-title">\n        <span>🔍</span>\n        <span>对象侦测</span>\n        </div>\n      <div class="nightclub-card-content">\n        \x3c!-- 已有侦测结果显示框 --\x3e\n        <div class="detection-results-display">\n          <div class="detection-results-header">\n            <span class="detection-results-title">📊 侦测结果 (${i})</span>\n          </div>\n          <div class="detection-results-content">\n            ${0===i?'<div class="detection-results-empty">暂无侦测数据</div>':Object.entries(e).map(([n,t])=>`\n                      <div class="detection-result-item" data-detection-target="${n.replace(/'/g,'\\\'')}">\n                        <div class="detection-result-header">\n                          <span class="detection-result-name">${n}</span>\n                          <span class="detection-result-toggle">点击展开/收起</span>\n                        </div>\n                        <div class="detection-result-data">${t}</div>\n                      </div>\n                    `).join('')}\n          </div>\n        </div>\n        \n        \x3c!-- 当前选中对象显示框 --\x3e\n        <div class="detection-current-display">\n          <div class="detection-display-header">\n            <span class="detection-display-title">📋 当前选中对象 (${s.size}/3)</span>\n            ${s.size>0?'<button class="detection-clear-btn" id="detection-clear-all">清空</button>':''}\n          </div>\n          <div class="detection-display-content">\n            ${0===s.size?'<div class="detection-display-empty">暂未选择任何对象，请从下方列表中选择</div>':Array.from(s).map(n=>{const t=a.find(t=>t.name===n);return t?`\n                      <div class="detection-display-item">\n                        <div class="detection-display-item-header">\n                          <span class="detection-display-item-name">${t.name}</span>\n                          <span class="detection-display-item-category">${t.category}</span>\n                          <button class="detection-display-item-remove" data-remove-target="${t.name}">×</button>\n                        </div>\n                        <div class="detection-display-item-info">${t.info}</div>\n      </div>\n    `:''}).join('')}\n          </div>\n        </div>\n        \n        <div class="detection-description">\n          💡 提示：点击下方卡片选择对象（建议3个以下），侦测将包括：整体情况、神情、嘴部、胸部、乳头、乳晕、屁股、小穴、屁眼等详细数据\n        </div>\n        \n        <div class="detection-targets-grid">\n  `,a.forEach(n=>{const e=s.has(n.name);t+=`\n      <div class="detection-target-item ${e?'selected':''}" data-target-name="${n.name}">\n        <div class="detection-target-header">\n          <span class="detection-target-name">${n.name}</span>\n          <span class="detection-target-category">${n.category}</span>\n        </div>\n        <div class="detection-target-info">${n.info}</div>\n        <div class="detection-target-status">${e?'✓ 已选择':'点击选择'}</div>\n      </div>\n    `}),t+=`\n        </div>\n        \n        <div class="detection-actions">\n          <button class="detection-action-btn" id="detection-start-btn" ${0===s.size?'disabled':''}>\n            🔍 开始侦测\n          </button>\n          <button class="detection-action-btn detection-remove-btn" id="detection-remove-btn" ${0===s.size?'disabled':''}>\n            🗑️ 删除侦测数据\n          </button>\n        </div>\n      </div>\n    </div>\n  `,t}(t)),e.innerHTML=v,'detection'===l&&function(n){console.log('🔧 初始化侦测页面事件，当前选中对象:',s);const t=n.querySelectorAll('.detection-result-item');t.forEach(n=>{n.addEventListener('click',function(n){n.stopPropagation();const t=this.querySelector('.detection-result-data');t&&t.classList.toggle('expanded')})});const e=n.querySelectorAll('.detection-target-item');console.log('🎯 找到目标卡片数量:',e.length),e.forEach(t=>{t.addEventListener('click',function(t){t.stopPropagation();const e=this.getAttribute('data-target-name');if(console.log('👆 点击了卡片:',e),e){if(s.has(e))s.delete(e),console.log('➖ 取消选择:',e);else{if(s.size>=3)return void alert('建议最多选择3个对象进行侦测');s.add(e),console.log('➕ 添加选择:',e)}console.log('📊 更新后的选中对象:',s),a&&p(n,a)}})});const i=n.getElementById('detection-clear-all');i&&i.addEventListener('click',t=>{t.stopPropagation(),console.log('🗑️ 清空所有选择'),s.clear(),a&&p(n,a)});const o=n.querySelectorAll('.detection-display-item-remove');o.forEach(t=>{t.addEventListener('click',function(t){t.stopPropagation();const e=this.getAttribute('data-remove-target');console.log('❌ 移除单个对象:',e),e&&s.has(e)&&(s.delete(e),a&&p(n,a))})});const l=n.getElementById('detection-start-btn');l&&l.addEventListener('click',()=>{if(0===s.size)return;const n=Array.from(s);let t='对以下对象进行详细身体数据侦测：\n\n';n.forEach((e,i)=>{t+=`【${e}】\n`,t+=`请侦测以下部位并将结果保存到变量 侦测数据.${e}（每个部位描述后用换行符分割）：\n`,t+='1. 整体情况\n',t+='2. 神情\n',t+='3. 嘴部\n',t+='4. 胸部\n',t+='5. 乳头\n',t+='6. 乳晕\n',t+='7. 屁股\n',t+='8. 小穴\n',t+='9. 屁眼\n\n',t+='执行命令示例：\n',t+=`_.set('侦测数据.${e}[0]', '侦测数据', '整体情况：...\\n神情：...\\n嘴部：...\\n胸部：...\\n乳头：...\\n乳晕：...\\n屁股：...\\n小穴：...\\n屁眼：...')`,i<n.length-1&&(t+='\n\n---\n\n')}),u(t)});const c=n.getElementById('detection-remove-btn');c&&c.addEventListener('click',()=>{if(0===s.size)return;const t=Array.from(s);let e='删除以下对象的侦测数据：\n\n';t.forEach(n=>{e+=`_.remove('侦测数据', '${n}')\n`}),u(e),s.clear(),a&&p(n,a)})}(n)}function u(n){try{const t=(parent.document||document).querySelector('#send_textarea');if(!t)throw new Error('未找到输入框');''!==t.value.trim()?t.value+='\n\n'+n:t.value=n,t.focus(),console.log('✅ 命令已填充到输入框')}catch(t){alert('未能自动找到输入框，请手动复制命令：\n\n'+n),console.error('填充命令失败:',t)}}!function n(t){'undefined'!=typeof jQuery||'undefined'!=typeof $?(console.log('✅ jQuery 已就绪'),t()):(console.log('⏳ 等待 jQuery...'),setTimeout(()=>n(t),100))}(()=>{$(()=>{console.log('✅ 开始初始化江畔夜总会状态栏'),r()})}),console.log('✅ 江畔夜总会状态栏插件脚本加载完成');const b=!0,h=t.d;export{h as __initialized__};
//# sourceMappingURL=index.js.map