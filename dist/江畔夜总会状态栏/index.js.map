{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/webpack/runtime/define property getters","src://tavern_helper_template/webpack/runtime/hasOwnProperty shorthand","src://tavern_helper_template/src/江畔夜总会状态栏/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// ==================== 江畔夜总会状态栏 ====================\n// 使用 TypeScript + 原生实现（不使用 Vue，参考掌上公寓的实现方式）\n// 版本：规范化重构版\n\nconsole.log('🌙 加载江畔夜总会状态栏插件...');\n\n// ==================== 类型定义 ====================\ninterface NightclubData {\n  时间信息?: {\n    当前日期?: string;\n    当前时间?: string;\n    星期?: string;\n    营业状态?: string;\n  };\n  地点信息?: {\n    当前位置?: string;\n  };\n  夜总会经营?: {\n    在职员工数?: number | string;\n    VIP客户数?: number | string;\n    待处理订单?: Array<{\n      委托人?: string;\n      需求类型?: string;\n      具体要求?: string;\n      截止日期?: string;\n      [key: string]: any;\n    }>;\n  };\n  工坊培养对象?: {\n    当前培养人数?: number | string;\n    培养列表?: Array<{\n      姓名?: string;\n      编号?: string;\n      基本信息?: {\n        年龄?: number | string;\n        原始外貌?: string;\n        来源?: string;\n      };\n      培养进度?: number | string;\n      定制信息?: {\n        对应订单?: string;\n        目标形象?: string;\n        特殊要求?: string;\n      };\n      备注?: string[];\n    }>;\n  };\n  已归档?: {\n    总数?: number | string;\n    档案列表?: Array<{\n      姓名?: string;\n      艺名?: string;\n      简述?: string;\n      [key: string]: any;\n    }>;\n  };\n  侦测数据?: {\n    [key: string]: string;\n  };\n}\n\n// ==================== 样式定义 ====================\n/* eslint-disable */\nconst styles = `\n<style id=\"nightclub-plugin-styles\">\n:root {\n  --nightclub-primary: #e94560;\n  --nightclub-secondary: #0f3460;\n  --nightclub-bg-dark: #16213e;\n  --nightclub-bg-mid: #1a2332;\n  --nightclub-bg-light: #2a3447;\n  --nightclub-text-light: #e4e7eb;\n  --nightclub-text-dim: #a0a8b5;\n}\n\n/* ==================== 拖动按钮 */\n.nightclub-toggle-btn {\n  position: fixed !important;\n  top: 100px;\n  left: 20px;\n  width: 64px;\n  height: 64px;\n  background: linear-gradient(135deg, #e94560 0%, #c8365a 100%);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: grab;\n  z-index: 10000 !important;\n  box-shadow: 0 4px 12px rgba(233, 69, 96, 0.4);\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: none;\n  font-size: 28px;\n  border: 3px solid rgba(255, 255, 255, 0.3);\n  /* 只对 transform 和 box-shadow 添加过渡，不影响拖动 */\n  transition: transform 0.2s, box-shadow 0.2s, opacity 0.2s;\n}\n\n.nightclub-toggle-btn:hover {\n  transform: scale(1.05);\n}\n\n.nightclub-toggle-btn.dragging {\n  cursor: grabbing !important;\n  opacity: 0.9;\n  z-index: 10001 !important;\n  /* 拖动时完全禁用过渡 */\n  transition: none !important;\n}\n\n/* ==================== 主面板容器 */\n.nightclub-main-panel {\n  position: fixed !important;\n  top: 50vh !important;\n  left: 50vw !important;\n  transform: translate(-50%, -50%) !important;\n  width: 90vw !important;\n  max-width: 800px !important;\n  height: 85vh !important;\n  max-height: 600px !important;\n  background: var(--nightclub-bg-dark);\n  background: linear-gradient(135deg, var(--nightclub-bg-dark) 0%, var(--nightclub-bg-mid) 100%);\n  border: 2px solid var(--nightclub-primary);\n  border-radius: 12px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\n  z-index: 9999 !important;\n  display: none;\n  flex-direction: column;\n  overflow: hidden;\n  color: var(--nightclub-text-light);\n  font-family: 'Microsoft YaHei', 'Segoe UI', sans-serif;\n}\n\n.nightclub-main-panel.active {\n  display: flex;\n}\n\n.nightclub-main-panel.dragging {\n  transition: none !important;\n}\n\n/* ==================== 头部 */\n.nightclub-header {\n  flex-shrink: 0;\n  padding: 16px 20px;\n  background: var(--nightclub-primary);\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: 600;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  cursor: move;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  transition: opacity 0.2s;\n  touch-action: none !important;\n}\n\n.nightclub-header.dragging {\n  opacity: 0.8;\n  cursor: grabbing !important;\n  transition: none !important;\n}\n\n/* ==================== 标签页导航 */\n.nightclub-tabs {\n  display: flex;\n  flex-shrink: 0;\n  border-bottom: 2px solid rgba(255, 255, 255, 0.1);\n}\n\n.nightclub-tab {\n  flex: 1;\n  padding: 12px 16px;\n  background: transparent;\n  border: none;\n  color: rgba(255, 255, 255, 0.6);\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.3s;\n  border-bottom: 2px solid transparent;\n  text-align: center;\n}\n\n.nightclub-tab:hover {\n  background: rgba(255, 255, 255, 0.05);\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.nightclub-tab.active {\n  color: var(--nightclub-primary);\n  border-bottom-color: var(--nightclub-primary);\n}\n\n.nightclub-tab-badge {\n  display: inline-block;\n  margin-left: 6px;\n  padding: 2px 6px;\n  background: var(--nightclub-primary);\n  border-radius: 10px;\n  font-size: 11px;\n  font-weight: 700;\n}\n\n.nightclub-header-left {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.nightclub-header-title {\n  font-size: 18px;\n}\n\n.nightclub-header-subtitle {\n  font-size: 12px;\n  opacity: 0.9;\n}\n\n.nightclub-close-btn {\n  background: transparent;\n  border: none;\n  color: white;\n  font-size: 32px;\n  cursor: pointer;\n  line-height: 1;\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: transform 0.2s;\n}\n\n.nightclub-close-btn:hover {\n  transform: scale(1.1);\n}\n\n/* ==================== 内容区域 */\n.nightclub-content {\n     flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n}\n\n.nightclub-content::-webkit-scrollbar {\n  width: 8px;\n}\n\n.nightclub-content::-webkit-scrollbar-track {\n  background: rgba(255, 255, 255, 0.05);\n}\n\n.nightclub-content::-webkit-scrollbar-thumb {\n  background: var(--nightclub-primary);\n  border-radius: 4px;\n}\n\n/* ==================== 卡片样式 */\n.nightclub-card {\n  background: var(--nightclub-bg-light);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  margin-bottom: 16px;\n  overflow: hidden;\n}\n\n.nightclub-card-title {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 16px;\n  background: rgba(233, 69, 96, 0.2);\n  font-weight: 600;\n  font-size: 16px;\n}\n\n.nightclub-card-content {\n  padding: 16px;\n}\n\n.nightclub-info-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n}\n\n.nightclub-info-row:last-child {\n  border-bottom: none;\n}\n\n.nightclub-info-label {\n  color: var(--nightclub-text-dim);\n  font-size: 14px;\n}\n\n.nightclub-info-value {\n  color: var(--nightclub-text-light);\n  font-weight: 500;\n  text-align: right;\n}\n\n/* ==================== 进度条 */\n.nightclub-progress-bar {\n  width: 100%;\n  height: 8px;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 4px;\n  overflow: hidden;\n  margin-top: 8px;\n}\n\n.nightclub-progress-fill {\n  height: 100%;\n  background: linear-gradient(90deg, #e94560 0%, #ff6b81 100%);\n  border-radius: 4px;\n  transition: width 0.3s;\n}\n\n/* ==================== 培养对象列表 */\n.nightclub-trainee-item {\n  background: rgba(255, 255, 255, 0.03);\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  border-radius: 8px;\n  padding: 12px;\n  margin-bottom: 12px;\n  transition: all 0.3s;\n}\n\n.nightclub-trainee-item:hover {\n  border-color: var(--nightclub-primary);\n  background: rgba(233, 69, 96, 0.1);\n  transform: translateX(4px);\n}\n\n.nightclub-trainee-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.nightclub-trainee-name {\n  font-weight: 600;\n  font-size: 15px;\n  color: var(--nightclub-primary);\n}\n\n.nightclub-trainee-status {\n  font-size: 12px;\n  color: var(--nightclub-text-dim);\n}\n\n/* ==================== 归档艺人 */\n.nightclub-archived-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  gap: 12px;\n}\n\n.nightclub-archived-item {\n  background: rgba(255, 255, 255, 0.03);\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  border-radius: 8px;\n  padding: 12px;\n  text-align: center;\n  transition: all 0.3s;\n}\n\n.nightclub-archived-item:hover {\n  border-color: var(--nightclub-primary);\n  transform: translateY(-2px);\n}\n\n.nightclub-archived-name {\n  font-weight: 600;\n  margin-bottom: 4px;\n}\n\n.nightclub-archived-type {\n  font-size: 12px;\n  color: var(--nightclub-text-dim);\n}\n\n/* 归档艺人简述样式 */\n.archived-description {\n  padding: 8px 0;\n  line-height: 1.6;\n}\n\n.archived-description-label {\n  font-size: 14px;\n  font-weight: 700;\n  color: var(--nightclub-primary);\n  margin-right: 4px;\n}\n\n.archived-description-text {\n  font-size: 14px;\n  color: var(--nightclub-text-light);\n  line-height: 1.6;\n}\n\n/* ==================== 空状态 */\n.nightclub-empty {\n  text-align: center;\n  padding: 40px 20px;\n  color: var(--nightclub-text-dim);\n}\n\n.nightclub-empty-icon {\n  font-size: 48px;\n  margin-bottom: 12px;\n  opacity: 0.5;\n}\n\n.nightclub-empty-text {\n  font-size: 14px;\n}\n\n/* ==================== 加载状态 */\n.nightclub-loading {\n  text-align: center;\n  padding: 40px;\n  color: var(--nightclub-text-dim);\n}\n\n.nightclub-loading-icon {\n  font-size: 32px;\n  margin-bottom: 12px;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n/* ==================== 对象侦测页面 */\n.detection-current-display {\n  margin-bottom: 16px;\n}\n\n.detection-display-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  background: rgba(255, 255, 255, 0.15);\n  border-radius: 8px 8px 0 0;\n}\n\n.detection-display-title {\n  font-weight: 600;\n  font-size: 14px;\n}\n\n/* 侦测结果显示框 */\n.detection-results-display {\n  background: rgba(76, 175, 80, 0.1);\n  border: 1px solid rgba(76, 175, 80, 0.3);\n  border-radius: 8px;\n  margin-bottom: 16px;\n  overflow: hidden;\n}\n\n.detection-results-header {\n  padding: 12px 16px;\n  background: rgba(76, 175, 80, 0.2);\n}\n\n.detection-results-title {\n  font-weight: 600;\n  font-size: 14px;\n  color: #4caf50;\n}\n\n.detection-results-content {\n  padding: 12px;\n  max-height: 300px;\n  overflow-y: auto;\n}\n\n.detection-result-item {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 6px;\n  padding: 10px;\n  margin-bottom: 8px;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.detection-result-item:hover {\n  background: rgba(255, 255, 255, 0.08);\n  border-color: rgba(76, 175, 80, 0.5);\n  transform: translateX(2px);\n}\n\n.detection-result-item:last-child {\n  margin-bottom: 0;\n}\n\n.detection-result-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.detection-result-name {\n  font-weight: 600;\n  color: #4caf50;\n}\n\n.detection-result-toggle {\n  font-size: 12px;\n  color: var(--nightclub-text-dim);\n}\n\n.detection-result-toggle:hover {\n  color: var(--nightclub-text-light);\n}\n\n.detection-result-data {\n  display: grid;\n  grid-template-rows: 0fr;\n  transition: grid-template-rows 0.3s ease;\n  overflow: hidden;\n}\n\n.detection-result-data.expanded {\n  grid-template-rows: 1fr;\n}\n\n.detection-result-data-inner {\n  min-height: 0;\n  padding-top: 8px;\n  margin-top: 8px;\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  font-size: 13px;\n  line-height: 1.8;\n  white-space: pre-wrap;\n}\n\n.detection-results-empty {\n  text-align: center;\n  padding: 24px;\n  color: var(--nightclub-text-dim);\n  font-style: italic;\n}\n\n.detection-display-content {\n  padding: 12px;\n  min-height: 80px;\n  max-height: 200px;\n  overflow-y: auto;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 0 0 8px 8px;\n}\n\n.detection-display-empty {\n  text-align: center;\n  padding: 20px;\n  color: var(--nightclub-text-dim);\n  font-size: 13px;\n}\n\n.detection-display-item {\n  background: rgba(255, 255, 255, 0.08);\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  border-radius: 6px;\n  padding: 10px;\n  margin-bottom: 8px;\n}\n\n.detection-display-item:last-child {\n  margin-bottom: 0;\n}\n\n.detection-display-item-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 6px;\n}\n\n.detection-display-item-name {\n  font-weight: 600;\n  color: var(--nightclub-primary);\n}\n\n.detection-display-item-category {\n  font-size: 12px;\n  padding: 2px 8px;\n  background: rgba(255, 255, 255, 0.25);\n  border-radius: 4px;\n  color: white;\n  white-space: nowrap;\n}\n\n.detection-display-item-remove {\n  background: transparent;\n  border: none;\n  color: rgba(255, 255, 255, 0.6);\n  font-size: 20px;\n  cursor: pointer;\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.detection-display-item-remove:hover {\n  color: var(--nightclub-primary);\n  transform: scale(1.2);\n}\n\n.detection-display-item-info {\n  font-size: 12px;\n  color: var(--nightclub-text-dim);\n  line-height: 1.4;\n}\n\n.detection-description {\n  padding: 12px 16px;\n  background: rgba(255, 193, 7, 0.1);\n  border-left: 3px solid rgba(255, 193, 7, 0.5);\n  border-radius: 4px;\n  margin-bottom: 16px;\n  font-size: 13px;\n  line-height: 1.6;\n  color: var(--nightclub-text-light);\n}\n\n.detection-clear-btn {\n  background: rgba(255, 69, 58, 0.2);\n  border: 1px solid rgba(255, 69, 58, 0.5);\n  color: #ff453a;\n  padding: 4px 12px;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.detection-clear-btn:hover {\n  background: rgba(255, 69, 58, 0.3);\n}\n\n.detection-targets-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 12px;\n  margin-bottom: 16px;\n}\n\n.detection-target-item {\n  background: rgba(255, 255, 255, 0.05);\n  border: 2px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  padding: 12px;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.detection-target-item:hover {\n  background: rgba(255, 255, 255, 0.08);\n  border-color: rgba(233, 69, 96, 0.6);\n  transform: translateY(-2px);\n}\n\n.detection-target-item.selected {\n  background: rgba(233, 69, 96, 0.2);\n  border-color: var(--nightclub-primary);\n}\n\n.detection-target-item.detected {\n  background: rgba(255, 215, 0, 0.15);\n  border-color: rgba(255, 215, 0, 0.5);\n  cursor: not-allowed;\n  opacity: 0.8;\n}\n\n.detection-target-item.detected:hover {\n  transform: none;\n  border-color: rgba(255, 215, 0, 0.5);\n}\n\n.detection-target-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.detection-target-name {\n  font-weight: 600;\n  color: var(--nightclub-text-light);\n}\n\n.detection-target-category {\n  font-size: 11px;\n  padding: 2px 6px;\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n}\n\n.detection-target-info {\n  font-size: 12px;\n  color: var(--nightclub-text-dim);\n  margin-bottom: 8px;\n}\n\n.detection-target-status {\n  font-size: 12px;\n  color: var(--nightclub-primary);\n  text-align: center;\n  padding: 4px;\n  background: rgba(233, 69, 96, 0.1);\n  border-radius: 4px;\n}\n\n.detection-actions {\n  display: flex;\n  gap: 12px;\n  justify-content: center;\n}\n\n.detection-action-btn {\n  flex: 1;\n  max-width: 250px;\n  padding: 12px 24px;\n  background: var(--nightclub-primary);\n  border: none;\n  border-radius: 8px;\n  color: white;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.detection-action-btn:hover:not(:disabled) {\n  background: #c8365a;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(233, 69, 96, 0.4);\n}\n\n.detection-action-btn:disabled {\n  background: #555;\n  cursor: not-allowed;\n  opacity: 0.4;\n}\n\n.detection-action-btn.detection-remove-btn {\n  background: #444;\n}\n\n.detection-action-btn.detection-remove-btn:hover:not(:disabled) {\n  background: #666;\n}\n\n/* ==================== 移动端适配 */\n@media (max-width: 768px) {\n  .nightclub-main-panel {\n    width: 95vw;\n    height: 90vh;\n  }\n\n  .nightclub-toggle-btn {\n    width: 56px;\n    height: 56px;\n    font-size: 24px;\n  }\n\n  .nightclub-tab {\n    font-size: 11px;\n    padding: 10px 8px;\n  }\n\n  .detection-targets-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  /* 确保按钮可交互 */\n  .nightclub-toggle-btn {\n    pointer-events: auto;\n    z-index: 10002;\n  }\n}\n\n/* 竖屏优化 */\n@media (max-width: 480px) and (orientation: portrait) {\n  .nightclub-main-panel {\n    width: 100vw;\n    height: 100vh;\n    max-width: none;\n    max-height: none;\n    border-radius: 0;\n    border: none;\n  }\n\n  .nightclub-toggle-btn {\n    width: 50px;\n    height: 50px;\n    font-size: 22px;\n  }\n\n  .nightclub-tab {\n    font-size: 10px;\n    padding: 8px 4px;\n  }\n\n  /* 确保按钮在小屏幕下也能正常工作 */\n  .nightclub-toggle-btn {\n    z-index: 10002;\n  }\n\n  .detection-targets-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n/* 横屏优化 */\n@media (max-height: 600px) and (orientation: landscape) {\n  .nightclub-main-panel {\n    height: 95vh;\n    max-height: none;\n  }\n\n  .nightclub-content {\n    padding: 10px;\n  }\n}\n\n/* ==================== 全局移动端优化 */\n/* 防止双击缩放 */\n* {\n  touch-action: manipulation;\n}\n\n/* 允许按钮完全控制触摸行为 */\n.nightclub-toggle-btn {\n  touch-action: none !important;\n}\n\n/* 移除触摸高亮 */\n* {\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n\n/* 优化滚动体验（iOS 平滑滚动）*/\n.nightclub-content {\n  -webkit-overflow-scrolling: touch;\n}\n\n/* 移动端字体优化 */\nbody {\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n\n/* 支持刘海屏等安全区域 - 仅在小屏幕应用 */\n@supports (padding: max(0px)) {\n  @media (max-width: 480px) {\n    .nightclub-main-panel {\n      padding-top: max(0px, env(safe-area-inset-top));\n      padding-bottom: max(0px, env(safe-area-inset-bottom));\n      padding-left: max(0px, env(safe-area-inset-left));\n      padding-right: max(0px, env(safe-area-inset-right));\n    }\n  }\n}\n\n/* 移除所有按钮和可交互元素的焦点框 */\nbutton:focus,\n  button:active,\n.nightclub-toggle-btn:focus,\n.nightclub-toggle-btn:active,\n.nightclub-close-btn:focus,\n.nightclub-close-btn:active,\n.nightclub-trainee-item:focus,\n.nightclub-trainee-item:active {\n  outline: none;\n  outline-color: transparent;\n}\n  </style>\n`;\n/* eslint-enable */\n\n// ==================== HTML 结构 ====================\nconst html = `\n<!-- 拖动按钮 -->\n<div id=\"nightclub-toggle-btn\" class=\"nightclub-toggle-btn\">\n  <span>🌙</span>\n</div>\n\n<!-- 主面板 -->\n<div id=\"nightclub-main-panel\" class=\"nightclub-main-panel\">\n  <div class=\"nightclub-header\">\n    <div class=\"nightclub-header-left\">\n      <div class=\"nightclub-header-title\">🌙 江畔夜总会</div>\n      <div class=\"nightclub-header-subtitle\" id=\"nightclub-time-display\">加载中...</div>\n    </div>\n    <button class=\"nightclub-close-btn\" id=\"nightclub-close-btn\">×</button>\n  </div>\n  \n  <!-- 标签页导航 -->\n  <div class=\"nightclub-tabs\">\n    <button class=\"nightclub-tab active\" data-page=\"club\">\n      🏢 会所状态\n    </button>\n    <button class=\"nightclub-tab\" data-page=\"workshop\">\n      🏭 工坊状态<span class=\"nightclub-tab-badge\" id=\"tab-badge-workshop\">0</span>\n    </button>\n    <button class=\"nightclub-tab\" data-page=\"trainees\">\n      👥 培养对象<span class=\"nightclub-tab-badge\" id=\"tab-badge-trainees\">0</span>\n    </button>\n    <button class=\"nightclub-tab\" data-page=\"archived\">\n      📁 已归档<span class=\"nightclub-tab-badge\" id=\"tab-badge-archived\">0</span>\n    </button>\n    <button class=\"nightclub-tab\" data-page=\"detection\">\n      🔍 对象侦测<span class=\"nightclub-tab-badge\" id=\"tab-badge-detection\">0</span>\n    </button>\n  </div>\n  \n  <div class=\"nightclub-content\" id=\"nightclub-content\">\n    <div class=\"nightclub-loading\">\n      <div class=\"nightclub-loading-icon\">⏳</div>\n      <div>正在加载数据...</div>\n    </div>\n  </div>\n</div>\n`;\n\n// ==================== 全局变量 ====================\nlet btnDragData: {\n  startX: number;\n  startY: number;\n  initialLeft: number;\n  initialTop: number;\n} | null = null;\nlet panelDragData: {\n  startX: number;\n  startY: number;\n  initialLeft: number;\n  initialTop: number;\n} | null = null;\nlet cachedMVUData: any = null;\nconst MAX_RETRIES = 5;\nconst RETRY_DELAY = 400;\nlet currentRetry = 0;\nlet currentPage: 'club' | 'workshop' | 'trainees' | 'archived' | 'detection' = 'club'; // 当前页面\nconst selectedDetectionTargets: Set<string> = new Set(); // 选中的侦测对象\n\n// ==================== 工具函数 ====================\nfunction safeGet(data: any, path: string, defaultValue: string = '未知'): string {\n  if (!data) return defaultValue;\n  const keys = path.split('.');\n  let current = data;\n  for (const key of keys) {\n    if (current === undefined || current === null || typeof current !== 'object') {\n      return defaultValue;\n    }\n    current = current[key];\n  }\n  if (current === undefined || current === null) return defaultValue;\n  return String(current) === '' ? defaultValue : String(current);\n}\n\n// ==================== 初始化函数 ====================\nfunction initializeNightclubPlugin(): void {\n  console.log('🚀 初始化江畔夜总会状态栏插件...');\n\n  // 获取目标文档（添加错误处理，防止跨域问题）\n  let targetDoc: Document;\n  try {\n    targetDoc = window.top ? window.top.document : document;\n  } catch (e) {\n    console.warn('⚠️ 无法访问 window.top，使用当前 document');\n    targetDoc = document;\n  }\n\n  // 检查是否已存在\n  if (targetDoc.getElementById('nightclub-toggle-btn')) {\n    console.log('⚠️ 江畔夜总会状态栏已存在，先移除旧的');\n    targetDoc.getElementById('nightclub-toggle-btn')?.remove();\n    targetDoc.getElementById('nightclub-main-panel')?.remove();\n    targetDoc.getElementById('nightclub-plugin-styles')?.remove();\n    // 清理事件\n    $(targetDoc).off('.nightclub-plugin');\n  }\n\n  // 注入样式\n  if (!targetDoc.getElementById('nightclub-plugin-styles')) {\n    targetDoc.head.insertAdjacentHTML('beforeend', styles);\n    console.log('✅ 样式已注入');\n  }\n\n  // 注入 HTML\n  targetDoc.body.insertAdjacentHTML('beforeend', html);\n  console.log('✅ HTML 已注入');\n\n  // 从 localStorage 恢复按钮位置\n  const btn = targetDoc.getElementById('nightclub-toggle-btn');\n  if (btn) {\n    try {\n      const saved = localStorage.getItem('nightclub-btn-position');\n      if (saved) {\n        const pos = JSON.parse(saved);\n        btn.style.left = pos.left + 'px';\n        btn.style.top = pos.top + 'px';\n        console.log('📍 恢复按钮位置:', pos);\n      }\n    } catch (e) {\n      console.warn('⚠️ 恢复按钮位置失败');\n    }\n  }\n\n  // 初始化按钮拖动功能\n  initializeButtonDrag(targetDoc);\n\n  // 初始化面板功能\n  initializePanelSystem(targetDoc);\n\n  console.log('✅ 江畔夜总会状态栏插件初始化完成！');\n}\n\n// ==================== 按钮拖动功能 ====================\nfunction initializeButtonDrag(targetDoc: Document): void {\n  const btn = targetDoc.getElementById('nightclub-toggle-btn');\n  const panel = targetDoc.getElementById('nightclub-main-panel');\n  const $targetDoc = $(targetDoc);\n\n  // 拖动开始\n  function handleBtnDragStart(clientX: number, clientY: number): boolean {\n    if (btnDragData) return false;\n\n    const computedStyle = window.getComputedStyle(btn!);\n    const currentLeft = parseInt(computedStyle.left) || 0;\n    const currentTop = parseInt(computedStyle.top) || 0;\n\n    btnDragData = {\n      startX: clientX,\n      startY: clientY,\n      initialLeft: currentLeft,\n      initialTop: currentTop,\n    };\n\n    btn!.classList.add('dragging');\n    console.log('🖱️ 开始拖动按钮');\n    return true;\n  }\n\n  // 拖动移动\n  function handleBtnDragMove(clientX: number, clientY: number): void {\n    if (!btnDragData) return;\n\n    const deltaX = clientX - btnDragData.startX;\n    const deltaY = clientY - btnDragData.startY;\n\n    let newLeft = btnDragData.initialLeft + deltaX;\n    let newTop = btnDragData.initialTop + deltaY;\n\n    // 限制范围\n    const targetWindow = window.top || window;\n    const maxX = $(targetWindow).width()! - 80;\n    const maxY = $(targetWindow).height()! - 80;\n\n    newLeft = Math.max(0, Math.min(newLeft, maxX));\n    newTop = Math.max(0, Math.min(newTop, maxY));\n\n    btn!.style.left = newLeft + 'px';\n    btn!.style.top = newTop + 'px';\n  }\n\n  // 拖动结束\n  function handleBtnDragEnd(clientX: number, clientY: number): void {\n    if (!btnDragData) return;\n\n    btn!.classList.remove('dragging');\n\n    // 计算拖动距离\n    const deltaX = clientX - btnDragData.startX;\n    const deltaY = clientY - btnDragData.startY;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n\n    // 保存位置\n    const computedStyle = window.getComputedStyle(btn!);\n    const currentLeft = parseInt(computedStyle.left) || 0;\n    const currentTop = parseInt(computedStyle.top) || 0;\n\n    const position = {\n      left: currentLeft,\n      top: currentTop,\n    };\n\n    localStorage.setItem('nightclub-btn-position', JSON.stringify(position));\n    console.log('✅ 按钮拖动结束，保存位置:', position);\n\n    btnDragData = null;\n\n    // 如果是点击（移动距离小于5像素），打开/关闭面板\n    if (distance < 5) {\n      console.log('🎨 检测到点击，切换面板');\n      panel!.classList.toggle('active');\n      // 打开面板时加载数据\n      if (panel!.classList.contains('active')) {\n        currentRetry = 0; // 重置重试计数器\n        loadNightclubData(targetDoc);\n      }\n    }\n  }\n\n  // 绑定事件\n  $(btn!).on('mousedown.nightclub-plugin', function (e) {\n    if (handleBtnDragStart(e.clientX, e.clientY)) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  });\n\n  $(btn!).on('touchstart.nightclub-plugin', function (e) {\n    const touch = e.originalEvent!.touches[0];\n    if (handleBtnDragStart(touch.clientX, touch.clientY)) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  });\n\n  $targetDoc.on('mousemove.nightclub-plugin', function (e) {\n    handleBtnDragMove(e.clientX, e.clientY);\n    if (btnDragData) e.preventDefault();\n  });\n\n  $targetDoc.on('touchmove.nightclub-plugin', function (e) {\n    const touch = e.originalEvent!.touches[0];\n    handleBtnDragMove(touch.clientX, touch.clientY);\n    if (btnDragData) e.preventDefault();\n  });\n\n  $targetDoc.on('mouseup.nightclub-plugin', function (e) {\n    handleBtnDragEnd(e.clientX, e.clientY);\n  });\n\n  $targetDoc.on('touchend.nightclub-plugin touchcancel.nightclub-plugin', function (e) {\n    const touch = e.originalEvent!.changedTouches[0];\n    if (touch) {\n      handleBtnDragEnd(touch.clientX, touch.clientY);\n    } else {\n      handleBtnDragEnd(0, 0);\n    }\n  });\n\n  console.log('✅ 按钮拖动功能已初始化');\n}\n\n// ==================== 面板拖动 ====================\nfunction initializePanelDrag(targetDoc: Document): void {\n  const panel = $('#nightclub-main-panel', targetDoc)[0];\n  const header = $('.nightclub-header', targetDoc)[0];\n  const $targetDoc = $(targetDoc);\n\n  if (!panel || !header) {\n    console.error('❌ 面板或头部元素未找到');\n    return;\n  }\n\n  function handlePanelDragStart(clientX: number, clientY: number): void {\n    console.log('🖱️ 开始拖动面板');\n    const rect = panel!.getBoundingClientRect();\n    \n    // 移除 transform 并设置新的 left/top (使用 important 覆盖)\n    panel!.style.setProperty('transform', 'none', 'important');\n    panel!.style.setProperty('left', `${rect.left}px`, 'important');\n    panel!.style.setProperty('top', `${rect.top}px`, 'important');\n    \n    panelDragData = {\n      startX: clientX,\n      startY: clientY,\n      initialLeft: rect.left,\n      initialTop: rect.top,\n    };\n    $(panel!).addClass('dragging');\n    $(header!).addClass('dragging');\n    console.log('✅ 面板拖动数据已设置:', panelDragData);\n  }\n\n  function handlePanelDragMove(clientX: number, clientY: number): void {\n    if (!panelDragData) return;\n\n    const deltaX = clientX - panelDragData.startX;\n    const deltaY = clientY - panelDragData.startY;\n    const newLeft = panelDragData.initialLeft + deltaX;\n    const newTop = panelDragData.initialTop + deltaY;\n\n    console.log(`📍 移动面板: deltaX=${deltaX}, deltaY=${deltaY}, newLeft=${newLeft}, newTop=${newTop}`);\n    \n    panel!.style.setProperty('left', `${newLeft}px`, 'important');\n    panel!.style.setProperty('top', `${newTop}px`, 'important');\n  }\n\n  function handlePanelDragEnd(): void {\n    console.log('🖱️ 面板拖动结束');\n    if (panelDragData) {\n      // 保存位置\n      const rect = panel!.getBoundingClientRect();\n      const savedPosition = {\n        left: rect.left,\n        top: rect.top,\n      };\n      localStorage.setItem('nightclub-panel-position', JSON.stringify(savedPosition));\n      console.log('✅ 面板拖动结束，保存位置:', savedPosition);\n    }\n\n    panelDragData = null;\n    $(panel!).removeClass('dragging');\n    $(header!).removeClass('dragging');\n  }\n\n  // 鼠标事件\n  $(header!).on('mousedown.nightclub-panel-drag', function (e) {\n    // 如果点击的是关闭按钮，不开始拖动\n    if ($(e.target).closest('#nightclub-close-btn').length > 0) {\n      console.log('⚠️ 点击了关闭按钮，跳过拖动');\n      return;\n    }\n    e.preventDefault();\n    handlePanelDragStart(e.clientX, e.clientY);\n  });\n\n  $targetDoc.on('mousemove.nightclub-panel-drag', function (e) {\n    handlePanelDragMove(e.clientX, e.clientY);\n  });\n\n  $targetDoc.on('mouseup.nightclub-panel-drag', function () {\n    handlePanelDragEnd();\n  });\n\n  // 触摸事件\n  $(header!).on('touchstart.nightclub-panel-drag', function (e) {\n    // 如果点击的是关闭按钮，不开始拖动\n    if ($(e.target).closest('#nightclub-close-btn').length > 0) {\n      console.log('⚠️ 触摸了关闭按钮，跳过拖动');\n      return;\n    }\n    const touch = e.originalEvent!.touches[0];\n    if (touch) {\n      e.preventDefault();\n      handlePanelDragStart(touch.clientX, touch.clientY);\n    }\n  });\n\n  $targetDoc.on('touchmove.nightclub-panel-drag', function (e) {\n    const touch = e.originalEvent!.touches[0];\n    if (touch) {\n      handlePanelDragMove(touch.clientX, touch.clientY);\n    }\n  });\n\n  $targetDoc.on('touchend.nightclub-panel-drag touchcancel.nightclub-panel-drag', function () {\n    handlePanelDragEnd();\n  });\n\n  // 恢复保存的位置\n  const savedPos = localStorage.getItem('nightclub-panel-position');\n  if (savedPos) {\n    try {\n      const pos = JSON.parse(savedPos);\n      panel!.style.setProperty('transform', 'none', 'important');\n      panel!.style.setProperty('left', `${pos.left}px`, 'important');\n      panel!.style.setProperty('top', `${pos.top}px`, 'important');\n      console.log('✅ 已恢复面板位置:', pos);\n    } catch (e) {\n      console.error('❌ 恢复面板位置失败:', e);\n    }\n  }\n\n  console.log('✅ 面板拖动功能已初始化');\n}\n\n// ==================== 面板系统 ====================\nfunction initializePanelSystem(targetDoc: Document): void {\n  const closeBtn = targetDoc.getElementById('nightclub-close-btn');\n  if (closeBtn) {\n    closeBtn.addEventListener('click', e => {\n      e.stopPropagation(); // 防止触发拖动\n      const panel = targetDoc.getElementById('nightclub-main-panel');\n      if (panel) {\n        panel.classList.remove('active');\n      }\n    });\n  }\n\n  // 初始化标签页切换\n  initializeTabSwitching(targetDoc);\n\n  // 初始化面板拖动\n  initializePanelDrag(targetDoc);\n\n  console.log('✅ 面板系统已初始化');\n}\n\n// ==================== 标签页切换 ====================\nfunction initializeTabSwitching(targetDoc: Document): void {\n  const tabs = targetDoc.querySelectorAll('.nightclub-tab');\n\n  tabs.forEach(tab => {\n    tab.addEventListener('click', function (e) {\n      e.stopPropagation(); // 防止触发拖动\n\n      const page = (this as HTMLElement).getAttribute('data-page') as\n        | 'club'\n        | 'workshop'\n        | 'trainees'\n        | 'archived'\n        | 'detection';\n      if (!page) return;\n\n      // 更新当前页面\n      currentPage = page;\n\n      // 更新标签状态\n      tabs.forEach(t => t.classList.remove('active'));\n      this.classList.add('active');\n\n      // 重新渲染当前页面内容\n      if (cachedMVUData) {\n        renderNightclubData(targetDoc, cachedMVUData);\n      }\n\n      console.log('📄 切换到页面:', page);\n    });\n  });\n\n  console.log('✅ 标签页切换已初始化');\n}\n\n// ==================== 面板拖动功能（已禁用） ====================\n// function initializePanelDrag(targetDoc: Document): void {\n//   面板拖动功能已移除，专注于按钮拖动优化\n// }\n\n// togglePanel 函数已移除，面板切换现在直接在按钮拖动结束时处理\n\n// ==================== 数据加载 ====================\nasync function loadNightclubData(targetDoc: Document): Promise<void> {\n  try {\n    // 检查 MVU 是否可用（改进版，更健壮）\n    if (typeof Mvu === 'undefined') {\n      // 尝试从父窗口获取（添加错误处理）\n      try {\n        if (window.parent && typeof (window.parent as any).Mvu !== 'undefined') {\n          (window as any).Mvu = (window.parent as any).Mvu;\n          console.log('✅ 已从父窗口引用 MVU');\n        } else {\n          throw new Error('父窗口中也没有 MVU');\n        }\n      } catch (e) {\n        console.warn('⚠️ MVU 框架未加载或无法访问父窗口');\n        if (currentRetry < MAX_RETRIES) {\n          currentRetry++;\n          console.log(`🔄 第 ${currentRetry}/${MAX_RETRIES} 次重试加载 MVU...`);\n          setTimeout(() => loadNightclubData(targetDoc), RETRY_DELAY);\n        } else {\n          showError(targetDoc, 'MVU 框架未加载，请确保已安装酒馆助手并启用 MVU 框架');\n        }\n        return;\n      }\n    }\n\n    // 获取最新消息的 MVU 数据\n    const mvuResult = Mvu.getMvuData({\n      type: 'message',\n      message_id: 'latest',\n    });\n\n    const data = mvuResult?.stat_data;\n\n    if (!data) {\n      console.warn('⚠️ MVU 数据为空');\n      if (currentRetry < MAX_RETRIES) {\n        currentRetry++;\n        setTimeout(() => loadNightclubData(targetDoc), RETRY_DELAY);\n      } else {\n        showError(targetDoc, '未能加载数据');\n      }\n      return;\n    }\n\n    cachedMVUData = data;\n    console.log('✅ 数据加载成功', data);\n\n    // 渲染数据\n    renderNightclubData(targetDoc, data);\n  } catch (error) {\n    console.error('❌ 加载数据出错:', error);\n    showError(targetDoc, '加载出错: ' + (error as Error).message);\n  }\n}\n\nfunction showError(targetDoc: Document, message: string): void {\n  const contentDiv = targetDoc.getElementById('nightclub-content');\n  if (contentDiv) {\n    contentDiv.innerHTML = `\n      <div class=\"nightclub-empty\">\n        <div class=\"nightclub-empty-icon\">⚠️</div>\n        <div class=\"nightclub-empty-text\">${message}</div>\n      </div>\n    `;\n  }\n}\n\n// ==================== 数据渲染 ====================\nfunction renderNightclubData(targetDoc: Document, data: NightclubData): void {\n  const contentDiv = targetDoc.getElementById('nightclub-content');\n  const timeDisplay = targetDoc.getElementById('nightclub-time-display');\n\n  if (!contentDiv) return;\n\n  // 更新时间显示\n  if (timeDisplay && data.时间信息) {\n    const dateText = safeGet(data, '时间信息.当前日期', '');\n    const timeText = safeGet(data, '时间信息.当前时间', '');\n    const statusText = safeGet(data, '时间信息.营业状态', '');\n    const locationText = safeGet(data, '地点信息.当前位置', '');\n    timeDisplay.textContent = `${dateText} ${timeText} | ${statusText}${locationText ? ` | ${locationText}` : ''}`;\n  }\n\n  // 更新标签徽章\n  const ordersCount = data.夜总会经营?.待处理订单?.length || 0;\n  const traineesCount = data.工坊培养对象?.培养列表?.length || 0;\n  const archivedCount = data.已归档?.档案列表?.length || 0;\n  const detectionCount = data.侦测数据 ? Object.keys(data.侦测数据).length : 0;\n\n  const workshopBadge = targetDoc.getElementById('tab-badge-workshop');\n  const traineesBadge = targetDoc.getElementById('tab-badge-trainees');\n  const archivedBadge = targetDoc.getElementById('tab-badge-archived');\n  const detectionBadge = targetDoc.getElementById('tab-badge-detection');\n\n  if (workshopBadge) workshopBadge.textContent = String(ordersCount);\n  if (traineesBadge) traineesBadge.textContent = String(traineesCount);\n  if (archivedBadge) archivedBadge.textContent = String(archivedCount);\n  if (detectionBadge) detectionBadge.textContent = String(detectionCount);\n\n  // 构建 HTML\n  let html = '';\n\n  // 根据当前页面渲染不同内容\n  if (currentPage === 'club') {\n    // ========== 会所状态页面 ==========\n    html += renderClubPage(data);\n  } else if (currentPage === 'workshop') {\n    // ========== 工坊状态页面 ==========\n    html += renderWorkshopPage(data);\n  } else if (currentPage === 'trainees') {\n    // ========== 培养对象页面 ==========\n    html += renderTraineesPage(data);\n  } else if (currentPage === 'archived') {\n    // ========== 已归档页面 ==========\n    html += renderArchivedPage(data);\n  } else if (currentPage === 'detection') {\n    // ========== 对象侦测页面 ==========\n    html += renderDetectionPage(data);\n  }\n\n  contentDiv.innerHTML = html;\n\n  // 如果是侦测页面，需要绑定事件\n  if (currentPage === 'detection') {\n    initializeDetectionEvents(targetDoc);\n  }\n}\n\n// ==================== 渲染会所状态页面 ====================\nfunction renderClubPage(data: NightclubData): string {\n  let html = '';\n\n  // 经营状况\n  if (data.夜总会经营) {\n    html += `\n      <div class=\"nightclub-card\">\n        <div class=\"nightclub-card-title\">\n          <span>💼</span>\n          <span>经营状况</span>\n        </div>\n        <div class=\"nightclub-card-content\">\n          <div class=\"nightclub-info-row\">\n            <span class=\"nightclub-info-label\">VIP客户</span>\n            <span class=\"nightclub-info-value\">${safeGet(data, '夜总会经营.VIP客户数', '0')} 人</span>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  // 地上各区域状态（预留接口）\n  html += `\n    <div class=\"nightclub-card\">\n      <div class=\"nightclub-card-title\">\n        <span>🏢</span>\n        <span>地上区域</span>\n      </div>\n      <div class=\"nightclub-card-content\">\n          <div class=\"nightclub-info-row\">\n          <span class=\"nightclub-info-label\">酒水吧台</span>\n          <span class=\"nightclub-info-value\">正常营业</span>\n          </div>\n        <div class=\"nightclub-info-row\">\n          <span class=\"nightclub-info-label\">豪华舞厅</span>\n          <span class=\"nightclub-info-value\">正常营业</span>\n        </div>\n        <div class=\"nightclub-info-row\">\n          <span class=\"nightclub-info-label\">KTV包厢</span>\n          <span class=\"nightclub-info-value\">正常营业</span>\n        </div>\n        <div class=\"nightclub-info-row\">\n          <span class=\"nightclub-info-label\">VIP休息室</span>\n          <span class=\"nightclub-info-value\">正常营业</span>\n        </div>\n        </div>\n      </div>\n    `;\n\n  return html;\n}\n\n// ==================== 渲染工坊状态页面 ====================\nfunction renderWorkshopPage(data: NightclubData): string {\n  let html = '';\n\n  // 地下各区域状态\n  html += `\n    <div class=\"nightclub-card\">\n      <div class=\"nightclub-card-title\">\n        <span>🏭</span>\n        <span>地下区域</span>\n      </div>\n      <div class=\"nightclub-card-content\">\n        <div class=\"nightclub-info-row\">\n          <span class=\"nightclub-info-label\">基础培训中心</span>\n          <span class=\"nightclub-info-value\">运行中</span>\n        </div>\n        <div class=\"nightclub-info-row\">\n          <span class=\"nightclub-info-label\">形体塑造中心</span>\n          <span class=\"nightclub-info-value\">运行中</span>\n        </div>\n        <div class=\"nightclub-info-row\">\n          <span class=\"nightclub-info-label\">保养护理中心</span>\n          <span class=\"nightclub-info-value\">运行中</span>\n        </div>\n        <div class=\"nightclub-info-row\">\n          <span class=\"nightclub-info-label\">当前培养人数</span>\n          <span class=\"nightclub-info-value\">${data.工坊培养对象?.当前培养人数 || 0} 人</span>\n        </div>\n      </div>\n    </div>\n  `;\n\n  // 待处理订单详情\n  if (data.夜总会经营?.待处理订单 && data.夜总会经营.待处理订单.length > 0) {\n    const orders = data.夜总会经营.待处理订单;\n    html += `\n      <div class=\"nightclub-card\">\n        <div class=\"nightclub-card-title\">\n          <span>📋</span>\n          <span>订单详情 (${orders.length})</span>\n        </div>\n        <div class=\"nightclub-card-content\">\n    `;\n\n    orders.forEach(order => {\n      const client = order.委托人 || '未知委托人';\n      const type = order.需求类型 || '';\n      const requirements = order.具体要求 || '';\n      const deadline = order.截止日期 || '';\n\n      html += `\n        <div class=\"nightclub-trainee-item\">\n          <div class=\"nightclub-trainee-header\">\n            <span class=\"nightclub-trainee-name\">${client}</span>\n          </div>\n          ${\n            type\n              ? `\n          <div class=\"nightclub-info-row\">\n            <span class=\"nightclub-info-label\">需求类型</span>\n            <span class=\"nightclub-info-value\">${type}</span>\n          </div>`\n              : ''\n          }\n          ${\n            requirements\n              ? `\n          <div class=\"nightclub-info-row\">\n            <span class=\"nightclub-info-label\">具体要求</span>\n            <span class=\"nightclub-info-value\">${requirements}</span>\n          </div>`\n              : ''\n          }\n          ${\n            deadline\n              ? `\n          <div class=\"nightclub-info-row\">\n            <span class=\"nightclub-info-label\">截止日期</span>\n            <span class=\"nightclub-info-value\">${deadline}</span>\n          </div>`\n              : ''\n          }\n        </div>\n      `;\n    });\n\n    html += `\n        </div>\n      </div>\n    `;\n  } else {\n    html += `\n      <div class=\"nightclub-empty\">\n        <div class=\"nightclub-empty-icon\">📭</div>\n        <div class=\"nightclub-empty-text\">暂无待处理订单</div>\n      </div>\n    `;\n  }\n\n  return html;\n}\n\n// ==================== 渲染培养对象页面 ====================\nfunction renderTraineesPage(data: NightclubData): string {\n  let html = '';\n\n  if (data.工坊培养对象) {\n    const trainees = data.工坊培养对象.培养列表 || [];\n\n    if (trainees.length === 0) {\n      html += `\n          <div class=\"nightclub-empty\">\n            <div class=\"nightclub-empty-icon\">📭</div>\n            <div class=\"nightclub-empty-text\">暂无培养对象</div>\n          </div>\n      `;\n    } else {\n      html += `\n        <div class=\"nightclub-card\">\n          <div class=\"nightclub-card-title\">\n            <span>👥</span>\n            <span>工坊培养对象 (${trainees.length})</span>\n          </div>\n          <div class=\"nightclub-card-content\">\n      `;\n\n      trainees.forEach(trainee => {\n        const name = trainee.姓名 || '未知';\n        const age = trainee.基本信息?.年龄 || '';\n        const origin = trainee.基本信息?.来源 || '';\n        const appearance = trainee.基本信息?.原始外貌 || '';\n        const progress = typeof trainee.培养进度 === 'number' ? trainee.培养进度 : trainee.培养进度 || '0';\n        const order = trainee.定制信息?.对应订单 || '无';\n        const target = trainee.定制信息?.目标形象 || '未定';\n        const requirements = trainee.定制信息?.特殊要求 || '';\n\n        html += `\n          <div class=\"nightclub-trainee-item\">\n            <div class=\"nightclub-trainee-header\">\n              <span class=\"nightclub-trainee-name\">${name}</span>\n            </div>\n            <div class=\"nightclub-info-row\">\n              <span class=\"nightclub-info-label\">年龄 / 来源</span>\n              <span class=\"nightclub-info-value\">${age}岁 / ${origin}</span>\n            </div>\n            ${\n              appearance\n                ? `\n            <div class=\"nightclub-info-row\">\n              <span class=\"nightclub-info-label\">原始外貌</span>\n              <span class=\"nightclub-info-value\">${appearance}</span>\n            </div>`\n                : ''\n            }\n            <div class=\"nightclub-info-row\">\n              <span class=\"nightclub-info-label\">培养进度</span>\n              <span class=\"nightclub-info-value\">${progress}%</span>\n            </div>\n            <div class=\"nightclub-progress-bar\">\n              <div class=\"nightclub-progress-fill\" style=\"width: ${progress}%\"></div>\n            </div>\n            <div class=\"nightclub-info-row\">\n              <span class=\"nightclub-info-label\">对应订单</span>\n              <span class=\"nightclub-info-value\">${order}</span>\n            </div>\n            <div class=\"nightclub-info-row\">\n              <span class=\"nightclub-info-label\">目标形象</span>\n              <span class=\"nightclub-info-value\">${target}</span>\n            </div>\n            ${\n              requirements\n                ? `\n            <div class=\"nightclub-info-row\">\n              <span class=\"nightclub-info-label\">特殊要求</span>\n              <span class=\"nightclub-info-value\">${requirements}</span>\n            </div>`\n                : ''\n            }\n          </div>\n        `;\n      });\n\n      html += `\n        </div>\n      </div>\n    `;\n    }\n  }\n\n  return html;\n}\n\n// ==================== 渲染已归档页面 ====================\nfunction renderArchivedPage(data: NightclubData): string {\n  let html = '';\n\n  if (data.已归档) {\n    const archived = data.已归档.档案列表 || [];\n\n    if (archived.length === 0) {\n      html += `\n          <div class=\"nightclub-empty\">\n            <div class=\"nightclub-empty-icon\">📭</div>\n            <div class=\"nightclub-empty-text\">暂无归档艺人</div>\n          </div>\n      `;\n    } else {\n      html += `\n        <div class=\"nightclub-card\">\n          <div class=\"nightclub-card-title\">\n            <span>📁</span>\n            <span>已归档 (${archived.length})</span>\n          </div>\n          <div class=\"nightclub-card-content\">\n      `;\n\n      archived.forEach(artist => {\n        const realName = artist.姓名 || '';\n        const stageName = artist.艺名 || '未知';\n        const description = artist.简述 || '';\n\n        html += `\n          <div class=\"nightclub-trainee-item\">\n            <div class=\"nightclub-trainee-header\">\n              <span class=\"nightclub-trainee-name\">${stageName}${realName ? ` (${realName})` : ''}</span>\n            </div>\n            ${\n              description\n                ? `\n            <div class=\"archived-description\">\n              <span class=\"archived-description-label\">简述：</span><span class=\"archived-description-text\">${description}</span>\n            </div>`\n                : ''\n            }\n          </div>\n        `;\n      });\n\n      html += `\n          </div>\n          </div>\n        `;\n    }\n  }\n\n  return html;\n}\n\n// ==================== 渲染对象侦测页面 ====================\nfunction renderDetectionPage(data: NightclubData): string {\n  let html = '';\n\n  // 获取已有的侦测数据\n  const detectionData = data.侦测数据 || {};\n  const detectionCount = Object.keys(detectionData).length;\n\n  // 辅助函数：将 \\n 转换为 <br>\n  const formatDetectionText = (text: string): string => {\n    return text.replace(/\\\\n/g, '<br>').replace(/\\n/g, '<br>');\n  };\n\n  // 收集所有可侦测的角色\n  const availableTargets: Array<{ name: string; category: string; info: string }> = [];\n\n  // 添加培养对象\n  if (data.工坊培养对象?.培养列表) {\n    data.工坊培养对象.培养列表.forEach(trainee => {\n      if (trainee.姓名) {\n        availableTargets.push({\n          name: trainee.姓名,\n          category: '培养对象',\n          info: `编号: ${trainee.编号 || '未知'} | 培养进度: ${trainee.培养进度 || '0'}%`,\n        });\n      }\n    });\n  }\n\n  // 添加已归档对象\n  if (data.已归档?.档案列表) {\n    data.已归档.档案列表.forEach(artist => {\n      if (artist.艺名) {\n        availableTargets.push({\n          name: artist.艺名,\n          category: '已归档',\n          info: artist.简述 || '暂无简述',\n        });\n      }\n    });\n  }\n\n  // 添加云舒和云卷\n  availableTargets.push(\n    { name: '云舒', category: '管理层', info: '会所管理者 | 地上业务负责人' },\n    { name: '云卷', category: '管理层', info: '工坊管理者 | 地下业务负责人' },\n  );\n\n  html += `\n    <div class=\"nightclub-card\">\n      <div class=\"nightclub-card-title\">\n        <span>🔍</span>\n        <span>对象侦测</span>\n        </div>\n      <div class=\"nightclub-card-content\">\n        <!-- 已有侦测结果显示框 -->\n        <div class=\"detection-results-display\">\n          <div class=\"detection-results-header\">\n            <span class=\"detection-results-title\">📊 侦测结果 (${detectionCount})</span>\n          </div>\n          <div class=\"detection-results-content\">\n            ${\n              detectionCount === 0\n                ? `<div class=\"detection-results-empty\">暂无侦测数据</div>`\n                : Object.entries(detectionData)\n                    .map(([name, detectionText]) => {\n                      const escapedName = name.replace(/'/g, \"\\\\'\");\n                      const formattedText = formatDetectionText(detectionText);\n                      return `\n                      <div class=\"detection-result-item\" data-detection-target=\"${escapedName}\">\n                        <div class=\"detection-result-header\">\n                          <span class=\"detection-result-name\">${name}</span>\n                          <span class=\"detection-result-toggle\">点击展开/收起</span>\n                        </div>\n                        <div class=\"detection-result-data\">\n                          <div class=\"detection-result-data-inner\">${formattedText}</div>\n                        </div>\n                      </div>\n                    `;\n                    })\n                    .join('')\n            }\n          </div>\n        </div>\n        \n        <!-- 当前选中对象显示框 -->\n        <div class=\"detection-current-display\">\n          <div class=\"detection-display-header\">\n            <span class=\"detection-display-title\">📋 当前选中对象 (${selectedDetectionTargets.size}/3)</span>\n            ${\n              selectedDetectionTargets.size > 0\n                ? `<button class=\"detection-clear-btn\" id=\"detection-clear-all\">清空</button>`\n                : ''\n            }\n          </div>\n          <div class=\"detection-display-content\">\n            ${\n              selectedDetectionTargets.size === 0\n                ? `<div class=\"detection-display-empty\">暂未选择任何对象，请从下方列表中选择</div>`\n                : Array.from(selectedDetectionTargets)\n                    .map(targetName => {\n                      const target = availableTargets.find(t => t.name === targetName);\n                      if (!target) return '';\n                      return `\n                      <div class=\"detection-display-item\">\n                        <div class=\"detection-display-item-header\">\n                          <span class=\"detection-display-item-name\">${target.name}</span>\n                          <span class=\"detection-display-item-category\">${target.category}</span>\n                          <button class=\"detection-display-item-remove\" data-remove-target=\"${target.name}\">×</button>\n                        </div>\n      </div>\n    `;\n                    })\n                    .join('')\n            }\n          </div>\n        </div>\n        \n        <div class=\"detection-description\">\n          💡 提示：点击下方卡片选择对象（建议3个以下），侦测将包括：整体情况、神情、嘴部、胸部、乳头、乳晕、屁股、小穴、屁眼等详细数据\n        </div>\n        \n        <div class=\"detection-targets-grid\">\n  `;\n\n  availableTargets.forEach(target => {\n    const isSelected = selectedDetectionTargets.has(target.name);\n    const hasDetectionData = detectionData.hasOwnProperty(target.name);\n    const statusClass = hasDetectionData ? 'detected' : isSelected ? 'selected' : '';\n    const statusText = hasDetectionData ? '🔍 已侦测' : isSelected ? '✓ 已选择' : '点击选择';\n\n    html += `\n      <div class=\"detection-target-item ${statusClass}\" data-target-name=\"${target.name}\" ${hasDetectionData ? 'data-detected=\"true\"' : ''}>\n        <div class=\"detection-target-header\">\n          <span class=\"detection-target-name\">${target.name}</span>\n          <span class=\"detection-target-category\">${target.category}</span>\n        </div>\n        <div class=\"detection-target-status\">${statusText}</div>\n      </div>\n    `;\n  });\n\n  html += `\n        </div>\n        \n        <div class=\"detection-actions\">\n          <button class=\"detection-action-btn\" id=\"detection-start-btn\" ${selectedDetectionTargets.size === 0 ? 'disabled' : ''}>\n            🔍 开始侦测\n          </button>\n          <button class=\"detection-action-btn detection-remove-btn\" id=\"detection-remove-btn\" ${detectionCount === 0 ? 'disabled' : ''}>\n            🗑️ 删除侦测数据\n          </button>\n        </div>\n      </div>\n    </div>\n  `;\n\n  return html;\n}\n\n// ==================== 初始化侦测页面事件 ====================\nfunction initializeDetectionEvents(targetDoc: Document): void {\n  console.log('🔧 初始化侦测页面事件，当前选中对象:', selectedDetectionTargets);\n\n  // 侦测结果展开/收起事件\n  const resultItems = targetDoc.querySelectorAll('.detection-result-item');\n  resultItems.forEach(item => {\n    item.addEventListener('click', function (e) {\n      e.stopPropagation();\n      const dataElement = (this as HTMLElement).querySelector('.detection-result-data');\n      if (dataElement) {\n        dataElement.classList.toggle('expanded');\n      }\n    });\n  });\n\n  // 目标选择事件\n  const targetItems = targetDoc.querySelectorAll('.detection-target-item');\n  console.log('🎯 找到目标卡片数量:', targetItems.length);\n  targetItems.forEach(item => {\n    item.addEventListener('click', function (e) {\n      e.stopPropagation();\n\n      // 检查是否已有侦测数据，如果有则不响应点击\n      const isDetected = (this as HTMLElement).getAttribute('data-detected') === 'true';\n      if (isDetected) {\n        console.log('⚠️ 该对象已有侦测数据，无法选择');\n        return;\n      }\n\n      const targetName = (this as HTMLElement).getAttribute('data-target-name');\n      console.log('👆 点击了卡片:', targetName);\n      if (!targetName) return;\n\n      if (selectedDetectionTargets.has(targetName)) {\n        selectedDetectionTargets.delete(targetName);\n        console.log('➖ 取消选择:', targetName);\n      } else {\n        if (selectedDetectionTargets.size >= 3) {\n          alert('建议最多选择3个对象进行侦测');\n          return;\n        }\n        selectedDetectionTargets.add(targetName);\n        console.log('➕ 添加选择:', targetName);\n      }\n\n      console.log('📊 更新后的选中对象:', selectedDetectionTargets);\n      // 重新渲染页面\n      if (cachedMVUData) {\n        renderNightclubData(targetDoc, cachedMVUData);\n      }\n    });\n  });\n\n  // 清空选择按钮\n  const clearAllBtn = targetDoc.getElementById('detection-clear-all');\n  if (clearAllBtn) {\n    clearAllBtn.addEventListener('click', e => {\n      e.stopPropagation();\n      console.log('🗑️ 清空所有选择');\n      selectedDetectionTargets.clear();\n      if (cachedMVUData) {\n        renderNightclubData(targetDoc, cachedMVUData);\n      }\n    });\n  }\n\n  // 移除单个对象按钮\n  const removeButtons = targetDoc.querySelectorAll('.detection-display-item-remove');\n  removeButtons.forEach(btn => {\n    btn.addEventListener('click', function (e) {\n      e.stopPropagation();\n      const targetName = (this as HTMLElement).getAttribute('data-remove-target');\n      console.log('❌ 移除单个对象:', targetName);\n      if (targetName && selectedDetectionTargets.has(targetName)) {\n        selectedDetectionTargets.delete(targetName);\n        if (cachedMVUData) {\n          renderNightclubData(targetDoc, cachedMVUData);\n        }\n      }\n    });\n  });\n\n  // 开始侦测按钮\n  const startBtn = targetDoc.getElementById('detection-start-btn');\n  if (startBtn) {\n    startBtn.addEventListener('click', () => {\n      if (selectedDetectionTargets.size === 0) return;\n\n      const targets = Array.from(selectedDetectionTargets);\n      let command = `request: 本回合不要输出正文内容！！！\\n\\n对以下对象进行详细身体数据侦测：`;\n\n      targets.forEach((target, index) => {\n        command += `【${target}】`;\n        if (index < targets.length - 1) {\n          command += `、`;\n        }\n      });\n\n      command += `\\n\\n请侦测以下部位（每个部位描述后用换行符分割）：1. 整体情况 2. 神情 3. 嘴部 4. 胸部 5. 乳头 6. 乳晕 7. 屁股 8. 小穴 9. 屁眼`;\n\n      fillCommand(command);\n    });\n  }\n\n  // 删除侦测数据按钮\n  const removeBtn = targetDoc.getElementById('detection-remove-btn');\n  if (removeBtn) {\n    removeBtn.addEventListener('click', () => {\n      // 获取所有已侦测的对象\n      const detectionData = cachedMVUData?.侦测数据 || {};\n      const detectedTargets = Object.keys(detectionData);\n\n      if (detectedTargets.length === 0) return;\n\n      let command = `删除以下对象的侦测数据：\\n\\n`;\n\n      detectedTargets.forEach(target => {\n        command += `_.remove('侦测数据', '${target}')\\n`;\n      });\n\n      fillCommand(command);\n\n      // 不立即清空选择和重新渲染，等下回合检测到数据被删除后再清理\n    });\n  }\n}\n\n// 填充命令到输入框\nfunction fillCommand(command: string): void {\n  try {\n    const chatInput = (parent.document || document).querySelector('#send_textarea') as HTMLTextAreaElement;\n    if (chatInput) {\n      if (chatInput.value.trim() !== '') {\n        chatInput.value += '\\n\\n' + command;\n      } else {\n        chatInput.value = command;\n      }\n      chatInput.focus();\n      console.log('✅ 命令已填充到输入框');\n    } else {\n      throw new Error('未找到输入框');\n    }\n  } catch (e) {\n    alert('未能自动找到输入框，请手动复制命令：\\n\\n' + command);\n    console.error('填充命令失败:', e);\n  }\n}\n\n// ==================== 启动脚本 ====================\n// 等待 jQuery 加载完成\nfunction waitForJQuery(callback: () => void): void {\n  if (typeof jQuery !== 'undefined' || typeof $ !== 'undefined') {\n    console.log('✅ jQuery 已就绪');\n    callback();\n  } else {\n    console.log('⏳ 等待 jQuery...');\n    setTimeout(() => waitForJQuery(callback), 100);\n  }\n}\n\n// 使用 jQuery 的方式初始化（符合项目规范，不使用 DOMContentLoaded）\nwaitForJQuery(() => {\n  $(() => {\n    console.log('✅ 开始初始化江畔夜总会状态栏');\n    initializeNightclubPlugin();\n  });\n});\n\nconsole.log('✅ 江畔夜总会状态栏插件脚本加载完成');\n\n// 导出一个值以使其成为合法的ES Module，支持通过import语句加载\nexport const __initialized__ = true;\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","console","log","btnDragData","panelDragData","cachedMVUData","currentRetry","currentPage","selectedDetectionTargets","Set","safeGet","data","path","defaultValue","keys","split","current","String","initializeNightclubPlugin","targetDoc","window","top","document","e","warn","getElementById","remove","$","off","head","insertAdjacentHTML","body","btn","saved","localStorage","getItem","pos","JSON","parse","style","left","panel","$targetDoc","handleBtnDragStart","clientX","clientY","computedStyle","getComputedStyle","currentLeft","parseInt","currentTop","startX","startY","initialLeft","initialTop","classList","add","handleBtnDragMove","deltaX","deltaY","newLeft","newTop","targetWindow","maxX","width","maxY","height","Math","max","min","handleBtnDragEnd","distance","sqrt","position","setItem","stringify","toggle","contains","loadNightclubData","on","preventDefault","stopPropagation","touch","originalEvent","touches","changedTouches","initializeButtonDrag","closeBtn","addEventListener","tabs","querySelectorAll","forEach","tab","page","this","getAttribute","t","renderNightclubData","initializeTabSwitching","header","error","handlePanelDragStart","rect","getBoundingClientRect","setProperty","addClass","handlePanelDragMove","handlePanelDragEnd","savedPosition","removeClass","target","closest","length","savedPos","initializePanelDrag","initializePanelSystem","async","Mvu","parent","Error","setTimeout","showError","mvuResult","getMvuData","type","message_id","stat_data","message","contentDiv","innerHTML","timeDisplay","dateText","timeText","statusText","locationText","textContent","ordersCount","traineesCount","archivedCount","detectionCount","workshopBadge","traineesBadge","archivedBadge","detectionBadge","html","renderClubPage","orders","order","client","requirements","deadline","renderWorkshopPage","trainees","trainee","name","age","origin","appearance","progress","renderTraineesPage","archived","artist","realName","stageName","description","renderArchivedPage","detectionData","formatDetectionText","text","replace","availableTargets","push","category","info","entries","map","detectionText","join","size","Array","from","targetName","find","isSelected","has","hasDetectionData","renderDetectionPage","resultItems","item","dataElement","querySelector","targetItems","delete","alert","clearAllBtn","clear","removeButtons","startBtn","targets","command","index","fillCommand","removeBtn","detectedTargets","initializeDetectionEvents","chatInput","value","trim","focus","waitForJQuery","callback","jQuery","__initialized__"],"sourceRoot":""}