<!doctype html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Á™•ËßÜËÄÖÁªàÁ´Ø</title><script type="module">import{createPinia as e,defineStore as t,storeToRefs as a}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';import{klona as n}from'https://testingcf.jsdelivr.net/npm/klona/+esm';var o={633:(e,t)=>{t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,n]of t)a[e]=n;return a}}},l={};const s=Vue,r=t('peepGame',()=>{const e=(0,s.ref)({world:{day:0,time:'00:00',weekday:'',weather:''},player:{money:0,energy:0,location:'',mode:'monitor'},inventory:{items:[],cameras:{}},tenants:{}}),t=()=>{try{let t=null;if('undefined'!=typeof Mvu){const e=Mvu.getMvuData({type:'message',message_id:'latest'});t=e?.stat_data}else if(window.parent&&void 0!==window.parent.Mvu){const e=window.parent.Mvu.getMvuData({type:'message',message_id:'latest'});t=e?.stat_data}else{const e=getVariables({type:'global'});t=e?.stat_data}t?(t.tenants||(t.tenants={}),Object.keys(t).forEach(e=>{const a=t[e];a&&'object'==typeof a&&a.room&&'tenants'!==e&&(console.warn(`[Á™•ËßÜËÄÖÊó•Â∏∏] ÂèëÁé∞Êï£ËêΩÁöÑ‰∫∫Áâ©Êï∞ÊçÆ: ${e}ÔºåÊ≠£Âú®Â∞ùËØïÂΩí‰Ωç...`),t.tenants[e]=a)}),e.value=n(t),console.info('[Á™•ËßÜËÄÖÊó•Â∏∏] Ê∏∏ÊàèÁä∂ÊÄÅÂ∑≤Âà∑Êñ∞„ÄÇ')):console.warn('[Á™•ËßÜËÄÖÊó•Â∏∏] Êú™ËÉΩËé∑ÂèñÂà∞Ê∏∏ÊàèÊï∞ÊçÆ (stat_data)„ÄÇËØ∑Á°Æ‰øù MVU Â∑≤ËøêË°å‰∏îÂèòÈáèÂ∑≤ÂàùÂßãÂåñ„ÄÇ')}catch(e){console.error('[Á™•ËßÜËÄÖÊó•Â∏∏] Âà∑Êñ∞Ê∏∏ÊàèÁä∂ÊÄÅÊó∂ÂèëÁîüÈîôËØØ:',e)}};return t(),{gameState:e,refreshGameState:t}}),c={class:'modal-header'},i={class:'modal-title'},m={class:'modal-body'},d={class:'feed-overlay'},p={key:0,class:'rec-badge'},f={class:'time-stamp'},u={class:'feed-content'},v={key:0,class:'feed-live'},V={class:'state-large'},N={key:1,class:'feed-offline'},E={key:0,class:'data-panel'},y={class:'data-row'},g={class:'progress-bar'},k={class:'value'},h={class:'data-row'},C={class:'progress-bar'},S={class:'value'},w={key:0,class:'data-row'},b={class:'progress-bar'},B={class:'value'},M={class:'action-panel'},D=['disabled'],I=(0,s.defineComponent)({__name:'MonitorModal',props:{tenant:{}},emits:['close'],setup(e,{emit:t}){const a=e,n=r(),o=(0,s.ref)(null),l=(0,s.computed)(()=>n.gameState.world.time),I=e=>{console.log(`Ëß¶ÂèëÂä®‰Ωú: ${e} ÁõÆÊ†á: ${a.tenant.name}`)};return(0,s.onMounted)(async()=>{if(await(0,s.nextTick)(),o.value){const e=o.value.offsetHeight;console.log('[MonitorModal] Modal content height:',e),'function'==typeof setIframeHeight?(setIframeHeight(e+40),console.log('[MonitorModal] Adjusted iframe height to:',e+40)):console.warn('[MonitorModal] setIframeHeight function not found globally.')}}),(0,s.onUnmounted)(()=>{'function'==typeof setIframeHeight&&(setIframeHeight(),console.log('[MonitorModal] Reset iframe height.'))}),(t,a)=>{return(0,s.openBlock)(),(0,s.createElementBlock)('div',{class:'monitor-modal-overlay',onClick:a[3]||(a[3]=(0,s.withModifiers)(e=>t.$emit('close'),['self']))},[(0,s.createElementVNode)('div',{class:'monitor-modal',ref_key:'modalContentRef',ref:o},[(0,s.createElementVNode)('div',c,[(0,s.createElementVNode)('span',i,'CAM-'+(0,s.toDisplayString)(e.tenant.room)+' : '+(0,s.toDisplayString)(e.tenant.name),1),(0,s.createElementVNode)('button',{class:'close-btn',onClick:a[0]||(a[0]=e=>t.$emit('close'))},'√ó')]),(0,s.createElementVNode)('div',m,[(0,s.createCommentVNode)(' Ê®°ÊãüÁõëÊéßÁîªÈù¢ '),(0,s.createElementVNode)('div',{class:(0,s.normalizeClass)(['video-feed',{offline:!e.tenant.is_home}])},[(0,s.createElementVNode)('div',d,[e.tenant.is_home?((0,s.openBlock)(),(0,s.createElementBlock)('span',p,'‚óè REC')):(0,s.createCommentVNode)('v-if',!0),(0,s.createElementVNode)('span',f,(0,s.toDisplayString)(l.value),1)]),(0,s.createElementVNode)('div',u,[e.tenant.is_home?((0,s.openBlock)(),(0,s.createElementBlock)('div',v,[a[4]||(a[4]=(0,s.createElementVNode)('div',{class:'scan-line'},null,-1)),(0,s.createElementVNode)('p',V,(0,s.toDisplayString)(e.tenant.state),1)])):((0,s.openBlock)(),(0,s.createElementBlock)('div',N,' NO SIGNAL '))])],2),(0,s.createCommentVNode)(' Êï∞ÊçÆÈù¢Êùø '),e.tenant.is_home?((0,s.openBlock)(),(0,s.createElementBlock)('div',E,[(0,s.createElementVNode)('div',y,[a[5]||(a[5]=(0,s.createElementVNode)('label',null,'ÊÑèËØÜ (Consciousness)',-1)),(0,s.createElementVNode)('div',g,[(0,s.createElementVNode)('div',{class:'fill',style:(0,s.normalizeStyle)({width:e.tenant.params.consciousness+'%',background:(n=e.tenant.params.consciousness,n<30?'#ff00ff':n<60?'#ffff00':'#00ff00')})},null,4),(0,s.createElementVNode)('span',k,(0,s.toDisplayString)(e.tenant.params.consciousness)+'%',1)])]),(0,s.createElementVNode)('div',h,[a[6]||(a[6]=(0,s.createElementVNode)('label',null,'Ë≠¶ÊÉï (Alertness)',-1)),(0,s.createElementVNode)('div',C,[(0,s.createElementVNode)('div',{class:'fill alert',style:(0,s.normalizeStyle)({width:e.tenant.params.alertness+'%'})},null,4),(0,s.createElementVNode)('span',S,(0,s.toDisplayString)(e.tenant.params.alertness)+'%',1)])]),void 0!==e.tenant.params.li_qiang_alertness?((0,s.openBlock)(),(0,s.createElementBlock)('div',w,[a[7]||(a[7]=(0,s.createElementVNode)('label',{class:'danger-text'},'‚ö† ÊùéÂº∫Ë≠¶ÊÉïÂ∫¶',-1)),(0,s.createElementVNode)('div',b,[(0,s.createElementVNode)('div',{class:'fill danger',style:(0,s.normalizeStyle)({width:e.tenant.params.li_qiang_alertness+'%'})},null,4),(0,s.createElementVNode)('span',B,(0,s.toDisplayString)(e.tenant.params.li_qiang_alertness)+'%',1)])])):(0,s.createCommentVNode)('v-if',!0)])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' Êìç‰ΩúÊåâÈíÆ '),(0,s.createElementVNode)('div',M,[(0,s.createElementVNode)('button',{class:'action-btn stealth',disabled:!e.tenant.is_home,onClick:a[1]||(a[1]=e=>I('stealth'))},' üëª ÊΩúÂÖ• ',8,D),(0,s.createElementVNode)('button',{class:'action-btn',onClick:a[2]||(a[2]=e=>I('hack'))},' üíª ÈªëÂÖ•ËÆæÂ§á ')])])],512)]);var n}}});var A=function e(t){var a=l[t];if(void 0!==a)return a.exports;var n=l[t]={exports:{}};return o[t](n,n.exports,e),n.exports}(633);const x=(0,A.A)(I,[['__scopeId','data-v-3f2ff97c']]),H={class:'peep-terminal'},T={class:'terminal-header'},O={class:'time-display'},R={class:'resource-display'},j={class:'tenant-list'},F={class:'list-body'},G=['onClick'],L={class:'cell-room'},q={class:'cell-name'},U={class:'cell-status'},P={key:0,class:'cell-risk'},J=(0,s.defineComponent)({__name:'App',setup(e){const t=r(),{gameState:n}=a(t),o=(0,s.ref)(null);return(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',H,[(0,s.createCommentVNode)(' Header '),(0,s.createElementVNode)('header',T,[t[1]||(t[1]=(0,s.createElementVNode)('div',{class:'status-indicator'},'üî¥ LIVE',-1)),(0,s.createElementVNode)('div',O,(0,s.toDisplayString)((0,s.unref)(n).world.time)+' '+(0,s.toDisplayString)((0,s.unref)(n).world.weekday),1),(0,s.createElementVNode)('div',R,[(0,s.createElementVNode)('span',null,'üí∞ '+(0,s.toDisplayString)((0,s.unref)(n).player.money),1),(0,s.createElementVNode)('span',null,'‚ö° '+(0,s.toDisplayString)((0,s.unref)(n).player.energy),1)])]),(0,s.createCommentVNode)(' Tenant List '),(0,s.createElementVNode)('div',j,[t[2]||(t[2]=(0,s.createElementVNode)('div',{class:'list-header'},[(0,s.createElementVNode)('span',null,'ROOM'),(0,s.createElementVNode)('span',null,'TARGET'),(0,s.createElementVNode)('span',null,'STATUS')],-1)),(0,s.createElementVNode)('div',F,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)((0,s.unref)(n).tenants,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:t},['$meta'!==t&&e.name?((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:0,class:(0,s.normalizeClass)(['tenant-row',{offline:!e.is_home}]),onClick:t=>(e=>{o.value=e})(e)},[(0,s.createElementVNode)('span',L,(0,s.toDisplayString)(e.room),1),(0,s.createElementVNode)('span',q,(0,s.toDisplayString)(e.name),1),(0,s.createElementVNode)('span',U,[(0,s.createElementVNode)('span',{class:(0,s.normalizeClass)(['dot',{online:e.is_home}])},'‚óè',2),(0,s.createTextVNode)(' '+(0,s.toDisplayString)(e.is_home?e.state:'OFFLINE'),1)]),e.is_home?((0,s.openBlock)(),(0,s.createElementBlock)('span',P,[(0,s.createCommentVNode)(' ÁÆÄÂçïÁöÑË≠¶ÊÉïÂ∫¶ÊåáÁ§∫Âô® '),(0,s.createElementVNode)('span',{class:'risk-bar',style:(0,s.normalizeStyle)({width:e.params.alertness/2+'px',background:e.params.alertness>50?'red':'orange'})},null,4)])):(0,s.createCommentVNode)('v-if',!0)],10,G)):(0,s.createCommentVNode)('v-if',!0)],64))),128))])]),(0,s.createCommentVNode)(' Footer Hint '),t[3]||(t[3]=(0,s.createElementVNode)('div',{class:'terminal-footer'},' >> ÈÄâÊã©ÁõÆÊ†áÊü•ÁúãËØ¶ÁªÜÁõëÊéß ',-1)),(0,s.createCommentVNode)(' Modal '),o.value?((0,s.openBlock)(),(0,s.createBlock)(x,{key:0,tenant:o.value,onClose:t[0]||(t[0]=e=>o.value=null)},null,8,['tenant'])):(0,s.createCommentVNode)('v-if',!0)]))}}),K=(0,A.A)(J,[['__scopeId','data-v-5a24e2e6']]);$(()=>{const t=document.getElementById('peep-app');if(t){const a=(0,s.createApp)(K),n=e();a.use(n),a.mount(t),console.info('[Á™•ËßÜËÄÖÊó•Â∏∏] VueÂ∫îÁî®Â∑≤ÊåÇËΩΩ');const o=r(n);setInterval(()=>{o.refreshGameState()},1e3)}else console.error('[Á™•ËßÜËÄÖÊó•Â∏∏] Êú™ÊâæÂà∞ÊåÇËΩΩÁÇπ #peep-app')});
//# sourceMappingURL=index.js.map</script><style>.monitor-modal-overlay[data-v-3f2ff97c]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.8);z-index:100;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(2px);overflow-y:auto}.monitor-modal[data-v-3f2ff97c]{background:#0a0a0a;border:1px solid lime;box-shadow:0 0 15px rgba(0,255,0,.2);width:90%;max-width:500px;display:flex;flex-direction:column;max-height:95vh;overflow-y:auto}.modal-header[data-v-3f2ff97c]{flex-shrink:0;padding:10px;background:#020;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #040}.modal-header .modal-title[data-v-3f2ff97c]{color:lime;font-weight:bold}.modal-header .close-btn[data-v-3f2ff97c]{background:none;border:none;color:lime;font-size:1.5rem;cursor:pointer}.modal-header .close-btn[data-v-3f2ff97c]:hover{color:#fff}.modal-body[data-v-3f2ff97c]{flex:1;padding:15px;display:flex;flex-direction:column;gap:15px;overflow-y:auto}.video-feed[data-v-3f2ff97c]{aspect-ratio:16/9;background:#000;position:relative;border:1px solid #333;overflow:hidden;flex-shrink:0}.video-feed.offline[data-v-3f2ff97c]{border-color:#333}.video-feed .feed-overlay[data-v-3f2ff97c]{position:absolute;top:5px;left:5px;right:5px;display:flex;justify-content:space-between;color:lime;font-size:.8rem;z-index:2;text-shadow:0 0 2px #000}.video-feed .rec-badge[data-v-3f2ff97c]{color:red;animation:blink-3f2ff97c 1s infinite}.video-feed .feed-content[data-v-3f2ff97c]{height:100%;display:flex;align-items:center;justify-content:center;color:#0a0;font-family:"Courier New",monospace}.video-feed .state-large[data-v-3f2ff97c]{font-size:1.5rem;font-weight:bold;text-shadow:0 0 5px lime;text-align:center}.video-feed .feed-offline[data-v-3f2ff97c]{font-size:1.5rem;color:#555;font-style:italic}.video-feed .scan-line[data-v-3f2ff97c]{position:absolute;top:0;left:0;width:100%;height:2px;background:rgba(0,255,0,.1);animation:scan-3f2ff97c 3s linear infinite}.data-panel[data-v-3f2ff97c]{display:flex;flex-direction:column;gap:8px;flex-shrink:0}.data-row[data-v-3f2ff97c]{display:flex;align-items:center;gap:10px;font-size:.8rem}.data-row label[data-v-3f2ff97c]{width:100px;color:#888;flex-shrink:0}.data-row label.danger-text[data-v-3f2ff97c]{color:#f44}.data-row .progress-bar[data-v-3f2ff97c]{flex:1;height:12px;background:#222;position:relative;border-radius:6px;overflow:hidden}.data-row .progress-bar .fill[data-v-3f2ff97c]{height:100%;background:lime}.data-row .progress-bar .fill.alert[data-v-3f2ff97c]{background:#fa0}.data-row .progress-bar .fill.danger[data-v-3f2ff97c]{background:red}.data-row .progress-bar .fill[data-v-3f2ff97c]{transition:width .3s ease-in-out}.data-row .progress-bar .value[data-v-3f2ff97c]{position:absolute;right:5px;top:50%;transform:translateY(-50%);font-size:.7rem;color:#fff;text-shadow:0 0 2px #000}.action-panel[data-v-3f2ff97c]{display:flex;gap:10px;margin-top:5px;flex-shrink:0}.action-panel .action-btn[data-v-3f2ff97c]{flex:1;padding:10px;background:#030;color:lime;border:1px solid #060;font-weight:bold;cursor:pointer;transition:all .2s}.action-panel .action-btn[data-v-3f2ff97c]:hover:not(:disabled){background:#050}.action-panel .action-btn[data-v-3f2ff97c]:disabled{background:#222;color:#555;border-color:#333;cursor:not-allowed}.action-panel .action-btn.stealth[data-v-3f2ff97c]{border-color:#a0a;color:#fcf;background:#303}.action-panel .action-btn.stealth[data-v-3f2ff97c]:hover:not(:disabled){background:#505}@keyframes blink-3f2ff97c{50%{opacity:0}}@keyframes scan-3f2ff97c{0%{top:0}100%{top:100%}}
.peep-terminal[data-v-5a24e2e6]{background-color:#0a0a0a;color:lime;font-family:"Consolas",monospace;border:2px solid #333;border-radius:5px;padding:10px;width:100%;box-sizing:border-box;display:flex;flex-direction:column;height:400px}.terminal-header[data-v-5a24e2e6]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #333;padding-bottom:8px;margin-bottom:8px;font-size:.9rem;flex-shrink:0}.status-indicator[data-v-5a24e2e6]{color:red;font-weight:bold}.tenant-list[data-v-5a24e2e6]{flex:1;display:flex;flex-direction:column;overflow:hidden;border:1px solid #222}.list-header[data-v-5a24e2e6]{display:grid;grid-template-columns:60px 100px 1fr 40px;background:#111;padding:5px 10px;font-weight:bold;font-size:.8rem;color:#666;border-bottom:1px solid #333}.list-body[data-v-5a24e2e6]{flex:1;overflow-y:auto}.tenant-row[data-v-5a24e2e6]{display:grid;grid-template-columns:60px 100px 1fr 40px;padding:8px 10px;border-bottom:1px solid #1a1a1a;cursor:pointer;font-size:.9rem;transition:background .1s;align-items:center}.tenant-row[data-v-5a24e2e6]:hover{background:#020;color:#fff}.tenant-row.offline[data-v-5a24e2e6]{color:#444}.tenant-row.offline[data-v-5a24e2e6]:hover{background:#111}.tenant-row .cell-status[data-v-5a24e2e6]{font-size:.8rem;text-transform:uppercase}.tenant-row .dot[data-v-5a24e2e6]{color:#333}.tenant-row .dot.online[data-v-5a24e2e6]{color:red}.tenant-row .dot[data-v-5a24e2e6]{margin-right:3px}.terminal-footer[data-v-5a24e2e6]{margin-top:8px;font-size:.7rem;color:#555;text-align:right}
body{margin:0;padding:0;font-family:"Consolas",monospace;color:lime;background-color:#0a0a0a;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#peep-app{width:100%;box-sizing:border-box}button{font-family:inherit;cursor:pointer;border:none;outline:none}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="peep-app"></div></body></html>