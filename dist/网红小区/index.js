var n={d:(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},o:(n,t)=>Object.prototype.hasOwnProperty.call(n,t)},t={};n.d(t,{d:()=>h}),console.log('ğŸ  åŠ è½½ç½‘çº¢å°åŒºå…¬å¯“ç®¡ç†æ’ä»¶...');let e=null,o=null,a=null;let i=0,r=null,l=!1,s='',d='';function c(n,t,e=''){if(!n)return e;const o=t.split('.');let a=n;for(const n of o){if(null==a)return e;if(Array.isArray(a)&&(a=a[0]),'object'!=typeof a||!Object.prototype.hasOwnProperty.call(a,n))return e;a=a[n]}return Array.isArray(a)?a.length>0?String(a[0]??e):e:null==a?e:String(a)}function g(){let n;console.log('ğŸš€ åˆå§‹åŒ–ç½‘çº¢å°åŒºæ’ä»¶...');try{n=window.top?window.top.document:document}catch(t){console.warn('âš ï¸ æ— æ³•è®¿é—® window.topï¼Œä½¿ç”¨å½“å‰ document'),n=document}n.getElementById('ngq-toggle-btn')&&(console.log('âš ï¸ ç½‘çº¢å°åŒºæ’ä»¶å·²å­˜åœ¨ï¼Œå…ˆç§»é™¤æ—§çš„'),n.getElementById('ngq-toggle-btn')?.remove(),n.getElementById('ngq-main-panel')?.remove(),n.getElementById('ngq-plugin-styles')?.remove(),n.getElementById('ngq-recruitment-modal')?.remove(),n.getElementById('ngq-room-modal')?.remove(),n.getElementById('ngq-renovate-modal')?.remove(),n.getElementById('ngq-functional-input-modal')?.remove(),$(n).off('.ngq-plugin'),l=!1),n.getElementById('ngq-plugin-styles')||(n.head.insertAdjacentHTML('beforeend','\n<style id="ngq-plugin-styles">\n:root {\n  --apt-primary: #ff6b9d;\n  --apt-secondary: #c44569;\n  --apt-bg: #1a1a2e;\n  --apt-card: #16213e;\n  --apt-border: rgba(255, 107, 157, 0.2);\n  --apt-text: #e8eaf6;\n  --apt-dim: #e5e7eb;\n}\n\n/* ==================== æ‹–åŠ¨æŒ‰é’® */\n.ngq-toggle-btn {\n  position: fixed !important;\n  top: 100px;\n  left: 20px;\n  width: 64px;\n  height: 64px;\n  background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: grab;\n  z-index: 10000 !important;\n  box-shadow: 0 6px 20px rgba(255, 107, 157, 0.4);\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: none;\n  font-size: 28px;\n  border: 3px solid rgba(255, 255, 255, 0.3);\n  color: #fff;\n  transition: transform 0.2s, box-shadow 0.2s, opacity 0.2s;\n}\n\n.ngq-toggle-btn:hover {\n  transform: scale(1.05);\n}\n\n.ngq-toggle-btn.dragging {\n  cursor: grabbing !important;\n  opacity: 0.9;\n  z-index: 10001 !important;\n  transition: none !important;\n}\n\n/* ==================== ä¸»é¢æ¿å®¹å™¨ */\n.ngq-main-panel {\n  position: fixed !important;\n  top: 50vh !important;\n  left: 50vw !important;\n  transform: translate(-50%, -50%) !important;\n  width: 90vw !important;\n  max-width: 900px !important;\n  height: 85vh !important;\n  max-height: 650px !important;\n  background: var(--apt-bg);\n  background: linear-gradient(135deg, var(--apt-bg) 0%, #16213e 100%);\n  border: 2px solid var(--apt-primary);\n  border-radius: 16px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\n  z-index: 9999 !important;\n  display: none;\n  flex-direction: column;\n  overflow: hidden;\n  color: var(--apt-text);\n  font-family: \'Microsoft YaHei\', \'Segoe UI\', sans-serif;\n}\n\n.ngq-main-panel.active {\n  display: flex;\n}\n\n.ngq-main-panel.dragging {\n  transition: none !important;\n}\n\n/* ==================== å¤´éƒ¨ */\n.ngq-header {\n  flex-shrink: 0;\n  padding: 16px 20px;\n  background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%);\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: 600;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  cursor: move;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  transition: opacity 0.2s;\n  touch-action: none !important;\n}\n\n.ngq-header.dragging {\n  opacity: 0.8;\n  cursor: grabbing !important;\n  transition: none !important;\n}\n\n.ngq-header-left {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.ngq-header-title {\n  font-size: 18px;\n  font-weight: 700;\n}\n\n.ngq-header-subtitle {\n  font-size: 12px;\n  opacity: 0.9;\n}\n\n.ngq-close-btn {\n  background: transparent;\n  border: none;\n  color: white;\n  font-size: 32px;\n  cursor: pointer;\n  line-height: 1;\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: transform 0.2s;\n}\n\n.ngq-close-btn:hover {\n  transform: scale(1.1);\n}\n\n/* ==================== æ ‡ç­¾é¡µå¯¼èˆª */\n.ngq-tabs {\n  display: flex;\n  flex-shrink: 0;\n  border-bottom: 2px solid rgba(255, 255, 255, 0.1);\n}\n\n.ngq-tab {\n  flex: 1;\n  padding: 12px 16px;\n  background: transparent;\n  border: none;\n  color: rgba(255, 255, 255, 0.6);\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.3s;\n  border-bottom: 2px solid transparent;\n  text-align: center;\n}\n\n.ngq-tab:hover {\n  background: rgba(255, 255, 255, 0.05);\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.ngq-tab.active {\n  color: var(--apt-primary);\n  border-bottom-color: var(--apt-primary);\n}\n\n.ngq-tab-badge {\n  display: inline-block;\n  margin-left: 6px;\n  padding: 2px 6px;\n  background: var(--apt-primary);\n  border-radius: 10px;\n  font-size: 11px;\n  font-weight: 700;\n  color: #fff;\n}\n\n/* ==================== å†…å®¹åŒºåŸŸ */\n.ngq-content {\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n\n.ngq-content::-webkit-scrollbar {\n  width: 8px;\n}\n\n.ngq-content::-webkit-scrollbar-track {\n  background: rgba(255, 255, 255, 0.05);\n}\n\n.ngq-content::-webkit-scrollbar-thumb {\n  background: var(--apt-primary);\n  border-radius: 4px;\n}\n\n/* ==================== å¡ç‰‡æ ·å¼ */\n.ngq-card {\n  background: var(--apt-card);\n  border: 1px solid var(--apt-border);\n  border-radius: 10px;\n  margin-bottom: 16px;\n  overflow: hidden;\n}\n\n.ngq-card-title {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 16px;\n  background: rgba(255, 107, 157, 0.15);\n  font-weight: 600;\n  font-size: 16px;\n}\n\n.ngq-card-body {\n  padding: 16px;\n}\n\n.ngq-info-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n}\n\n.ngq-info-row:last-child {\n  border-bottom: none;\n}\n\n.ngq-info-label {\n  color: var(--apt-dim);\n  font-size: 14px;\n}\n\n.ngq-info-value {\n  color: var(--apt-text);\n  font-weight: 500;\n  text-align: right;\n}\n\n/* ==================== æ¥¼å±‚æ ·å¼ */\n.ngq-floor-level {\n  background: var(--apt-card);\n  border: 1px solid var(--apt-border);\n  border-radius: 12px;\n  padding: 16px;\n  margin-bottom: 16px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);\n}\n\n.ngq-floor-level-title {\n  font-size: 1.1em;\n  font-weight: 600;\n  margin-bottom: 12px;\n  color: var(--apt-text);\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.ngq-floor-grid {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 12px;\n  width: 100%;\n}\n\n.ngq-room-card {\n  border-radius: 10px;\n  padding: 18px 12px;\n  min-height: 90px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  font-weight: 600;\n  font-size: 0.9em;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.ngq-room-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 16px rgba(255, 107, 157, 0.3);\n  border-color: var(--apt-primary);\n}\n\n.ngq-room-card.bedroom {\n  background: linear-gradient(135deg, #592e39 0%, #7a4053 100%);\n}\n\n.ngq-room-card.bedroom.vacant {\n  background: linear-gradient(135deg, rgba(255, 182, 193, 0.6) 0%, rgba(255, 192, 203, 0.7) 100%);\n  border-color: rgba(255, 182, 193, 0.8);\n  backdrop-filter: blur(2px);\n}\n\n.ngq-room-card.empty {\n  background: linear-gradient(135deg, #3d3f47 0%, #4a4f5a 100%);\n  border-color: #5a5f6b;\n  opacity: 0.7;\n}\n\n.ngq-room-card.your {\n  background: linear-gradient(135deg, #2e5266 0%, #3a6d8c 100%);\n  border-color: #5dade2;\n}\n\n/* å…¬å…±å®¢å… - æ¸©é¦¨æ©™è‰² */\n.ngq-room-card.public-lounge {\n  background: linear-gradient(135deg, #d97706 0%, #f59e0b 100%);\n  border-color: #fbbf24;\n}\n\n/* å¥èº«æˆ¿ - æ´»åŠ›ç»¿è‰² */\n.ngq-room-card.public-gym {\n  background: linear-gradient(135deg, #059669 0%, #10b981 100%);\n  border-color: #34d399;\n}\n\n/* æ´—è¡£é—´ - æ¸…æ–°è“è‰² */\n.ngq-room-card.public-laundry {\n  background: linear-gradient(135deg, #0284c7 0%, #0ea5e9 100%);\n  border-color: #38bdf8;\n}\n\n/* ç”¨æˆ·è‡ªå®šä¹‰åŠŸèƒ½æ€§æˆ¿é—´ - åŠé€æ˜ç»¿è‰² */\n.ngq-room-card.custom-functional {\n  background: linear-gradient(135deg, rgba(16, 185, 129, 0.6) 0%, rgba(52, 211, 153, 0.7) 100%);\n  border-color: rgba(52, 211, 153, 0.8);\n  opacity: 0.95;\n}\n\n/* åˆå¹¶æˆ¿é—´ - å æ®åŒå€å®½åº¦ */\n.ngq-room-card.merged {\n  grid-column: span 2;\n}\n\n.ngq-room-name {\n  font-weight: bold;\n  font-size: 0.95em;\n}\n\n.ngq-room-occupant {\n  font-size: 0.75em;\n  color: var(--apt-dim);\n  margin-top: 4px;\n}\n\n/* ==================== ç§Ÿå®¢å¡ç‰‡ */\n.ngq-tenant-card {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid var(--apt-border);\n  border-radius: 8px;\n  padding: 12px;\n  margin-bottom: 12px;\n  transition: all 0.3s;\n  cursor: pointer;\n}\n\n.ngq-tenant-card:hover {\n  border-color: var(--apt-primary);\n  background: rgba(255, 107, 157, 0.1);\n  transform: translateX(4px);\n}\n\n.ngq-tenant-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.ngq-tenant-name {\n  font-weight: 600;\n  font-size: 15px;\n  color: var(--apt-primary);\n}\n\n.ngq-tenant-badge {\n  font-size: 12px;\n  padding: 2px 8px;\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n}\n\n/* ==================== æŒ‰é’® */\n.ngq-btn {\n  padding: 10px 16px;\n  background: var(--apt-primary);\n  color: #fff;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  transition: all 0.3s;\n}\n\n.ngq-btn:hover:not(:disabled) {\n  background: var(--apt-secondary);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(255, 107, 157, 0.3);\n}\n\n.ngq-btn:disabled {\n  background: #555;\n  cursor: not-allowed;\n  opacity: 0.4;\n}\n\n.ngq-actions {\n  display: flex;\n  gap: 10px;\n  margin-top: 12px;\n}\n\n.ngq-management-actions {\n  display: flex;\n  flex-direction: row;\n  gap: 12px;\n  margin-top: 12px;\n}\n\n.ngq-management-actions .ngq-btn {\n  flex: 1;\n  padding: 14px 20px;\n  min-width: 0;\n}\n\n@media (max-width: 768px) and (orientation: portrait) {\n  .ngq-management-actions {\n    flex-direction: column;\n  }\n  \n  .ngq-management-actions .ngq-btn {\n    width: 100%;\n  }\n}\n\n.ngq-tenant-actions {\n  margin-bottom: 16px;\n  text-align: center;\n}\n\n/* ==================== ç©ºçŠ¶æ€ */\n.ngq-empty {\n  text-align: center;\n  padding: 40px 20px;\n  color: var(--apt-dim);\n}\n\n.ngq-empty-icon {\n  font-size: 48px;\n  margin-bottom: 12px;\n  opacity: 0.5;\n}\n\n.ngq-empty-text {\n  font-size: 14px;\n}\n\n/* ==================== æ¨¡æ€æ¡† */\n.ngq-modal-overlay {\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  width: 100vw !important;\n  height: 100vh !important;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(4px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10500 !important;\n  opacity: 1;\n  transition: opacity 0.3s;\n}\n\n.ngq-modal-overlay.hidden {\n  display: none;\n  opacity: 0;\n}\n\n.ngq-modal-content {\n  background: var(--apt-card);\n  color: var(--apt-text);\n  padding: 28px;\n  border-radius: 20px;\n  width: 90%;\n  max-width: 420px;\n  max-height: 80vh;\n  overflow-y: auto;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  border: 2px solid var(--apt-border);\n}\n\n.ngq-modal-title {\n  margin: 0;\n  font-size: 1.4em;\n  font-weight: 700;\n  color: var(--apt-primary);\n}\n\n.ngq-modal-subtitle {\n  color: var(--apt-dim);\n  margin: 0;\n  font-size: 0.95em;\n  line-height: 1.5;\n}\n\n.ngq-modal-input {\n  width: 100%;\n  padding: 12px 16px;\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid var(--apt-border);\n  border-radius: 8px;\n  color: var(--apt-text);\n  font-size: 14px;\n  outline: none;\n  transition: border-color 0.3s;\n}\n\n.ngq-modal-input:focus {\n  border-color: var(--apt-primary);\n}\n\n.ngq-modal-input::placeholder {\n  color: var(--apt-dim);\n}\n\n.ngq-modal-actions {\n  display: flex;\n  gap: 12px;\n}\n\n.ngq-modal-btn {\n  flex: 1;\n  padding: 12px 16px;\n  border: none;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.ngq-modal-btn-confirm {\n  background: var(--apt-primary);\n  color: #fff;\n}\n\n.ngq-modal-btn-confirm:hover {\n  background: var(--apt-secondary);\n  transform: translateY(-1px);\n}\n\n.ngq-modal-btn-cancel {\n  background: rgba(255, 255, 255, 0.1);\n  color: var(--apt-text);\n}\n\n.ngq-modal-btn-cancel:hover {\n  background: rgba(255, 255, 255, 0.15);\n}\n\n/* ==================== åŠ è½½çŠ¶æ€ */\n.ngq-loading {\n  text-align: center;\n  padding: 40px;\n  color: var(--apt-dim);\n}\n\n.ngq-loading-icon {\n  font-size: 32px;\n  margin-bottom: 12px;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n/* ==================== è¿›åº¦æ¡ */\n.ngq-progress-bar {\n  width: 100%;\n  height: 20px;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 10px;\n  overflow: hidden;\n  position: relative;\n  margin-top: 6px;\n}\n\n.ngq-progress-fill {\n  height: 100%;\n  border-radius: 10px;\n  transition: width 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  font-weight: 600;\n  color: white;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n}\n\n.ngq-progress-fill.favor {\n  background: linear-gradient(90deg, #ff6b9d 0%, #ff8fab 100%);\n}\n\n.ngq-progress-fill.lust {\n  background: linear-gradient(90deg, #ff4757 0%, #ff6348 100%);\n}\n\n.ngq-info-block {\n  display: block;\n  padding: 8px 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n}\n\n.ngq-info-block:last-child {\n  border-bottom: none;\n}\n\n.ngq-info-block .ngq-info-label {\n  display: block;\n  margin-bottom: 6px;\n}\n\n.ngq-info-block .ngq-info-value {\n  display: block;\n  text-align: left;\n  line-height: 1.5;\n}\n\n/* ==================== ç§»åŠ¨ç«¯é€‚é… */\n@media (max-width: 768px) {\n  .ngq-main-panel {\n    width: 95vw;\n    height: 90vh;\n  }\n\n  .ngq-toggle-btn {\n    width: 56px;\n    height: 56px;\n    font-size: 24px;\n  }\n\n  .ngq-tab {\n    font-size: 12px;\n    padding: 10px 8px;\n  }\n\n  .ngq-toggle-btn {\n    pointer-events: auto;\n    z-index: 10002;\n  }\n}\n\n@media (max-width: 480px) and (orientation: portrait) {\n  .ngq-main-panel {\n    width: 100vw;\n    height: 100vh;\n    max-width: none;\n    max-height: none;\n    border-radius: 0;\n    border: none;\n  }\n\n  .ngq-toggle-btn {\n    width: 50px;\n    height: 50px;\n    font-size: 22px;\n  }\n\n  .ngq-tab {\n    font-size: 11px;\n    padding: 8px 4px;\n  }\n\n  .ngq-toggle-btn {\n    z-index: 10002;\n  }\n}\n\n@media (max-height: 600px) and (orientation: landscape) {\n  .ngq-main-panel {\n    height: 95vh;\n    max-height: none;\n  }\n\n  .ngq-content {\n    padding: 10px;\n  }\n}\n\n/* ==================== å…¨å±€ç§»åŠ¨ç«¯ä¼˜åŒ– */\n* {\n  touch-action: manipulation;\n}\n\n.ngq-toggle-btn {\n  touch-action: none !important;\n}\n\n* {\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n\n.ngq-content {\n  -webkit-overflow-scrolling: touch;\n}\n\nbody {\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n\n@supports (padding: max(0px)) {\n  @media (max-width: 480px) {\n    .ngq-main-panel {\n      padding-top: max(0px, env(safe-area-inset-top));\n      padding-bottom: max(0px, env(safe-area-inset-bottom));\n      padding-left: max(0px, env(safe-area-inset-left));\n      padding-right: max(0px, env(safe-area-inset-right));\n    }\n  }\n}\n\nbutton:focus,\nbutton:active,\n.ngq-toggle-btn:focus,\n.ngq-toggle-btn:active,\n.ngq-close-btn:focus,\n.ngq-close-btn:active,\n.ngq-tenant-card:focus,\n.ngq-tenant-card:active {\n  outline: none;\n  outline-color: transparent;\n}\n</style>\n'),console.log('âœ… æ ·å¼å·²æ³¨å…¥')),n.body.insertAdjacentHTML('beforeend','\n\x3c!-- æ‹–åŠ¨æŒ‰é’® --\x3e\n<div id="ngq-toggle-btn" class="ngq-toggle-btn">\n  <span>ğŸ </span>\n</div>\n\n\x3c!-- ä¸»é¢æ¿ --\x3e\n<div id="ngq-main-panel" class="ngq-main-panel">\n  <div class="ngq-header">\n    <div class="ngq-header-left">\n      <div class="ngq-header-title">ğŸ  ç½‘çº¢å°åŒº</div>\n      <div class="ngq-header-subtitle" id="ngq-time-display">ä¸œæµ·å¸‚Â·èŸèƒåŸ</div>\n    </div>\n    <button class="ngq-close-btn" id="ngq-close-btn">Ã—</button>\n  </div>\n  \n  <div class="ngq-content" id="ngq-content">\n    <div class="ngq-loading">\n      <div class="ngq-loading-icon">â³</div>\n      <div>æ­£åœ¨åŠ è½½æ•°æ®...</div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- æ‹›å‹Ÿç§Ÿå®¢æ¨¡æ€æ¡† --\x3e\n<div id="ngq-recruitment-modal" class="ngq-modal-overlay hidden">\n  <div class="ngq-modal-content">\n    <h2 class="ngq-modal-title">ğŸ‘¤ æ‹›å‹Ÿæ–°ç§Ÿå®¢</h2>\n    <p class="ngq-modal-subtitle">ç½‘çº¢å°åŒºä¸“æ³¨äºå†…å®¹åˆ›ä½œè€…ï¼Œè¯·è¾“å…¥æ‚¨æœŸæœ›çš„ç§Ÿå®¢ç‰¹å¾</p>\n    <input type="text" id="ngq-recruitment-keywords" class="ngq-modal-input" placeholder="ä¾‹å¦‚ï¼šç¾å¦†åšä¸»ã€æ¸¸æˆä¸»æ’­ã€èˆè¹ˆUPä¸»">\n    <div class="ngq-modal-actions">\n      <button class="ngq-modal-btn ngq-modal-btn-cancel" id="ngq-modal-cancel">å–æ¶ˆ</button>\n      <button class="ngq-modal-btn ngq-modal-btn-confirm" id="ngq-modal-confirm">ç¡®è®¤æ‹›å‹Ÿ</button>\n    </div>\n  </div>\n</div>\n\n\x3c!-- æˆ¿é—´è¯¦æƒ…æ¨¡æ€æ¡† --\x3e\n<div id="ngq-room-modal" class="ngq-modal-overlay hidden">\n  <div class="ngq-modal-content" style="max-width: 500px">\n    <h2 class="ngq-modal-title" id="ngq-room-modal-title">ğŸ  æˆ¿é—´è¯¦æƒ…</h2>\n    <div id="ngq-room-modal-body"></div>\n    <div class="ngq-modal-actions" id="ngq-room-modal-actions">\n      <button class="ngq-modal-btn ngq-modal-btn-confirm" id="ngq-room-modal-close" style="width:100%">å…³é—­</button>\n    </div>\n    <div class="ngq-modal-actions" id="ngq-room-demolish-actions" style="display:none; margin-top: 8px;">\n      <button class="ngq-modal-btn" id="ngq-room-demolish" style="width:100%; background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);">\n        ğŸ—‘ï¸ æ‹†é™¤æˆ¿é—´\n      </button>\n    </div>\n  </div>\n</div>\n\n\x3c!-- è£…ä¿®é€‰æ‹©æ¨¡æ€æ¡† --\x3e\n<div id="ngq-renovate-modal" class="ngq-modal-overlay hidden">\n  <div class="ngq-modal-content" style="max-width: 450px">\n    <h2 class="ngq-modal-title">ğŸ”¨ è£…ä¿®é€‰æ‹©</h2>\n    <p class="ngq-modal-subtitle" id="ngq-renovate-room-info">é€‰æ‹©è¦å°†æ­¤ç©ºæˆ¿é—´è£…ä¿®ä¸ºä½•ç§ç±»å‹ï¼š</p>\n    <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 16px;">\n      <button class="ngq-modal-btn ngq-modal-btn-confirm" id="ngq-renovate-suite" style="padding: 16px; font-size: 15px;">\n        ğŸ  æ ‡å‡†å¥—é—´\n        <div style="font-size: 12px; opacity: 0.8; margin-top: 4px;">ä¸€å®¤ä¸€å…ä¸€å«ä¸€å¨ï¼Œå¯å‡ºç§Ÿç»™ç§Ÿå®¢</div>\n      </button>\n      <button class="ngq-modal-btn ngq-modal-btn-confirm" id="ngq-renovate-functional" style="padding: 16px; font-size: 15px; background: linear-gradient(135deg, #0891b2 0%, #06b6d4 100%);">\n        ğŸ”§ åŠŸèƒ½æ€§æˆ¿é—´\n        <div style="font-size: 12px; opacity: 0.8; margin-top: 4px;">å…¬å…±è®¾æ–½ï¼ˆå®¢å…/å¥èº«æˆ¿/æ´—è¡£é—´ç­‰ï¼‰</div>\n      </button>\n    </div>\n    <div class="ngq-modal-actions" style="margin-top: 16px;">\n      <button class="ngq-modal-btn ngq-modal-btn-cancel" id="ngq-renovate-cancel" style="width:100%">å–æ¶ˆ</button>\n    </div>\n  </div>\n</div>\n\n\x3c!-- åŠŸèƒ½æ€§æˆ¿é—´è¯¦æƒ…è¾“å…¥æ¨¡æ€æ¡† --\x3e\n<div id="ngq-functional-input-modal" class="ngq-modal-overlay hidden">\n  <div class="ngq-modal-content" style="max-width: 450px">\n    <h2 class="ngq-modal-title">ğŸ”§ åŠŸèƒ½æ€§æˆ¿é—´è¯¦æƒ…</h2>\n    <p class="ngq-modal-subtitle" id="ngq-functional-room-info">è¯·è¾“å…¥åŠŸèƒ½æ€§æˆ¿é—´çš„è¯¦ç»†ä¿¡æ¯ï¼š</p>\n    <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 16px;">\n      <div>\n        <label style="display: block; margin-bottom: 6px; color: var(--apt-dim); font-size: 14px;">æˆ¿é—´åç§°</label>\n        <input type="text" id="ngq-functional-name" class="ngq-modal-input" placeholder="ä¾‹å¦‚ï¼šå¥èº«æˆ¿ã€å½±éŸ³å®¤ã€èŒ¶å®¤">\n      </div>\n      <div>\n        <label style="display: block; margin-bottom: 6px; color: var(--apt-dim); font-size: 14px;">æˆ¿é—´ä½œç”¨</label>\n        <input type="text" id="ngq-functional-purpose" class="ngq-modal-input" placeholder="ä¾‹å¦‚ï¼šé…å¤‡è·‘æ­¥æœºå’Œç‘œä¼½å«ï¼Œä¾›ç§Ÿå®¢å…è´¹ä½¿ç”¨">\n      </div>\n    </div>\n    <div class="ngq-modal-actions" style="margin-top: 16px;">\n      <button class="ngq-modal-btn ngq-modal-btn-cancel" id="ngq-functional-cancel">å–æ¶ˆ</button>\n      <button class="ngq-modal-btn ngq-modal-btn-confirm" id="ngq-functional-confirm">ç¡®è®¤è£…ä¿®</button>\n    </div>\n  </div>\n</div>\n'),console.log('âœ… HTML å·²æ³¨å…¥');const t=n.getElementById('ngq-toggle-btn');if(t)try{const n=localStorage.getItem('ngq-btn-position');if(n){const e=JSON.parse(n),o=window.top||window,a=$(o).width()-80,i=$(o).height()-80;e.left>=0&&e.left<=a&&e.top>=0&&e.top<=i?(t.style.left=e.left+'px',t.style.top=e.top+'px',console.log('ğŸ“ æ¢å¤æŒ‰é’®ä½ç½®:',e)):console.log('âš ï¸ ä¿å­˜çš„ä½ç½®æ— æ•ˆï¼Œä½¿ç”¨é»˜è®¤ä½ç½®')}}catch(n){console.warn('âš ï¸ æ¢å¤æŒ‰é’®ä½ç½®å¤±è´¥')}!function(n){const t=n.getElementById('ngq-toggle-btn'),o=n.getElementById('ngq-main-panel'),a=$(n);function r(n,o){if(e)return!1;const a=window.getComputedStyle(t),i=parseInt(a.left)||0,r=parseInt(a.top)||0;return e={startX:n,startY:o,initialLeft:i,initialTop:r},t.classList.add('dragging'),console.log('ğŸ–±ï¸ å¼€å§‹æ‹–åŠ¨æŒ‰é’®'),!0}function l(n,o){if(!e)return;const a=n-e.startX,i=o-e.startY;let r=e.initialLeft+a,l=e.initialTop+i;const s=window.top||window,d=$(s).width()-80,c=$(s).height()-80;r=Math.max(0,Math.min(r,d)),l=Math.max(0,Math.min(l,c)),t.style.left=r+'px',t.style.top=l+'px'}function s(a,r){if(!e)return;t.classList.remove('dragging');const l=a-e.startX,s=r-e.startY,d=Math.sqrt(l*l+s*s),c=window.getComputedStyle(t),g={left:parseInt(c.left)||0,top:parseInt(c.top)||0};localStorage.setItem('ngq-btn-position',JSON.stringify(g)),console.log('âœ… æŒ‰é’®æ‹–åŠ¨ç»“æŸï¼Œä¿å­˜ä½ç½®:',g),e=null,d<5&&(console.log('ğŸ¨ æ£€æµ‹åˆ°ç‚¹å‡»ï¼Œåˆ‡æ¢é¢æ¿'),o.classList.toggle('active'),o.classList.contains('active')&&(i=0,p(n)))}$(t).on('mousedown.ngq-plugin',function(n){r(n.clientX,n.clientY)&&(n.preventDefault(),n.stopPropagation())}),$(t).on('touchstart.ngq-plugin',function(n){const t=n.originalEvent.touches[0];r(t.clientX,t.clientY)&&(n.preventDefault(),n.stopPropagation())}),a.on('mousemove.ngq-plugin',function(n){l(n.clientX,n.clientY),e&&n.preventDefault()}),a.on('touchmove.ngq-plugin',function(n){const t=n.originalEvent.touches[0];l(t.clientX,t.clientY),e&&n.preventDefault()}),a.on('mouseup.ngq-plugin',function(n){s(n.clientX,n.clientY)}),a.on('touchend.ngq-plugin touchcancel.ngq-plugin',function(n){const t=n.originalEvent.changedTouches[0];t?s(t.clientX,t.clientY):s(0,0)}),console.log('âœ… æŒ‰é’®æ‹–åŠ¨åŠŸèƒ½å·²åˆå§‹åŒ–')}(n),function(n){const t=n.getElementById('ngq-close-btn');t&&t.addEventListener('click',t=>{t.stopPropagation();const e=n.getElementById('ngq-main-panel');e&&e.classList.remove('active')});(function(n){const t=$('#ngq-main-panel',n)[0],e=$('.ngq-header',n)[0],a=$(n);if(!t||!e)return void console.error('âŒ é¢æ¿æˆ–å¤´éƒ¨å…ƒç´ æœªæ‰¾åˆ°');function i(n,a){console.log('ğŸ–±ï¸ å¼€å§‹æ‹–åŠ¨é¢æ¿');const i=t.getBoundingClientRect();t.style.setProperty('transform','none','important'),t.style.setProperty('left',`${i.left}px`,'important'),t.style.setProperty('top',`${i.top}px`,'important'),o={startX:n,startY:a,initialLeft:i.left,initialTop:i.top},$(t).addClass('dragging'),$(e).addClass('dragging'),console.log('âœ… é¢æ¿æ‹–åŠ¨æ•°æ®å·²è®¾ç½®:',o)}function r(n,e){if(!o)return;const a=n-o.startX,i=e-o.startY,r=o.initialLeft+a,l=o.initialTop+i;t.style.setProperty('left',`${r}px`,'important'),t.style.setProperty('top',`${l}px`,'important')}function l(){if(console.log('ğŸ–±ï¸ é¢æ¿æ‹–åŠ¨ç»“æŸ'),o){const n=t.getBoundingClientRect(),e={left:n.left,top:n.top};localStorage.setItem('ngq-panel-position',JSON.stringify(e)),console.log('âœ… é¢æ¿æ‹–åŠ¨ç»“æŸï¼Œä¿å­˜ä½ç½®:',e)}o=null,$(t).removeClass('dragging'),$(e).removeClass('dragging')}$(e).on('mousedown.ngq-panel-drag',function(n){$(n.target).closest('#ngq-close-btn').length>0?console.log('âš ï¸ ç‚¹å‡»äº†å…³é—­æŒ‰é’®ï¼Œè·³è¿‡æ‹–åŠ¨'):(n.preventDefault(),i(n.clientX,n.clientY))}),a.on('mousemove.ngq-panel-drag',function(n){r(n.clientX,n.clientY)}),a.on('mouseup.ngq-panel-drag',function(){l()}),$(e).on('touchstart.ngq-panel-drag',function(n){if($(n.target).closest('#ngq-close-btn').length>0)return void console.log('âš ï¸ è§¦æ‘¸äº†å…³é—­æŒ‰é’®ï¼Œè·³è¿‡æ‹–åŠ¨');const t=n.originalEvent.touches[0];t&&(n.preventDefault(),i(t.clientX,t.clientY))}),a.on('touchmove.ngq-panel-drag',function(n){const t=n.originalEvent.touches[0];t&&r(t.clientX,t.clientY)}),a.on('touchend.ngq-panel-drag touchcancel.ngq-panel-drag',function(){l()});const s=localStorage.getItem('ngq-panel-position');if(s)try{const n=JSON.parse(s);t.style.setProperty('transform','none','important'),t.style.setProperty('left',`${n.left}px`,'important'),t.style.setProperty('top',`${n.top}px`,'important'),console.log('âœ… å·²æ¢å¤é¢æ¿ä½ç½®:',n)}catch(n){console.error('âŒ æ¢å¤é¢æ¿ä½ç½®å¤±è´¥:',n)}console.log('âœ… é¢æ¿æ‹–åŠ¨åŠŸèƒ½å·²åˆå§‹åŒ–')})(n),console.log('âœ… é¢æ¿ç³»ç»Ÿå·²åˆå§‹åŒ–')}(n),function(n){const t=n.getElementById('ngq-modal-confirm');t&&t.addEventListener('click',()=>{f(n)});const e=n.getElementById('ngq-modal-cancel');e&&e.addEventListener('click',()=>{u(n)});const o=n.getElementById('ngq-recruitment-modal');o&&o.addEventListener('click',t=>{t.target===o&&u(n)});const a=n.getElementById('ngq-recruitment-keywords');a&&a.addEventListener('keypress',t=>{'Enter'===t.key&&f(n)});const i=n.getElementById('ngq-room-modal-close');i&&i.addEventListener('click',()=>{v(n)});const r=n.getElementById('ngq-room-demolish');r&&r.addEventListener('click',()=>{!function(n){if(!d)return;if(confirm(`ç¡®å®šè¦æ‹†é™¤ ${d} å—ï¼Ÿ\næ‹†é™¤åå°†å˜ä¸ºç©ºæˆ¿é—´ï¼Œéœ€è¦é‡æ–°è£…ä¿®æ‰èƒ½ä½¿ç”¨ã€‚`)){y(`æ‹†é™¤ ${d}ï¼Œå°†å…¶è¿˜åŸä¸ºç©ºæˆ¿é—´çŠ¶æ€`),v(n)}}(n)});const l=n.getElementById('ngq-room-modal');l&&l.addEventListener('click',t=>{t.target===l&&v(n)});const c=n.getElementById('ngq-renovate-suite');c&&c.addEventListener('click',()=>{!function(n){if(!s)return;y(`å°† ${s} è£…ä¿®ä¸ºæ ‡å‡†å¥—é—´ï¼ˆä¸€å®¤ä¸€å…ä¸€å«ä¸€å¨ï¼Œ35-50ã¡ï¼‰`),b(n)}(n)});const g=n.getElementById('ngq-renovate-functional');g&&g.addEventListener('click',()=>{!function(n){if(!s)return;(function(n){console.log('ğŸ” openFunctionalInputModal è¢«è°ƒç”¨ï¼Œæˆ¿é—´å·:',s);const t=n.getElementById('ngq-functional-input-modal'),e=n.getElementById('ngq-functional-room-info'),o=n.getElementById('ngq-functional-name'),a=n.getElementById('ngq-functional-purpose');if(console.log('ğŸ” æ‰¾åˆ°çš„å…ƒç´ :',{modal:t,info:e,nameInput:o,purposeInput:a}),!(t&&e&&o&&a))return void console.error('âŒ ç¼ºå°‘å¿…è¦å…ƒç´ ï¼Œæ— æ³•æ‰“å¼€æ¨¡æ€æ¡†');e.textContent=`è¯·è¾“å…¥ ${s} çš„è¯¦ç»†ä¿¡æ¯ï¼š`,o.value='',a.value='',t.classList.remove('hidden'),setTimeout(()=>o.focus(),100),console.log('âœ… åŠŸèƒ½æ€§æˆ¿é—´è¾“å…¥æ¨¡æ€æ¡†å·²æ‰“å¼€')})(n),b(n,!1)}(n)});const p=n.getElementById('ngq-renovate-cancel');p&&p.addEventListener('click',()=>{b(n)});const m=n.getElementById('ngq-renovate-modal');m&&m.addEventListener('click',t=>{t.target===m&&b(n)});const h=n.getElementById('ngq-functional-confirm');console.log('ğŸ” åŠŸèƒ½æ€§æˆ¿é—´ç¡®è®¤æŒ‰é’®:',h),h?h.addEventListener('click',()=>{console.log('ğŸ–±ï¸ åŠŸèƒ½æ€§æˆ¿é—´ç¡®è®¤æŒ‰é’®è¢«ç‚¹å‡»'),x(n)}):console.error('âŒ æœªæ‰¾åˆ°åŠŸèƒ½æ€§æˆ¿é—´ç¡®è®¤æŒ‰é’® (ngq-functional-confirm)');const w=n.getElementById('ngq-functional-cancel');w&&w.addEventListener('click',()=>{q(n),s=''});const k=n.getElementById('ngq-functional-input-modal');k&&k.addEventListener('click',t=>{t.target===k&&(q(n),s='')});const E=n.getElementById('ngq-functional-name'),I=n.getElementById('ngq-functional-purpose');E&&I&&[E,I].forEach(t=>{t.addEventListener('keypress',t=>{'Enter'===t.key&&x(n)})});console.log('âœ… æ¨¡æ€æ¡†äº‹ä»¶å·²åˆå§‹åŒ–')}(n),console.log('âœ… ç½‘çº¢å°åŒºæ’ä»¶åˆå§‹åŒ–å®Œæˆï¼')}async function p(n){try{if('undefined'==typeof Mvu)try{if(!window.parent||void 0===window.parent.Mvu)throw new Error('çˆ¶çª—å£ä¸­ä¹Ÿæ²¡æœ‰ MVU');window.Mvu=window.parent.Mvu,console.log('âœ… å·²ä»çˆ¶çª—å£å¼•ç”¨ MVU')}catch(t){return console.warn('âš ï¸ MVU æ¡†æ¶æœªåŠ è½½æˆ–æ— æ³•è®¿é—®çˆ¶çª—å£'),void(i<5?(i++,console.log(`ğŸ”„ ç¬¬ ${i}/5 æ¬¡é‡è¯•åŠ è½½ MVU...`),setTimeout(()=>p(n),400)):m(n,'MVU æ¡†æ¶æœªåŠ è½½ï¼Œè¯·ç¡®ä¿å·²å®‰è£…é…’é¦†åŠ©æ‰‹å¹¶å¯ç”¨ MVU æ¡†æ¶'))}const t=Mvu.getMvuData({type:'message',message_id:'latest'}),e=t?.stat_data;if(!e)return console.warn('âš ï¸ MVU æ•°æ®ä¸ºç©º'),void(i<5?(i++,setTimeout(()=>p(n),400)):m(n,'æœªèƒ½åŠ è½½æ•°æ®'));a=e,console.log('âœ… æ•°æ®åŠ è½½æˆåŠŸ',e),function(n,t){const e=n.getElementById('ngq-content'),o=n.getElementById('ngq-time-display');if(!e)return;if(o){const n=`${c(t,'ä¸–ç•Œ.å¹´ä»½','')} ${c(t,'ä¸–ç•Œ.æ—¥æœŸ','')} ${c(t,'ä¸–ç•Œ.æ˜ŸæœŸ','')}`.trim(),e=c(t,'ä¸–ç•Œ.æ—¶é—´',''),a=c(t,'ä¸–ç•Œ.åœ°ç‚¹','ä¸œæµ·å¸‚Â·èŸèƒåŸ');o.textContent=`${a} | ${n} ${e}`}const i=function(n){if(!n)return'<div class="ngq-empty"><div class="ngq-empty-icon">ğŸ“­</div><div>æš‚æ— æ•°æ®</div></div>';const t=n?.å…¬å¯“?.æ¥¼å±‚é…ç½®||{},e=n?.å…¬å¯“?.æˆ¿é—´åˆ—è¡¨&&n.å…¬å¯“.æˆ¿é—´åˆ—è¡¨[0]||{},o=Object.keys(t).filter(n=>'$meta'!==n).map(n=>({key:n,order:parseFloat(c(t[n],'é¡ºåº','0'))||0,name:c(t[n],'æ˜¾ç¤ºåç§°',n),capacity:c(t[n],'æ€»å®¹é‡','10')})).sort((n,t)=>t.order-n.order);if(0===o.length)return'<div class="ngq-empty"><div class="ngq-empty-icon">ğŸ—ï¸</div><div>æœªæ‰¾åˆ°æ¥¼å±‚æ•°æ®</div></div>';let a='<div style="display:flex;flex-direction:column;gap:12px">';return o.forEach(n=>{a+=function(n,t){let e='<div class="ngq-floor-level">';e+=`<div class="ngq-floor-level-title">ğŸ¢ ${n.name}</div>`,e+='<div class="ngq-floor-grid">';const o=[],a=Object.keys(t).filter(n=>'$meta'!==n);if(a.forEach(e=>{const a=t[e],i=a?.å¸ƒå±€;if(!i||'object'!=typeof i)return;if(('string'==typeof i.æ¥¼å±‚?i.æ¥¼å±‚:String(i.æ¥¼å±‚||''))!==n.name)return;const r=c(a,'ç±»å‹','å¥—é—´'),l=c(a,'ä½æˆ·','æœªçŸ¥'),s='string'==typeof i.ä½ç½®?i.ä½ç½®:String(i.ä½ç½®||'');o.push({name:e,type:r,tenant:l,position:s})}),o.sort((n,t)=>{const e=n=>n.includes('AåŒº')||n.includes('01')?1:n.includes('BåŒº')||n.includes('02')?2:n.includes('CåŒº')||n.includes('03')?3:n.includes('DåŒº')||n.includes('04')?4:0,o=e(n.position)-e(t.position);return 0!==o?o:n.name.localeCompare(t.name)}),0===o.length)return e+='<div style="padding:20px;text-align:center;color:var(--apt-dim)">è¯¥æ¥¼å±‚æš‚æ— æˆ¿é—´</div>',e+='</div></div>',e;const i=[],r=new Set;for(let n=0;n<o.length;n++){if(r.has(n))continue;const t=o[n];if(['å…¬å…±å®¢å…','å¥èº«æˆ¿'].includes(t.type)&&n+1<o.length){const e=o[n+1];if(e.type===t.type){i.push({rooms:[t.name,e.name],type:t.type,tenant:t.tenant,isMerged:!0}),r.add(n+1);continue}}i.push({rooms:[t.name],type:t.type,tenant:t.tenant,isMerged:!1})}return i.forEach(n=>{const t='æ‚¨çš„æˆ¿é—´'===n.type,o='ç©ºæˆ¿é—´'===n.type,a='å¥—é—´'===n.type,i='å…¬å…±å®¢å…'===n.type,r='å¥èº«æˆ¿'===n.type,l='æ´—è¡£é—´'===n.type,s=i||r||l,d=!(a||t||o||s),c='æœªçŸ¥'===n.tenant&&a;let g='';g=t?'your':o?'empty':i?'public-lounge':r?'public-gym':l?'public-laundry':d?'custom-functional':c?'bedroom vacant':'bedroom',n.isMerged&&(g+=' merged');const p='<user>'===n.tenant?'æˆ¿ä¸œ':'æœªçŸ¥'===n.tenant?'':n.tenant;let m='ğŸ ';t?m='ğŸ‘‘':o?m='ğŸ”§':i?m='ğŸ›‹ï¸':r?m='ğŸ’ª':l?m='ğŸ§º':d&&(m='ğŸ¢');const u=n.isMerged?`${n.rooms[0]}-${n.rooms[1]}`:n.rooms[0];let f='';i?f='å…¬å…±å®¢å…':r?f='å¥èº«æˆ¿':l?f='æ´—è¡£é—´':d&&(f=n.type),e+=`<div class="ngq-room-card ${g}" data-room="${n.rooms[0]}" data-room-type="${n.type}" data-room-tenant="${n.tenant}">`,e+=`<div class="ngq-room-name">${m} ${u}</div>`,e+=t?'<div class="ngq-room-occupant">ğŸ”‘ æˆ¿ä¸œè‡ªä½</div>':o?'<div class="ngq-room-occupant">ğŸ”¨ æœªè£…ä¿®</div>':s?`<div class="ngq-room-occupant">âœ¨ ${f}</div>`:d?`<div class="ngq-room-occupant">ğŸ¨ ${f}</div>`:p?`<div class="ngq-room-occupant">ğŸ‘¤ ${p}</div>`:'<div class="ngq-room-occupant">ğŸ·ï¸ å¾…å‡ºç§Ÿ</div>',e+='</div>'}),e+='</div></div>',e}(n,e)}),a+='</div>',a+='\n    <div class="ngq-card" style="margin-top:16px">\n      <div class="ngq-card-title">\n        <span>ğŸ¢</span>\n        <span>å°åŒºç®¡ç†</span>\n      </div>\n      <div class="ngq-card-body">\n        <div class="ngq-management-actions">\n          <button class="ngq-btn" data-action="recruit">ğŸ‘¤ æ‹›å‹Ÿæ–°ç§Ÿå®¢</button>\n          <button class="ngq-btn" data-action="buy-floor">ğŸ—ï¸ è´­ç½®æ–°æ¥¼å±‚</button>\n        </div>\n        <div class="ngq-management-actions" style="margin-top:12px">\n          <button class="ngq-btn" data-action="refresh">ğŸ”„ åˆ·æ–°æ•°æ®</button>\n          <button class="ngq-btn" data-action="auto-refresh" id="auto-refresh-btn">â±ï¸ è‡ªåŠ¨åˆ·æ–°: å…³</button>\n        </div>\n        <div style="margin-top:12px;padding:12px;background:rgba(255,107,157,0.1);border-radius:8px;font-size:13px;color:var(--apt-dim);line-height:1.5">\n          ğŸ’¡ æç¤ºï¼šè´­ç½®æ–°æ¥¼å±‚å°†åŒæ—¶å»ºé€ 4ä¸ªå…¬å¯“å•å…ƒï¼ˆå¦‚å››æ¥¼ï¼š401/402/403/404ï¼‰\n        </div>\n      </div>\n    </div>\n  ',a}(t);e.innerHTML=i,l||(!function(n){const t=n.getElementById('ngq-content');if(!t)return;t.addEventListener('click',t=>{const e=t.target.closest('.ngq-room-card');if(e){t.preventDefault(),t.stopPropagation();const o=e.getAttribute('data-room'),i=e.getAttribute('data-room-type'),r=e.getAttribute('data-room-tenant');return console.log('ğŸ–±ï¸ ç‚¹å‡»æˆ¿é—´å¡ç‰‡:',{roomName:o,roomType:i,roomTenant:r}),console.log('ğŸ” roomCard HTML:',e.outerHTML.substring(0,200)),void(o?'ç©ºæˆ¿é—´'===i?(console.log('âœ… æ£€æµ‹åˆ°ç©ºæˆ¿é—´ï¼Œæ‰“å¼€è£…ä¿®é€‰æ‹©æ¨¡æ€æ¡†'),function(n,t){console.log('ğŸ” openRenovateModal è¢«è°ƒç”¨ï¼Œä¼ å…¥çš„ roomName:',t,'ç±»å‹:',typeof t);const e=n.getElementById('ngq-renovate-modal'),o=n.getElementById('ngq-renovate-room-info');if(!e||!o)return void console.error('âŒ æ‰¾ä¸åˆ°è£…ä¿®æ¨¡æ€æ¡†å…ƒç´ ');s=t,console.log('âœ… å·²è®¾ç½® currentRenovatingRoom:',s),o.textContent=`é€‰æ‹©è¦å°† ${t} è£…ä¿®ä¸ºä½•ç§ç±»å‹ï¼š`,e.classList.remove('hidden')}(n,o)):(console.log('âœ… æ‰“å¼€æˆ¿é—´è¯¦æƒ…æ¨¡æ€æ¡†'),function(n,t,e,o){const i=n.getElementById('ngq-room-modal'),r=n.getElementById('ngq-room-modal-title'),l=n.getElementById('ngq-room-modal-body');if(!(i&&r&&l&&a))return;const s=a?.å…¬å¯“?.æˆ¿é—´åˆ—è¡¨?.[0]?.[t],g='æ‚¨çš„æˆ¿é—´'===e,p='å…¬å…±å®¢å…'===e,m='å¥èº«æˆ¿'===e,u='æ´—è¡£é—´'===e,f=p||m||u;let v='ğŸ ';g?v='ğŸ‘‘':p?v='ğŸ›‹ï¸':m?v='ğŸ’ª':u&&(v='ğŸ§º');r.textContent=`${v} ${t}`;let b='';if(s){b+='<div style="margin-bottom:16px">',b+=`<div class="ngq-info-row"><span class="ngq-info-label">æˆ¿é—´ç±»å‹</span><span class="ngq-info-value">${e}</span></div>`;const n=s?.å¸ƒå±€;if(n&&'object'==typeof n){const t=n.æ¥¼å±‚||'æœªçŸ¥',e=n.ä½ç½®||'æœªçŸ¥';b+=`<div class="ngq-info-row"><span class="ngq-info-label">æ‰€åœ¨æ¥¼å±‚</span><span class="ngq-info-value">${t}</span></div>`,b+=`<div class="ngq-info-row"><span class="ngq-info-label">ä½ç½®</span><span class="ngq-info-value">${'AåŒº'===e?'ğŸ…° AåŒº':'BåŒº'===e?'ğŸ…± BåŒº':'CåŒº'===e?'ğŸ…² CåŒº':'DåŒº'===e?'ğŸ…³ DåŒº':e}</span></div>`}const t=c(s,'æè¿°','');if(t&&(b+=`<div class="ngq-info-row" style="display:block"><span class="ngq-info-label">æˆ¿é—´æè¿°</span><div style="margin-top:6px;color:var(--apt-text);line-height:1.5">${t}</div></div>`),b+='</div>','å¥—é—´'===e&&o&&'æœªçŸ¥'!==o){const n=a?.ç§Ÿå®¢åˆ—è¡¨?.[0]?.[o];if(n){b+='<div style="border-top:1px solid var(--apt-border);padding-top:16px;margin-top:8px">',b+='<div style="font-size:1.1em;font-weight:600;margin-bottom:12px;color:var(--apt-primary)">ğŸ‘¤ ç§Ÿå®¢ä¿¡æ¯</div>';const t=c(n,'å¹´é¾„','-'),e=c(n,'èŒä¸š','-'),a=c(n,'åˆ›ä½œå†…å®¹','-'),i=c(n,'å¤–è²Œ','-'),r=c(n,'æ€§æ ¼','-'),l=parseInt(c(n,'å¥½æ„Ÿåº¦','0'))||0,s=parseInt(c(n,'æ€§æ¬²','0'))||0,d=c(n,'å…¥ä½å¤©æ•°','0');b+=`<div class="ngq-info-row"><span class="ngq-info-label">å§“å</span><span class="ngq-info-value">${o}</span></div>`,b+=`<div class="ngq-info-row"><span class="ngq-info-label">å¹´é¾„</span><span class="ngq-info-value">${t}å²</span></div>`,b+=`<div class="ngq-info-row"><span class="ngq-info-label">èŒä¸š</span><span class="ngq-info-value">ğŸ“± ${e}</span></div>`,b+=`<div class="ngq-info-row"><span class="ngq-info-label">åˆ›ä½œå†…å®¹</span><span class="ngq-info-value">âœ¨ ${a}</span></div>`,b+='<div class="ngq-info-block">',b+='<span class="ngq-info-label">â¤ï¸ å¥½æ„Ÿåº¦</span>',b+='<div class="ngq-progress-bar">',b+=`<div class="ngq-progress-fill favor" style="width:${l}%">${l}</div>`,b+='</div></div>',b+='<div class="ngq-info-block">',b+='<span class="ngq-info-label">ğŸ”¥ æ€§æ¬²</span>',b+='<div class="ngq-progress-bar">',b+=`<div class="ngq-progress-fill lust" style="width:${s}%">${s}</div>`,b+='</div></div>',b+=`<div class="ngq-info-block"><span class="ngq-info-label">å¤–è²Œç‰¹å¾</span><div class="ngq-info-value">${i}</div></div>`,b+=`<div class="ngq-info-block"><span class="ngq-info-label">æ€§æ ¼</span><div class="ngq-info-value">${r}</div></div>`,b+=`<div class="ngq-info-block"><span class="ngq-info-label">å½“å‰çŠ¶æ€</span><div class="ngq-info-value">${c(n,'çŠ¶æ€','-')}</div></div>`,b+=`<div class="ngq-info-block"><span class="ngq-info-label">å†…å¿ƒæƒ³æ³•</span><div class="ngq-info-value">${c(n,'å†…å¿ƒ','-')}</div></div>`,b+=`<div class="ngq-info-row"><span class="ngq-info-label">å…¥ä½å¤©æ•°</span><span class="ngq-info-value">ğŸ“… ${d}å¤©</span></div>`,b+='</div>'}}else if('å¥—é—´'===e)b+='<div style="text-align:center;padding:20px;color:var(--apt-dim)">ğŸ  è¯¥å¥—é—´æš‚æ— ç§Ÿå®¢å…¥ä½</div>';else if(g)b+='<div style="text-align:center;padding:20px;color:var(--apt-dim)">ğŸ‘‘ è¿™æ˜¯æ‚¨çš„ç§äººå¥—é—´</div>';else if(f){const n='string'==typeof s?.æè¿°?s.æè¿°:'',t='string'==typeof s?.åŠŸèƒ½åŒº?s.åŠŸèƒ½åŒº:'';let o='var(--apt-primary)',a='âœ¨';p?(o='#f59e0b',a='ğŸ›‹ï¸'):m?(o='#10b981',a='ğŸ’ª'):u&&(o='#0ea5e9',a='ğŸ§º'),b+='<div style="text-align:center;padding:20px;color:var(--apt-text)">',b+=`<div style="font-size:16px;font-weight:600;color:${o};margin-bottom:16px">${a} ${e}</div>`,n&&(b+=`<div style="margin-bottom:12px;font-size:14px;color:var(--apt-dim);line-height:1.6">${n}</div>`),t&&(b+=`<div style="font-size:13px;color:${o};margin-top:12px;padding:8px;background:rgba(255,255,255,0.05);border-radius:6px">ğŸ”§ ${t}</div>`),b+=`<div style="margin-top:16px;font-size:13px;color:var(--apt-dim);padding:12px;background:rgba(255,255,255,0.03);border-radius:8px;border:1px dashed ${o}">âœ¨ å…è´¹å¯¹æ‰€æœ‰ç§Ÿå®¢å¼€æ”¾</div>`,b+='</div>'}}else b='<div class="ngq-empty"><div class="ngq-empty-icon">â“</div><div>æˆ¿é—´æ•°æ®ä¸å­˜åœ¨</div></div>';l.innerHTML=b;const q=n.getElementById('ngq-room-demolish-actions');if(q){!(g||['101','102','103','104','204','304'].includes(t)||'å¥—é—´'===e&&'æœªçŸ¥'!==o)?(q.style.display='flex',d=t):(q.style.display='none',d='')}i.classList.remove('hidden')}(n,o,i||'',r||'')):console.warn('âš ï¸ roomName ä¸ºç©ºï¼Œæ— æ³•æ‰“å¼€æ¨¡æ€æ¡†'))}}),t.addEventListener('click',t=>{const e=t.target;if(!e.matches('button[data-action]'))return;const o=e.getAttribute('data-action'),a=e.getAttribute('data-name');'favor-add'===o&&a?(t.preventDefault(),t.stopPropagation(),y(`_.add('ç§Ÿå®¢åˆ—è¡¨[0].${a}.å¥½æ„Ÿåº¦[0]', 5); // äº¤äº’å‹å¥½ï¼Œç•¥å¾®æå‡å¥½æ„Ÿ`)):'recruit'===o?(t.preventDefault(),t.stopPropagation(),function(n){const t=n.getElementById('ngq-recruitment-modal'),e=n.getElementById('ngq-recruitment-keywords');t&&e&&(t.classList.remove('hidden'),e.value='',setTimeout(()=>{e.focus()},100))}(n)):'buy-floor'===o?(t.preventDefault(),t.stopPropagation(),y('è´­ç½®æ–°æ¥¼å±‚ï¼ˆéœ€åŒæ—¶å»ºé€ 4ä¸ªå…¬å¯“å•å…ƒï¼š01/02/03/04ï¼‰')):'refresh'===o?(t.preventDefault(),t.stopPropagation(),p(n)):'auto-refresh'===o&&(t.preventDefault(),t.stopPropagation(),r?(clearInterval(r),r=null,e.textContent='â±ï¸ è‡ªåŠ¨åˆ·æ–°: å…³'):(r=window.setInterval(()=>{p(n)},4e3),e.textContent='â±ï¸ è‡ªåŠ¨åˆ·æ–°: å¼€'))})}(n),l=!0,console.log('âœ… å†…å®¹åŒºäº‹ä»¶å·²ç»‘å®šï¼ˆé¦–æ¬¡ï¼‰'))}(n,e)}catch(t){console.error('âŒ åŠ è½½æ•°æ®å‡ºé”™:',t),m(n,'åŠ è½½å‡ºé”™: '+t.message)}}function m(n,t){const e=n.getElementById('ngq-content');e&&(e.innerHTML=`\n      <div class="ngq-empty">\n        <div class="ngq-empty-icon">âš ï¸</div>\n        <div class="ngq-empty-text">${t}</div>\n      </div>\n    `)}function u(n){const t=n.getElementById('ngq-recruitment-modal');t&&t.classList.add('hidden')}function f(n){const t=n.getElementById('ngq-recruitment-keywords');if(t){const e=t.value.trim();if(!e)return void alert('è¯·è¾“å…¥ç§Ÿå®¢ç‰¹å¾åå†ç¡®è®¤ã€‚');y(`æ‹›å‹Ÿä¸€åç¬¦åˆä»¥ä¸‹ç‰¹å¾çš„ç§Ÿå®¢ï¼š${e}`),u(n)}}function v(n){const t=n.getElementById('ngq-room-modal');t&&(t.classList.add('hidden'),d='')}function b(n,t=!0){const e=n.getElementById('ngq-renovate-modal');e&&(e.classList.add('hidden'),t&&(s=''))}function q(n){const t=n.getElementById('ngq-functional-input-modal');t&&t.classList.add('hidden')}function x(n){if(console.log('ğŸ” confirmFunctionalRenovate è¢«è°ƒç”¨'),console.log('ğŸ” currentRenovatingRoom:',s),!s)return void console.warn('âš ï¸ currentRenovatingRoom ä¸ºç©ºï¼Œé€€å‡º');const t=n.getElementById('ngq-functional-name'),e=n.getElementById('ngq-functional-purpose');console.log('ğŸ” æ‰¾åˆ°çš„è¾“å…¥æ¡†:',{nameInput:t,purposeInput:e});const o=t?.value.trim()||'',a=e?.value.trim()||'';if(console.log('ğŸ” è¾“å…¥å€¼:',{name:o,purpose:a}),!o)return alert('è¯·è¾“å…¥æˆ¿é—´åç§°'),void t?.focus();if(!a)return alert('è¯·è¾“å…¥æˆ¿é—´ä½œç”¨'),void e?.focus();const i=`å°† ${s} è£…ä¿®ä¸ºåŠŸèƒ½æ€§æˆ¿é—´ã€${o}ã€‘ï¼Œä½œç”¨ï¼š${a}`;console.log('âœ… ç”Ÿæˆå‘½ä»¤:',i),y(i),q(n),s=''}function y(n){try{const t=(parent.document||document).querySelector('#send_textarea');if(!t)throw new Error('æœªæ‰¾åˆ°è¾“å…¥æ¡†');''!==t.value.trim()?t.value+='\n\n'+n:t.value=n,t.focus(),console.log('âœ… å‘½ä»¤å·²å¡«å……åˆ°è¾“å…¥æ¡†')}catch(t){alert('æœªèƒ½è‡ªåŠ¨æ‰¾åˆ°è¾“å…¥æ¡†ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶å‘½ä»¤ï¼š\n\n'+n),console.error('å¡«å……å‘½ä»¤å¤±è´¥:',t)}}!function n(t){'undefined'!=typeof jQuery||'undefined'!=typeof $?(console.log('âœ… jQuery å·²å°±ç»ª'),t()):(console.log('â³ ç­‰å¾… jQuery...'),setTimeout(()=>n(t),100))}(()=>{$(()=>{console.log('âœ… å¼€å§‹åˆå§‹åŒ–ç½‘çº¢å°åŒºæ’ä»¶'),g()})}),console.log('âœ… ç½‘çº¢å°åŒºæ’ä»¶è„šæœ¬åŠ è½½å®Œæˆ');const h=!0,w=t.d;export{w as __initialized__};
//# sourceMappingURL=index.js.map