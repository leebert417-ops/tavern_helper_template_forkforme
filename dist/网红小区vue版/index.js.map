{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/stores/ui.ts","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/composables/useDrag.ts","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/types/index.ts","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/composables/usePosition.ts","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/ToggleButton.vue","webpack://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/ToggleButton.vue?5737","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/utils/mvuHelper.ts","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/stores/apartment.ts","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/stores/settings.ts","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/utils/commandHelper.ts","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/ManagementActions.vue","webpack://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/ManagementActions.vue?62a3","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/RoomCard.vue","webpack://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/RoomCard.vue?f55c","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/FloorView.vue","webpack://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/FloorView.vue?54a5","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/MainPanel.vue","webpack://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/MainPanel.vue?166f","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/modals/BaseModal.vue","webpack://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/modals/BaseModal.vue?7f2a","webpack://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/modals/RecruitmentModal.vue?fa57","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/modals/RecruitmentModal.vue","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/modals/RenovateModal.vue","webpack://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/modals/RenovateModal.vue?fe2c","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/modals/FunctionalInputModal.vue","webpack://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/modals/FunctionalInputModal.vue?80a9","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/modals/RoomModal.vue","webpack://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/components/modals/RoomModal.vue?cb67","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/App.vue","webpack://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/App.vue?1b59","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/index.ts","src://tavern_helper_template/src/ç½‘çº¢å°åŒºvueç‰ˆ/styles.ts"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","/**\n * UI çŠ¶æ€ Store\n * ç®¡ç†é¢æ¿æ˜¾ç¤ºã€æ¨¡æ€æ¡†çŠ¶æ€ã€å½“å‰é€‰ä¸­æˆ¿é—´ç­‰ UI ç›¸å…³çŠ¶æ€\n */\n\nimport { defineStore } from 'pinia';\nimport type { Room, ModalType } from '../types';\n\ninterface UIState {\n  /** é¢æ¿æ˜¯å¦å¯è§ */\n  isPanelVisible: boolean;\n  /** å½“å‰æ‰“å¼€çš„æ¨¡æ€æ¡†ç±»å‹ */\n  activeModal: ModalType;\n  /** å½“å‰é€‰ä¸­çš„æˆ¿é—´ */\n  currentRoom: Room | null;\n  /** å½“å‰æ­£åœ¨è£…ä¿®çš„æˆ¿é—´å· */\n  currentRenovatingRoom: string;\n  /** å½“å‰å¾…æ‹†é™¤çš„æˆ¿é—´å· */\n  currentRoomForDemolish: string;\n}\n\nexport const useUIStore = defineStore('ui', {\n  // ==================== State ====================\n  state: (): UIState => ({\n    isPanelVisible: false,\n    activeModal: null,\n    currentRoom: null,\n    currentRenovatingRoom: '',\n    currentRoomForDemolish: '',\n  }),\n\n  // ==================== Getters ====================\n  getters: {\n    /**\n     * æ˜¯å¦æœ‰æ¨¡æ€æ¡†æ‰“å¼€\n     */\n    hasModalOpen: (state): boolean => {\n      return state.activeModal !== null;\n    },\n\n    /**\n     * æ˜¯å¦ä¸ºæˆ¿é—´è¯¦æƒ…æ¨¡æ€æ¡†\n     */\n    isRoomModalOpen: (state): boolean => {\n      return state.activeModal === 'room';\n    },\n\n    /**\n     * æ˜¯å¦ä¸ºæ‹›å‹Ÿç§Ÿå®¢æ¨¡æ€æ¡†\n     */\n    isRecruitmentModalOpen: (state): boolean => {\n      return state.activeModal === 'recruitment';\n    },\n\n    /**\n     * æ˜¯å¦ä¸ºè£…ä¿®é€‰æ‹©æ¨¡æ€æ¡†\n     */\n    isRenovateModalOpen: (state): boolean => {\n      return state.activeModal === 'renovate';\n    },\n\n    /**\n     * æ˜¯å¦ä¸ºåŠŸèƒ½æ€§æˆ¿é—´è¾“å…¥æ¨¡æ€æ¡†\n     */\n    isFunctionalInputModalOpen: (state): boolean => {\n      return state.activeModal === 'functional-input';\n    },\n\n    /**\n     * å½“å‰æˆ¿é—´å·\n     */\n    currentRoomNumber: (state): string => {\n      if (!state.currentRoom) return '';\n      const number = state.currentRoom.number;\n      return Array.isArray(number) ? number[0] || '' : number || '';\n    },\n  },\n\n  // ==================== Actions ====================\n  actions: {\n    /**\n     * æ‰“å¼€é¢æ¿\n     */\n    openPanel(): void {\n      this.isPanelVisible = true;\n      console.log('ğŸ“‚ é¢æ¿å·²æ‰“å¼€');\n    },\n\n    /**\n     * å…³é—­é¢æ¿\n     */\n    closePanel(): void {\n      this.isPanelVisible = false;\n      console.log('ğŸ“ é¢æ¿å·²å…³é—­');\n    },\n\n    /**\n     * åˆ‡æ¢é¢æ¿æ˜¾ç¤ºçŠ¶æ€\n     */\n    togglePanel(): void {\n      this.isPanelVisible = !this.isPanelVisible;\n      console.log(`ğŸ“‚ é¢æ¿${this.isPanelVisible ? 'å·²æ‰“å¼€' : 'å·²å…³é—­'}`);\n    },\n\n    /**\n     * æ‰“å¼€æ¨¡æ€æ¡†\n     * @param type - æ¨¡æ€æ¡†ç±»å‹\n     * @param room - ç›¸å…³æˆ¿é—´ï¼ˆå¯é€‰ï¼‰\n     */\n    openModal(type: ModalType, room?: Room): void {\n      this.activeModal = type;\n      if (room) {\n        this.currentRoom = room;\n      }\n      console.log(`ğŸ”² æ‰“å¼€æ¨¡æ€æ¡†: ${type}`, room);\n    },\n\n    /**\n     * å…³é—­æ¨¡æ€æ¡†\n     */\n    closeModal(): void {\n      const previousModal = this.activeModal;\n      this.activeModal = null;\n      this.currentRoom = null;\n      this.currentRenovatingRoom = '';\n      this.currentRoomForDemolish = '';\n      console.log(`ğŸ”³ å…³é—­æ¨¡æ€æ¡†: ${previousModal}`);\n    },\n\n    /**\n     * æ‰“å¼€æˆ¿é—´è¯¦æƒ…æ¨¡æ€æ¡†\n     * @param room - æˆ¿é—´æ•°æ®\n     */\n    openRoomModal(room: Room): void {\n      this.openModal('room', room);\n    },\n\n    /**\n     * æ‰“å¼€æ‹›å‹Ÿç§Ÿå®¢æ¨¡æ€æ¡†\n     */\n    openRecruitmentModal(): void {\n      this.openModal('recruitment');\n    },\n\n    /**\n     * æ‰“å¼€è£…ä¿®é€‰æ‹©æ¨¡æ€æ¡†\n     * @param roomNumber - æˆ¿é—´å·\n     */\n    openRenovateModal(roomNumber: string): void {\n      this.currentRenovatingRoom = roomNumber;\n      this.openModal('renovate');\n    },\n\n    /**\n     * æ‰“å¼€åŠŸèƒ½æ€§æˆ¿é—´è¾“å…¥æ¨¡æ€æ¡†\n     * @param roomNumber - æˆ¿é—´å·\n     */\n    openFunctionalInputModal(roomNumber: string): void {\n      this.currentRenovatingRoom = roomNumber;\n      this.openModal('functional-input');\n    },\n\n    /**\n     * è®¾ç½®å½“å‰æˆ¿é—´\n     * @param room - æˆ¿é—´æ•°æ®\n     */\n    setCurrentRoom(room: Room | null): void {\n      this.currentRoom = room;\n    },\n\n    /**\n     * è®¾ç½®å½“å‰è£…ä¿®æˆ¿é—´å·\n     * @param roomNumber - æˆ¿é—´å·\n     */\n    setCurrentRenovatingRoom(roomNumber: string): void {\n      this.currentRenovatingRoom = roomNumber;\n    },\n\n    /**\n     * è®¾ç½®å½“å‰å¾…æ‹†é™¤æˆ¿é—´å·\n     * @param roomNumber - æˆ¿é—´å·\n     */\n    setCurrentRoomForDemolish(roomNumber: string): void {\n      this.currentRoomForDemolish = roomNumber;\n    },\n\n    /**\n     * é‡ç½®æ‰€æœ‰ UI çŠ¶æ€\n     */\n    reset(): void {\n      this.isPanelVisible = false;\n      this.activeModal = null;\n      this.currentRoom = null;\n      this.currentRenovatingRoom = '';\n      this.currentRoomForDemolish = '';\n      console.log('ğŸ”„ UI çŠ¶æ€å·²é‡ç½®');\n    },\n  },\n});\n\n","/**\n * æ‹–åŠ¨åŠŸèƒ½ Composable\n * æä¾›é€šç”¨çš„æ‹–åŠ¨é€»è¾‘ï¼Œæ”¯æŒé¼ æ ‡å’Œè§¦æ‘¸äº‹ä»¶\n */\n\nimport { ref, onMounted, onUnmounted, type Ref } from 'vue';\nimport type { Position } from '../types';\n\nexport interface UseDragOptions {\n  /** å…ƒç´ å¼•ç”¨ */\n  elementRef: Ref<HTMLElement | null>;\n  /** æ‹–åŠ¨æ‰‹æŸ„å…ƒç´ å¼•ç”¨ï¼ˆå¦‚æœä¸æä¾›ï¼Œåˆ™æ•´ä¸ªå…ƒç´ å¯æ‹–åŠ¨ï¼‰ */\n  handleRef?: Ref<HTMLElement | null>;\n  /** å“åº”å¼çš„ä½ç½®å¼•ç”¨ */\n  position: Ref<Position>;\n  /** æ˜¯å¦å¯ç”¨æ‹–åŠ¨ */\n  enabled?: Ref<boolean> | boolean;\n  /** æ˜¯å¦é™åˆ¶åœ¨è§†å£å†… */\n  constrainToViewport?: boolean;\n  /** è¾¹ç•Œåç§»é‡ï¼ˆpxï¼‰ */\n  boundaryOffset?: number;\n  /** ç‚¹å‡»é˜ˆå€¼ï¼ˆpxï¼Œç§»åŠ¨è·ç¦»å°äºæ­¤å€¼è§†ä¸ºç‚¹å‡»ï¼‰ */\n  clickThreshold?: number;\n  /** æ‹–åŠ¨å¼€å§‹å›è°ƒ */\n  onDragStart?: (position: Position) => void;\n  /** æ‹–åŠ¨ä¸­å›è°ƒ */\n  onDragMove?: (position: Position) => void;\n  /** æ‹–åŠ¨ç»“æŸå›è°ƒ */\n  onDragEnd?: (position: Position, isClick: boolean) => void;\n  /** ç‚¹å‡»å›è°ƒï¼ˆä»…å½“ç§»åŠ¨è·ç¦»å°äºé˜ˆå€¼æ—¶è§¦å‘ï¼‰ */\n  onClick?: () => void;\n}\n\nexport interface UseDragReturn {\n  /** æ˜¯å¦æ­£åœ¨æ‹–åŠ¨ */\n  isDragging: Ref<boolean>;\n}\n\n/**\n * æ‹–åŠ¨åŠŸèƒ½ Hook\n */\nexport function useDrag(options: UseDragOptions): UseDragReturn {\n  const {\n    elementRef,\n    handleRef,\n    position,\n    enabled = true,\n    constrainToViewport = true,\n    boundaryOffset = 0,\n    clickThreshold = 5,\n    onDragStart,\n    onDragMove,\n    onDragEnd,\n    onClick,\n  } = options;\n\n  const isDragging = ref(false);\n\n  let dragData: {\n    startX: number;\n    startY: number;\n    initialLeft: number;\n    initialTop: number;\n    startTime: number;\n  } | null = null;\n\n  /**\n   * è·å–æ˜¯å¦å¯ç”¨\n   */\n  const isEnabled = (): boolean => {\n    return typeof enabled === 'boolean' ? enabled : enabled.value;\n  };\n\n  /**\n   * é™åˆ¶ä½ç½®åœ¨è§†å£å†…\n   */\n  const constrainPosition = (pos: Position): Position => {\n    if (!constrainToViewport) return pos;\n\n    const element = elementRef.value;\n    if (!element) return pos;\n\n    const rect = element.getBoundingClientRect();\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n\n    const maxX = viewportWidth - rect.width - boundaryOffset;\n    const maxY = viewportHeight - rect.height - boundaryOffset;\n\n    return {\n      left: Math.max(boundaryOffset, Math.min(pos.left, maxX)),\n      top: Math.max(boundaryOffset, Math.min(pos.top, maxY)),\n    };\n  };\n\n  /**\n   * æ‹–åŠ¨å¼€å§‹\n   */\n  const handleDragStart = (clientX: number, clientY: number): boolean => {\n    if (!isEnabled() || dragData) return false;\n\n    dragData = {\n      startX: clientX,\n      startY: clientY,\n      initialLeft: position.value.left,\n      initialTop: position.value.top,\n      startTime: Date.now(),\n    };\n\n    isDragging.value = true;\n    onDragStart?.(position.value);\n\n    return true;\n  };\n\n  /**\n   * æ‹–åŠ¨ç§»åŠ¨\n   */\n  const handleDragMove = (clientX: number, clientY: number): void => {\n    if (!dragData) return;\n\n    const deltaX = clientX - dragData.startX;\n    const deltaY = clientY - dragData.startY;\n\n    const newPos: Position = {\n      left: dragData.initialLeft + deltaX,\n      top: dragData.initialTop + deltaY,\n    };\n\n    position.value = constrainPosition(newPos);\n    onDragMove?.(position.value);\n  };\n\n  /**\n   * æ‹–åŠ¨ç»“æŸ\n   */\n  const handleDragEnd = (clientX: number, clientY: number): void => {\n    if (!dragData) return;\n\n    isDragging.value = false;\n\n    const deltaX = clientX - dragData.startX;\n    const deltaY = clientY - dragData.startY;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n\n    const isClick = distance < clickThreshold;\n\n    onDragEnd?.(position.value, isClick);\n\n    if (isClick) {\n      onClick?.();\n    }\n\n    dragData = null;\n  };\n\n  /**\n   * é¼ æ ‡æŒ‰ä¸‹\n   */\n  const onMouseDown = (e: MouseEvent): void => {\n    if (handleDragStart(e.clientX, e.clientY)) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n\n  /**\n   * è§¦æ‘¸å¼€å§‹\n   */\n  const onTouchStart = (e: TouchEvent): void => {\n    const touch = e.touches[0];\n    if (touch && handleDragStart(touch.clientX, touch.clientY)) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n\n  /**\n   * é¼ æ ‡ç§»åŠ¨\n   */\n  const onMouseMove = (e: MouseEvent): void => {\n    handleDragMove(e.clientX, e.clientY);\n    if (dragData) e.preventDefault();\n  };\n\n  /**\n   * è§¦æ‘¸ç§»åŠ¨\n   */\n  const onTouchMove = (e: TouchEvent): void => {\n    const touch = e.touches[0];\n    if (touch) {\n      handleDragMove(touch.clientX, touch.clientY);\n      if (dragData) e.preventDefault();\n    }\n  };\n\n  /**\n   * é¼ æ ‡é‡Šæ”¾\n   */\n  const onMouseUp = (e: MouseEvent): void => {\n    handleDragEnd(e.clientX, e.clientY);\n  };\n\n  /**\n   * è§¦æ‘¸ç»“æŸ\n   */\n  const onTouchEnd = (e: TouchEvent): void => {\n    const touch = e.changedTouches[0];\n    if (touch) {\n      handleDragEnd(touch.clientX, touch.clientY);\n    } else {\n      handleDragEnd(0, 0);\n    }\n  };\n\n  onUnmounted(() => {\n    unbindEvents();\n  });\n\n  return {\n    isDragging,\n  };\n}\n\n","/**\n * ç½‘çº¢å°åŒº Vue ç‰ˆ - TypeScript ç±»å‹å®šä¹‰\n */\n\n// ==================== åŸºç¡€ç±»å‹ ====================\n\n/**\n * ä»»æ„å¯¹è±¡ç±»å‹\n */\nexport type AnyObject = Record<string, any>;\n\n/**\n * MVU æ•°ç»„æ ¼å¼ï¼ˆMVU æ¡†æ¶ç‰¹æœ‰çš„æ•°æ®æ ¼å¼ï¼‰\n */\nexport type MVUArray<T = any> = [T] | T;\n\n// ==================== æ‹–åŠ¨ç›¸å…³ç±»å‹ ====================\n\n/**\n * æ‹–åŠ¨æ•°æ®\n */\nexport interface DragData {\n  /** æ‹–åŠ¨å¼€å§‹æ—¶çš„é¼ æ ‡ X åæ ‡ */\n  startX: number;\n  /** æ‹–åŠ¨å¼€å§‹æ—¶çš„é¼ æ ‡ Y åæ ‡ */\n  startY: number;\n  /** å…ƒç´ åˆå§‹ left å€¼ */\n  initialLeft: number;\n  /** å…ƒç´ åˆå§‹ top å€¼ */\n  initialTop: number;\n  /** æ˜¯å¦æ­£åœ¨æ‹–åŠ¨ */\n  isDragging?: boolean;\n  /** æ‹–åŠ¨å¼€å§‹æ—¶é—´æˆ³ï¼ˆç”¨äºåŒºåˆ†ç‚¹å‡»å’Œæ‹–åŠ¨ï¼‰ */\n  startTime?: number;\n}\n\n/**\n * ä½ç½®æ•°æ®\n */\nexport interface Position {\n  /** å·¦è¾¹è·ï¼ˆpxï¼‰ */\n  left: number;\n  /** ä¸Šè¾¹è·ï¼ˆpxï¼‰ */\n  top: number;\n}\n\n/**\n * ä¿å­˜çš„ä½ç½®æ•°æ®ï¼ˆlocalStorageï¼‰\n */\nexport interface SavedPosition {\n  /** æŒ‰é’®ä½ç½® */\n  button?: Position;\n  /** é¢æ¿ä½ç½® */\n  panel?: Position;\n}\n\n// ==================== MVU æ•°æ®ç±»å‹ ====================\n\n/**\n * ç§Ÿå®¢ä¿¡æ¯\n */\nexport interface Tenant {\n  /** ç§Ÿå®¢åç§° */\n  name: MVUArray<string>;\n  /** å¥½æ„Ÿåº¦ */\n  affection?: MVUArray<number>;\n  /** æ€§æ¬²å€¼ */\n  lust?: MVUArray<number>;\n  /** ç§Ÿå®¢ç‰¹å¾/æè¿° */\n  description?: MVUArray<string>;\n  /** å…¶ä»–å±æ€§ */\n  [key: string]: any;\n}\n\n/**\n * æˆ¿é—´ä¿¡æ¯\n */\nexport interface Room {\n  /** æˆ¿é—´å·ï¼ˆå¦‚ \"101\", \"102\"ï¼‰ */\n  number: MVUArray<string>;\n  /** æˆ¿é—´ç±»å‹ï¼ˆ\"ç©ºæˆ¿é—´\", \"æ ‡å‡†å¥—é—´\", \"åŠŸèƒ½æ€§æˆ¿é—´\"ï¼‰ */\n  type: MVUArray<string>;\n  /** æˆ¿é—´åç§°ï¼ˆåŠŸèƒ½æ€§æˆ¿é—´æœ‰è‡ªå®šä¹‰åç§°ï¼‰ */\n  name?: MVUArray<string>;\n  /** æˆ¿é—´ä½œç”¨ï¼ˆåŠŸèƒ½æ€§æˆ¿é—´çš„æè¿°ï¼‰ */\n  purpose?: MVUArray<string>;\n  /** ç§Ÿå®¢ä¿¡æ¯ï¼ˆå¦‚æœæœ‰ç§Ÿå®¢ï¼‰ */\n  tenant?: Tenant;\n  /** æ˜¯å¦ä¸ºåˆå¹¶æˆ¿é—´ */\n  isMerged?: boolean;\n  /** åˆå¹¶æˆ¿é—´çš„è·¨åº¦ï¼ˆå ç”¨å‡ ä¸ªæˆ¿é—´ä½ç½®ï¼‰ */\n  mergedSpan?: number;\n  /** å…¶ä»–å±æ€§ */\n  [key: string]: any;\n}\n\n/**\n * æ¥¼å±‚ä¿¡æ¯\n */\nexport interface Floor {\n  /** æ¥¼å±‚åç§°ï¼ˆå¦‚ \"1æ¥¼\", \"2æ¥¼\"ï¼‰ */\n  name: MVUArray<string>;\n  /** æ¥¼å±‚ç¼–å· */\n  level: MVUArray<number>;\n  /** æˆ¿é—´åˆ—è¡¨ */\n  rooms: Room[];\n  /** å…¶ä»–å±æ€§ */\n  [key: string]: any;\n}\n\n/**\n * å…¬å¯“æ•°æ®ï¼ˆMVU stat_dataï¼‰\n */\nexport interface ApartmentData {\n  /** æ¥¼å±‚åˆ—è¡¨ */\n  floors?: Floor[];\n  /** å½“å‰æ—¶é—´ */\n  current_time?: MVUArray<string>;\n  /** å…¬å¯“åç§° */\n  apartment_name?: MVUArray<string>;\n  /** å…¶ä»–å±æ€§ */\n  [key: string]: any;\n}\n\n/**\n * MVU è·å–æ•°æ®çš„ç»“æœ\n */\nexport interface MVUResult {\n  /** ç»Ÿè®¡æ•°æ® */\n  stat_data?: ApartmentData;\n  /** å…¶ä»–å±æ€§ */\n  [key: string]: any;\n}\n\n/**\n * MVU è·å–æ•°æ®çš„å‚æ•°\n */\nexport interface MVUGetDataParams {\n  /** æ•°æ®ç±»å‹ */\n  type: 'message' | string;\n  /** æ¶ˆæ¯ ID */\n  message_id: 'latest' | number | string;\n}\n\n// ==================== UI çŠ¶æ€ç±»å‹ ====================\n\n/**\n * æ¨¡æ€æ¡†ç±»å‹\n */\nexport type ModalType =\n  | 'room' // æˆ¿é—´è¯¦æƒ…\n  | 'recruitment' // æ‹›å‹Ÿç§Ÿå®¢\n  | 'renovate' // è£…ä¿®é€‰æ‹©\n  | 'functional-input' // åŠŸèƒ½æ€§æˆ¿é—´è¾“å…¥\n  | null;\n\n/**\n * UI çŠ¶æ€\n */\nexport interface UIState {\n  /** é¢æ¿æ˜¯å¦å¯è§ */\n  isPanelVisible: boolean;\n  /** å½“å‰æ‰“å¼€çš„æ¨¡æ€æ¡† */\n  activeModal: ModalType;\n  /** å½“å‰é€‰ä¸­çš„æˆ¿é—´ */\n  currentRoom: Room | null;\n  /** å½“å‰æ­£åœ¨è£…ä¿®çš„æˆ¿é—´å· */\n  currentRenovatingRoom: string;\n  /** å½“å‰å¾…æ‹†é™¤çš„æˆ¿é—´å· */\n  currentRoomForDemolish: string;\n}\n\n// ==================== è®¾ç½®ç±»å‹ ====================\n\n/**\n * æ’ä»¶è®¾ç½®\n */\nexport interface PluginSettings {\n  /** æ˜¯å¦å¯ç”¨è‡ªåŠ¨åˆ·æ–° */\n  autoRefreshEnabled: boolean;\n  /** è‡ªåŠ¨åˆ·æ–°é—´éš”ï¼ˆæ¯«ç§’ï¼‰ */\n  refreshInterval: number;\n}\n\n// ==================== å¸¸é‡ ====================\n\n/**\n * æˆ¿é—´ç±»å‹å¸¸é‡\n */\nexport const ROOM_TYPES = {\n  EMPTY: 'ç©ºæˆ¿é—´',\n  STANDARD: 'æ ‡å‡†å¥—é—´',\n  FUNCTIONAL: 'åŠŸèƒ½æ€§æˆ¿é—´',\n} as const;\n\n/**\n * æˆ¿é—´ç±»å‹\n */\nexport type RoomType = (typeof ROOM_TYPES)[keyof typeof ROOM_TYPES];\n\n/**\n * é»˜è®¤è®¾ç½®\n */\nexport const DEFAULT_SETTINGS: PluginSettings = {\n  autoRefreshEnabled: false,\n  refreshInterval: 30000, // 30 ç§’\n};\n\n/**\n * é‡è¯•é…ç½®\n */\nexport const RETRY_CONFIG = {\n  MAX_RETRIES: 5,\n  RETRY_DELAY: 400, // æ¯«ç§’\n} as const;\n\n/**\n * LocalStorage é”®å\n */\nexport const STORAGE_KEYS = {\n  POSITION: 'ngq-plugin-position',\n  SETTINGS: 'ngq-plugin-settings',\n} as const;\n\n// ==================== å…¨å±€ç±»å‹å£°æ˜ ====================\n\n/**\n * å…¨å±€ MVU å¯¹è±¡\n */\ndeclare global {\n  interface Window {\n    Mvu?: {\n      getMvuData: (params: MVUGetDataParams) => MVUResult | undefined;\n    };\n  }\n\n  /**\n   * MVU å…¨å±€å˜é‡\n   */\n  const Mvu: {\n    getMvuData: (params: MVUGetDataParams) => MVUResult | undefined;\n  };\n}\n\n// ==================== å·¥å…·ç±»å‹ ====================\n\n/**\n * è§£åŒ… MVU æ•°ç»„ç±»å‹\n */\nexport type UnwrapMVU<T> = T extends MVUArray<infer U> ? U : T;\n\n/**\n * æ·±åº¦è§£åŒ… MVU æ•°ç»„ç±»å‹\n */\nexport type DeepUnwrapMVU<T> =\n  T extends MVUArray<infer U> ? U : T extends object ? { [K in keyof T]: DeepUnwrapMVU<T[K]> } : T;\n","/**\n * ä½ç½®ä¿å­˜/æ¢å¤ Composable\n * ä» localStorage è¯»å–å’Œä¿å­˜å…ƒç´ ä½ç½®\n */\n\nimport { ref, watch, type Ref } from 'vue';\nimport type { Position, SavedPosition } from '../types';\nimport { STORAGE_KEYS } from '../types';\n\nexport interface UsePositionOptions {\n  /** ä½ç½®é”®åï¼ˆç”¨äºåŒºåˆ†ä¸åŒå…ƒç´ ï¼‰ */\n  key: 'button' | 'panel';\n  /** é»˜è®¤ä½ç½® */\n  defaultPosition?: Position;\n  /** æ˜¯å¦è‡ªåŠ¨ä¿å­˜ï¼ˆç›‘å¬ä½ç½®å˜åŒ–ï¼‰ */\n  autoSave?: boolean;\n  /** æ˜¯å¦éªŒè¯ä½ç½®åœ¨è§†å£å†… */\n  validateInViewport?: boolean;\n}\n\nexport interface UsePositionReturn {\n  /** å½“å‰ä½ç½® */\n  position: Ref<Position>;\n  /** ä¿å­˜ä½ç½® */\n  savePosition: (pos?: Position) => void;\n  /** æ¢å¤ä½ç½® */\n  restorePosition: () => Position;\n  /** é‡ç½®ä¸ºé»˜è®¤ä½ç½® */\n  resetPosition: () => void;\n  /** æ¸…é™¤ä¿å­˜çš„ä½ç½® */\n  clearSavedPosition: () => void;\n}\n\n/**\n * ä½ç½®ä¿å­˜/æ¢å¤ Hook\n * \n * @example\n * ```ts\n * const { position, savePosition, restorePosition } = usePosition({\n *   key: 'button',\n *   defaultPosition: { left: 20, top: 100 },\n *   autoSave: true,\n * });\n * \n * // æ¢å¤ä¿å­˜çš„ä½ç½®\n * const savedPos = restorePosition();\n * \n * // æ‰‹åŠ¨ä¿å­˜ä½ç½®\n * savePosition({ left: 100, top: 200 });\n * ```\n */\nexport function usePosition(options: UsePositionOptions): UsePositionReturn {\n  const {\n    key,\n    defaultPosition = { left: 0, top: 0 },\n    autoSave = false,\n    validateInViewport = true,\n  } = options;\n\n  const position = ref<Position>({ ...defaultPosition });\n\n  /**\n   * éªŒè¯ä½ç½®æ˜¯å¦åœ¨è§†å£å†…\n   */\n  const validatePosition = (pos: Position): Position => {\n    if (!validateInViewport) return pos;\n\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n\n    // å‡è®¾å…ƒç´ æœ€å¤§å°ºå¯¸ä¸º 100x100ï¼ˆå¯ä»¥æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ï¼‰\n    const elementSize = 100;\n    const maxX = viewportWidth - elementSize;\n    const maxY = viewportHeight - elementSize;\n\n    return {\n      left: Math.max(0, Math.min(pos.left, maxX)),\n      top: Math.max(0, Math.min(pos.top, maxY)),\n    };\n  };\n\n  /**\n   * ä» localStorage è¯»å–æ‰€æœ‰ä½ç½®\n   */\n  const loadAllPositions = (): SavedPosition => {\n    try {\n      const stored = localStorage.getItem(STORAGE_KEYS.POSITION);\n      if (stored) {\n        return JSON.parse(stored);\n      }\n    } catch (error) {\n      console.error('âŒ è¯»å–ä½ç½®å¤±è´¥:', error);\n    }\n    return {};\n  };\n\n  /**\n   * ä¿å­˜æ‰€æœ‰ä½ç½®åˆ° localStorage\n   */\n  const saveAllPositions = (positions: SavedPosition): void => {\n    try {\n      localStorage.setItem(STORAGE_KEYS.POSITION, JSON.stringify(positions));\n    } catch (error) {\n      console.error('âŒ ä¿å­˜ä½ç½®å¤±è´¥:', error);\n    }\n  };\n\n  /**\n   * ä¿å­˜ä½ç½®\n   */\n  const savePosition = (pos?: Position): void => {\n    const posToSave = pos || position.value;\n    const validatedPos = validatePosition(posToSave);\n\n    // è¯»å–æ‰€æœ‰ä½ç½®\n    const allPositions = loadAllPositions();\n\n    // æ›´æ–°å½“å‰é”®çš„ä½ç½®\n    allPositions[key] = validatedPos;\n\n    // ä¿å­˜æ‰€æœ‰ä½ç½®\n    saveAllPositions(allPositions);\n\n    // æ›´æ–°å½“å‰ä½ç½®\n    position.value = validatedPos;\n\n    console.log(`ğŸ’¾ ${key} ä½ç½®å·²ä¿å­˜:`, validatedPos);\n  };\n\n  /**\n   * æ¢å¤ä½ç½®\n   */\n  const restorePosition = (): Position => {\n    const allPositions = loadAllPositions();\n    const savedPos = allPositions[key];\n\n    if (savedPos) {\n      const validatedPos = validatePosition(savedPos);\n      position.value = validatedPos;\n      console.log(`ğŸ“‚ ${key} ä½ç½®å·²æ¢å¤:`, validatedPos);\n      return validatedPos;\n    } else {\n      position.value = { ...defaultPosition };\n      console.log(`â„¹ï¸ ${key} æœªæ‰¾åˆ°ä¿å­˜çš„ä½ç½®ï¼Œä½¿ç”¨é»˜è®¤å€¼:`, defaultPosition);\n      return defaultPosition;\n    }\n  };\n\n  /**\n   * é‡ç½®ä¸ºé»˜è®¤ä½ç½®\n   */\n  const resetPosition = (): void => {\n    position.value = { ...defaultPosition };\n    savePosition(defaultPosition);\n    console.log(`ğŸ”„ ${key} ä½ç½®å·²é‡ç½®ä¸ºé»˜è®¤å€¼:`, defaultPosition);\n  };\n\n  /**\n   * æ¸…é™¤ä¿å­˜çš„ä½ç½®\n   */\n  const clearSavedPosition = (): void => {\n    const allPositions = loadAllPositions();\n    delete allPositions[key];\n    saveAllPositions(allPositions);\n    console.log(`ğŸ—‘ï¸ ${key} ä¿å­˜çš„ä½ç½®å·²æ¸…é™¤`);\n  };\n\n  // è‡ªåŠ¨ä¿å­˜ï¼ˆç›‘å¬ä½ç½®å˜åŒ–ï¼‰\n  if (autoSave) {\n    watch(\n      position,\n      (newPos) => {\n        savePosition(newPos);\n      },\n      { deep: true }\n    );\n  }\n\n  return {\n    position,\n    savePosition,\n    restorePosition,\n    resetPosition,\n    clearSavedPosition,\n  };\n}\n\n","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = [\"title\"];\nimport { ref, computed, onMounted } from 'vue';\nimport { useUIStore } from '../stores/ui';\nimport { useDrag } from '../composables/useDrag';\nimport { usePosition } from '../composables/usePosition';\n// Stores\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'ToggleButton',\n    setup(__props) {\n        const uiStore = useUIStore();\n        // å…ƒç´ å¼•ç”¨\n        const buttonRef = ref(null);\n        // ä½ç½®ç®¡ç†\n        const { position, savePosition, restorePosition } = usePosition({\n            key: 'button',\n            defaultPosition: { left: 20, top: 100 },\n            autoSave: false, // æ‰‹åŠ¨ä¿å­˜ï¼Œåœ¨æ‹–åŠ¨ç»“æŸæ—¶\n        });\n        // æ‹–åŠ¨åŠŸèƒ½\n        const { isDragging } = useDrag({\n            elementRef: buttonRef,\n            position: position, // å°†å“åº”å¼ position ä¼ é€’è¿›å»\n            enabled: true,\n            constrainToViewport: true,\n            boundaryOffset: 10,\n            clickThreshold: 5,\n            onDragStart: (pos) => {\n                console.log('ğŸ–±ï¸ å¼€å§‹æ‹–åŠ¨æŒ‰é’®', pos);\n            },\n            onDragEnd: (pos, isClick) => {\n                console.log('âœ… æ‹–åŠ¨ç»“æŸ', { position: pos, isClick });\n                // ä¿å­˜ä½ç½®\n                savePosition(pos);\n                // å¦‚æœæ˜¯ç‚¹å‡»ï¼Œåˆ‡æ¢é¢æ¿\n                if (isClick) {\n                    handleClick();\n                }\n            },\n        });\n        /**\n         * æŒ‰é’®æ ·å¼\n         */\n        const buttonStyle = computed(() => ({\n            left: `${position.value.left}px`,\n            top: `${position.value.top}px`,\n        }));\n        /**\n         * æç¤ºæ–‡æœ¬\n         */\n        const tooltipText = computed(() => {\n            return uiStore.isPanelVisible ? 'ç‚¹å‡»å…³é—­é¢æ¿' : 'ç‚¹å‡»æ‰“å¼€é¢æ¿';\n        });\n        /**\n         * å¤„ç†ç‚¹å‡»\n         */\n        const handleClick = () => {\n            console.log('ğŸ¨ æ£€æµ‹åˆ°ç‚¹å‡»ï¼Œåˆ‡æ¢é¢æ¿');\n            uiStore.togglePanel();\n            // å¦‚æœæ‰“å¼€é¢æ¿ï¼Œå¯ä»¥è§¦å‘æ•°æ®åŠ è½½\n            // è¿™é‡Œæš‚æ—¶ä¸åŠ è½½ï¼Œç­‰ä¸»é¢æ¿ç»„ä»¶åˆ›å»ºåå†å¤„ç†\n        };\n        /**\n         * åˆå§‹åŒ–\n         */\n        onMounted(() => {\n            // æ¢å¤ä¿å­˜çš„ä½ç½®\n            const savedPos = restorePosition();\n            console.log('âœ… ToggleButton å·²æŒ‚è½½ï¼Œä½ç½®:', savedPos);\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n                ref_key: \"buttonRef\",\n                ref: buttonRef,\n                class: _normalizeClass([\"ngq-toggle-btn\", { dragging: _unref(isDragging) }]),\n                style: _normalizeStyle(buttonStyle.value),\n                title: tooltipText.value\n            }, \" ğŸ¢ \", 14 /* CLASS, STYLE, PROPS */, _hoisted_1));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./ToggleButton.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ToggleButton.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","/**\n * MVU æ•°æ®å¤„ç†å·¥å…·å‡½æ•°\n */\n\nimport type { AnyObject, MVUArray } from '../types';\n\n/**\n * å®‰å…¨è·å–å¯¹è±¡æ·±å±‚å±æ€§å€¼\n * \n * æ”¯æŒï¼š\n * 1. ç‚¹å·è·¯å¾„è®¿é—®ï¼ˆå¦‚ \"user.profile.name\"ï¼‰\n * 2. è‡ªåŠ¨è§£åŒ… MVU æ•°ç»„æ ¼å¼\n * 3. ç©ºå€¼å®‰å…¨å¤„ç†\n * \n * @param obj - æºå¯¹è±¡\n * @param path - å±æ€§è·¯å¾„ï¼ˆç”¨ç‚¹å·åˆ†éš”ï¼‰\n * @param defaultValue - é»˜è®¤å€¼\n * @returns å±æ€§å€¼æˆ–é»˜è®¤å€¼\n * \n * @example\n * ```ts\n * const data = { user: [{ name: ['å¼ ä¸‰'] }] };\n * safeGetValue(data, 'user.name'); // 'å¼ ä¸‰'\n * safeGetValue(data, 'user.age', 'æœªçŸ¥'); // 'æœªçŸ¥'\n * ```\n */\nexport function safeGetValue(\n  obj: AnyObject | undefined,\n  path: string,\n  defaultValue: string = ''\n): string {\n  if (!obj) return defaultValue;\n\n  const keys = path.split('.');\n  let current: any = obj;\n\n  for (const key of keys) {\n    if (current === undefined || current === null) {\n      return defaultValue;\n    }\n\n    // å…ˆè§£åŒ… MVU æ•°ç»„æ ¼å¼\n    if (Array.isArray(current)) {\n      current = current[0];\n    }\n\n    if (typeof current !== 'object' || !Object.prototype.hasOwnProperty.call(current, key)) {\n      return defaultValue;\n    }\n\n    current = current[key];\n  }\n\n  // æœ€åè§£åŒ… MVU æ•°ç»„æ ¼å¼\n  if (Array.isArray(current)) {\n    return current.length > 0 ? String(current[0] ?? defaultValue) : defaultValue;\n  }\n\n  if (current === undefined || current === null) {\n    return defaultValue;\n  }\n\n  return String(current);\n}\n\n/**\n * è§£åŒ… MVU æ•°ç»„æ ¼å¼\n * \n * @param value - MVU æ•°ç»„æˆ–æ™®é€šå€¼\n * @param defaultValue - é»˜è®¤å€¼\n * @returns è§£åŒ…åçš„å€¼\n * \n * @example\n * ```ts\n * unwrapMVU(['å¼ ä¸‰']); // 'å¼ ä¸‰'\n * unwrapMVU('æå››'); // 'æå››'\n * unwrapMVU([], 'æœªçŸ¥'); // 'æœªçŸ¥'\n * ```\n */\nexport function unwrapMVU<T = any>(value: MVUArray<T> | undefined, defaultValue?: T): T | undefined {\n  if (value === undefined || value === null) {\n    return defaultValue;\n  }\n\n  if (Array.isArray(value)) {\n    return value.length > 0 ? value[0] : defaultValue;\n  }\n\n  return value;\n}\n\n/**\n * è§£åŒ… MVU æ•°ç»„ä¸ºå­—ç¬¦ä¸²\n * \n * @param value - MVU æ•°ç»„æˆ–æ™®é€šå€¼\n * @param defaultValue - é»˜è®¤å€¼\n * @returns å­—ç¬¦ä¸²å€¼\n */\nexport function unwrapMVUString(value: MVUArray<any> | undefined, defaultValue: string = ''): string {\n  const unwrapped = unwrapMVU(value);\n  if (unwrapped === undefined || unwrapped === null) {\n    return defaultValue;\n  }\n  return String(unwrapped);\n}\n\n/**\n * è§£åŒ… MVU æ•°ç»„ä¸ºæ•°å­—\n * \n * @param value - MVU æ•°ç»„æˆ–æ™®é€šå€¼\n * @param defaultValue - é»˜è®¤å€¼\n * @returns æ•°å­—å€¼\n */\nexport function unwrapMVUNumber(value: MVUArray<any> | undefined, defaultValue: number = 0): number {\n  const unwrapped = unwrapMVU(value);\n  if (unwrapped === undefined || unwrapped === null) {\n    return defaultValue;\n  }\n  const num = Number(unwrapped);\n  return isNaN(num) ? defaultValue : num;\n}\n\n/**\n * æ£€æŸ¥ MVU æ˜¯å¦å¯ç”¨\n * \n * @returns MVU æ˜¯å¦å¯ç”¨\n */\nexport function isMVUAvailable(): boolean {\n  return typeof Mvu !== 'undefined' || (window.parent && typeof (window.parent as any).Mvu !== 'undefined');\n}\n\n/**\n * è·å– MVU å®ä¾‹\n * \n * @returns MVU å®ä¾‹æˆ– undefined\n */\nexport function getMVUInstance() {\n  if (typeof Mvu !== 'undefined') {\n    return Mvu;\n  }\n\n  if (window.parent && typeof (window.parent as any).Mvu !== 'undefined') {\n    // å°†çˆ¶çª—å£çš„ MVU å¼•ç”¨åˆ°å½“å‰çª—å£\n    (window as any).Mvu = (window.parent as any).Mvu;\n    return (window as any).Mvu;\n  }\n\n  return undefined;\n}\n\n/**\n * æ ¼å¼åŒ–å¥½æ„Ÿåº¦/æ€§æ¬²å€¼æ˜¾ç¤º\n * \n * @param value - æ•°å€¼\n * @param max - æœ€å¤§å€¼ï¼ˆé»˜è®¤ 100ï¼‰\n * @returns æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²\n * \n * @example\n * ```ts\n * formatProgress(75); // '75/100'\n * formatProgress(50, 200); // '50/200'\n * ```\n */\nexport function formatProgress(value: number, max: number = 100): string {\n  return `${value}/${max}`;\n}\n\n/**\n * è®¡ç®—è¿›åº¦ç™¾åˆ†æ¯”\n * \n * @param value - å½“å‰å€¼\n * @param max - æœ€å¤§å€¼\n * @returns ç™¾åˆ†æ¯”ï¼ˆ0-100ï¼‰\n */\nexport function calculateProgress(value: number, max: number = 100): number {\n  if (max <= 0) return 0;\n  return Math.min(100, Math.max(0, (value / max) * 100));\n}\n\n","/**\n * å…¬å¯“æ•°æ® Store\n * ç®¡ç† MVU æ•°æ®ã€æ¥¼å±‚ã€æˆ¿é—´ã€ç§Ÿå®¢ä¿¡æ¯\n */\n\nimport { defineStore } from 'pinia';\nimport type { ApartmentData, Floor, Room, MVUGetDataParams, MVUResult } from '../types';\nimport { RETRY_CONFIG } from '../types';\nimport { getMVUInstance, unwrapMVUString } from '../utils/mvuHelper';\n\ninterface ApartmentState {\n  /** MVU åŸå§‹æ•°æ® */\n  rawData: ApartmentData | null;\n  /** æ˜¯å¦æ­£åœ¨åŠ è½½ */\n  loading: boolean;\n  /** é”™è¯¯ä¿¡æ¯ */\n  error: string | null;\n  /** å½“å‰é‡è¯•æ¬¡æ•° */\n  retryCount: number;\n  /** æœ€åæ›´æ–°æ—¶é—´ */\n  lastUpdateTime: number | null;\n}\n\nexport const useApartmentStore = defineStore('apartment', {\n  // ==================== State ====================\n  state: (): ApartmentState => ({\n    rawData: null,\n    loading: false,\n    error: null,\n    retryCount: 0,\n    lastUpdateTime: null,\n  }),\n\n  // ==================== Getters ====================\n  getters: {\n    /**\n     * æ˜¯å¦æœ‰æ•°æ®\n     */\n    hasData: (state): boolean => {\n      return state.rawData !== null && state.rawData !== undefined;\n    },\n\n    /**\n     * æ¥¼å±‚åˆ—è¡¨\n     */\n    floors: (state): Floor[] => {\n      if (!state.rawData?.floors) return [];\n      return state.rawData.floors;\n    },\n\n    /**\n     * æ¥¼å±‚æ•°é‡\n     */\n    floorCount(): number {\n      return this.floors.length;\n    },\n\n    /**\n     * æ‰€æœ‰æˆ¿é—´åˆ—è¡¨ï¼ˆæ‰å¹³åŒ–ï¼‰\n     */\n    allRooms(): Room[] {\n      const rooms: Room[] = [];\n      this.floors.forEach(floor => {\n        if (floor.rooms && Array.isArray(floor.rooms)) {\n          rooms.push(...floor.rooms);\n        }\n      });\n      return rooms;\n    },\n\n    /**\n     * æˆ¿é—´æ€»æ•°\n     */\n    roomCount(): number {\n      return this.allRooms.length;\n    },\n\n    /**\n     * å·²å‡ºç§Ÿæˆ¿é—´æ•°é‡\n     */\n    rentedRoomCount(): number {\n      return this.allRooms.filter(room => {\n        const type = unwrapMVUString(room.type);\n        return type === 'æ ‡å‡†å¥—é—´' && room.tenant;\n      }).length;\n    },\n\n    /**\n     * ç©ºæˆ¿é—´æ•°é‡\n     */\n    emptyRoomCount(): number {\n      return this.allRooms.filter(room => {\n        const type = unwrapMVUString(room.type);\n        return type === 'ç©ºæˆ¿é—´';\n      }).length;\n    },\n\n    /**\n     * åŠŸèƒ½æ€§æˆ¿é—´æ•°é‡\n     */\n    functionalRoomCount(): number {\n      return this.allRooms.filter(room => {\n        const type = unwrapMVUString(room.type);\n        return type === 'åŠŸèƒ½æ€§æˆ¿é—´';\n      }).length;\n    },\n\n    /**\n     * å½“å‰æ—¶é—´\n     */\n    currentTime: (state): string => {\n      if (!state.rawData?.current_time) return '';\n      return unwrapMVUString(state.rawData.current_time);\n    },\n\n    /**\n     * å…¬å¯“åç§°\n     */\n    apartmentName: (state): string => {\n      if (!state.rawData?.apartment_name) return 'ç½‘çº¢å°åŒº';\n      return unwrapMVUString(state.rawData.apartment_name, 'ç½‘çº¢å°åŒº');\n    },\n\n    /**\n     * æ ¹æ®æˆ¿é—´å·æŸ¥æ‰¾æˆ¿é—´\n     */\n    getRoomByNumber: (state) => {\n      return (roomNumber: string): Room | undefined => {\n        for (const floor of state.rawData?.floors || []) {\n          if (!floor.rooms) continue;\n          const room = floor.rooms.find(r => unwrapMVUString(r.number) === roomNumber);\n          if (room) return room;\n        }\n        return undefined;\n      };\n    },\n\n    /**\n     * æ ¹æ®æ¥¼å±‚ç¼–å·æŸ¥æ‰¾æ¥¼å±‚\n     */\n    getFloorByLevel: (state) => {\n      return (level: number): Floor | undefined => {\n        return state.rawData?.floors?.find(f => {\n          const floorLevel = Array.isArray(f.level) ? f.level[0] : f.level;\n          return floorLevel === level;\n        });\n      };\n    },\n\n    /**\n     * æ˜¯å¦å¯ä»¥é‡è¯•\n     */\n    canRetry: (state): boolean => {\n      return state.retryCount < RETRY_CONFIG.MAX_RETRIES;\n    },\n  },\n\n  // ==================== Actions ====================\n  actions: {\n    /**\n     * åŠ è½½ MVU æ•°æ®\n     */\n    async loadData(): Promise<boolean> {\n      this.loading = true;\n      this.error = null;\n\n      try {\n        // æ£€æŸ¥ MVU æ˜¯å¦å¯ç”¨\n        const mvu = getMVUInstance();\n        if (!mvu) {\n          throw new Error('MVU æ¡†æ¶æœªåŠ è½½æˆ–æ— æ³•è®¿é—®');\n        }\n\n        // è·å–æœ€æ–°æ¶ˆæ¯çš„ MVU æ•°æ®\n        const params: MVUGetDataParams = {\n          type: 'message',\n          message_id: 'latest',\n        };\n\n        const mvuResult: MVUResult | undefined = mvu.getMvuData(params);\n        const data = mvuResult?.stat_data;\n\n        if (!data) {\n          throw new Error('MVU æ•°æ®ä¸ºç©º');\n        }\n\n        // ä¿å­˜æ•°æ®\n        this.rawData = data;\n        this.lastUpdateTime = Date.now();\n        this.retryCount = 0;\n        this.loading = false;\n\n        console.log('âœ… å…¬å¯“æ•°æ®åŠ è½½æˆåŠŸ', data);\n        return true;\n      } catch (error) {\n        const errorMessage = (error as Error).message;\n        this.error = errorMessage;\n        this.loading = false;\n\n        console.error('âŒ åŠ è½½å…¬å¯“æ•°æ®å¤±è´¥:', errorMessage);\n\n        // å¦‚æœå¯ä»¥é‡è¯•ï¼Œåˆ™è‡ªåŠ¨é‡è¯•\n        if (this.canRetry) {\n          this.retryCount++;\n          console.log(`ğŸ”„ ç¬¬ ${this.retryCount}/${RETRY_CONFIG.MAX_RETRIES} æ¬¡é‡è¯•...`);\n          \n          await new Promise(resolve => setTimeout(resolve, RETRY_CONFIG.RETRY_DELAY));\n          return this.loadData();\n        }\n\n        return false;\n      }\n    },\n\n    /**\n     * åˆ·æ–°æ•°æ®\n     */\n    async refreshData(): Promise<boolean> {\n      console.log('ğŸ”„ åˆ·æ–°å…¬å¯“æ•°æ®...');\n      this.retryCount = 0; // é‡ç½®é‡è¯•è®¡æ•°\n      return this.loadData();\n    },\n\n    /**\n     * æ¸…ç©ºæ•°æ®\n     */\n    clearData(): void {\n      this.rawData = null;\n      this.error = null;\n      this.retryCount = 0;\n      this.lastUpdateTime = null;\n      console.log('ğŸ—‘ï¸ å…¬å¯“æ•°æ®å·²æ¸…ç©º');\n    },\n\n    /**\n     * é‡ç½®é”™è¯¯çŠ¶æ€\n     */\n    resetError(): void {\n      this.error = null;\n      this.retryCount = 0;\n    },\n\n    /**\n     * æ‰‹åŠ¨è®¾ç½®æ•°æ®ï¼ˆç”¨äºæµ‹è¯•ï¼‰\n     */\n    setData(data: ApartmentData): void {\n      this.rawData = data;\n      this.lastUpdateTime = Date.now();\n      this.error = null;\n      this.retryCount = 0;\n    },\n  },\n});\n\n","/**\n * è®¾ç½® Store\n * ç®¡ç†æ’ä»¶è®¾ç½®ï¼Œæ”¯æŒ localStorage æŒä¹…åŒ–\n */\n\nimport { defineStore } from 'pinia';\nimport type { PluginSettings } from '../types';\nimport { DEFAULT_SETTINGS, STORAGE_KEYS } from '../types';\n\ninterface SettingsState extends PluginSettings {\n  /** æ˜¯å¦å·²åˆå§‹åŒ– */\n  initialized: boolean;\n}\n\nexport const useSettingsStore = defineStore('settings', {\n  // ==================== State ====================\n  state: (): SettingsState => ({\n    autoRefreshEnabled: DEFAULT_SETTINGS.autoRefreshEnabled,\n    refreshInterval: DEFAULT_SETTINGS.refreshInterval,\n    initialized: false,\n  }),\n\n  // ==================== Getters ====================\n  getters: {\n    /**\n     * åˆ·æ–°é—´éš”ï¼ˆç§’ï¼‰\n     */\n    refreshIntervalSeconds(): number {\n      return Math.floor(this.refreshInterval / 1000);\n    },\n\n    /**\n     * åˆ·æ–°é—´éš”ï¼ˆåˆ†é’Ÿï¼‰\n     */\n    refreshIntervalMinutes(): number {\n      return Math.floor(this.refreshInterval / 60000);\n    },\n\n    /**\n     * æ ¼å¼åŒ–çš„åˆ·æ–°é—´éš”\n     */\n    formattedRefreshInterval(): string {\n      const seconds = this.refreshIntervalSeconds;\n      if (seconds < 60) {\n        return `${seconds}ç§’`;\n      }\n      const minutes = this.refreshIntervalMinutes;\n      const remainingSeconds = seconds % 60;\n      if (remainingSeconds === 0) {\n        return `${minutes}åˆ†é’Ÿ`;\n      }\n      return `${minutes}åˆ†${remainingSeconds}ç§’`;\n    },\n  },\n\n  // ==================== Actions ====================\n  actions: {\n    /**\n     * ä» localStorage åŠ è½½è®¾ç½®\n     */\n    loadFromStorage(): void {\n      try {\n        const stored = localStorage.getItem(STORAGE_KEYS.SETTINGS);\n        if (stored) {\n          const settings: PluginSettings = JSON.parse(stored);\n          this.autoRefreshEnabled = settings.autoRefreshEnabled ?? DEFAULT_SETTINGS.autoRefreshEnabled;\n          this.refreshInterval = settings.refreshInterval ?? DEFAULT_SETTINGS.refreshInterval;\n          console.log('âœ… è®¾ç½®å·²ä» localStorage åŠ è½½', settings);\n        } else {\n          console.log('â„¹ï¸ æœªæ‰¾åˆ°ä¿å­˜çš„è®¾ç½®ï¼Œä½¿ç”¨é»˜è®¤å€¼');\n        }\n      } catch (error) {\n        console.error('âŒ åŠ è½½è®¾ç½®å¤±è´¥:', error);\n        this.resetToDefaults();\n      } finally {\n        this.initialized = true;\n      }\n    },\n\n    /**\n     * ä¿å­˜è®¾ç½®åˆ° localStorage\n     */\n    saveToStorage(): void {\n      try {\n        const settings: Settings = {\n          autoRefreshEnabled: this.autoRefreshEnabled,\n          refreshInterval: this.refreshInterval,\n        };\n        localStorage.setItem(STORAGE_KEYS.SETTINGS, JSON.stringify(settings));\n        console.log('ğŸ’¾ è®¾ç½®å·²ä¿å­˜åˆ° localStorage', settings);\n      } catch (error) {\n        console.error('âŒ ä¿å­˜è®¾ç½®å¤±è´¥:', error);\n      }\n    },\n\n    /**\n     * åˆ‡æ¢è‡ªåŠ¨åˆ·æ–°\n     */\n    toggleAutoRefresh(): void {\n      this.autoRefreshEnabled = !this.autoRefreshEnabled;\n      this.saveToStorage();\n      console.log(`ğŸ”„ è‡ªåŠ¨åˆ·æ–°${this.autoRefreshEnabled ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨'}`);\n    },\n\n    /**\n     * å¯ç”¨è‡ªåŠ¨åˆ·æ–°\n     */\n    enableAutoRefresh(): void {\n      if (!this.autoRefreshEnabled) {\n        this.autoRefreshEnabled = true;\n        this.saveToStorage();\n        console.log('âœ… è‡ªåŠ¨åˆ·æ–°å·²å¯ç”¨');\n      }\n    },\n\n    /**\n     * ç¦ç”¨è‡ªåŠ¨åˆ·æ–°\n     */\n    disableAutoRefresh(): void {\n      if (this.autoRefreshEnabled) {\n        this.autoRefreshEnabled = false;\n        this.saveToStorage();\n        console.log('â¸ï¸ è‡ªåŠ¨åˆ·æ–°å·²ç¦ç”¨');\n      }\n    },\n\n    /**\n     * è®¾ç½®åˆ·æ–°é—´éš”\n     * @param interval - é—´éš”æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰\n     */\n    setRefreshInterval(interval: number): void {\n      // é™åˆ¶æœ€å°é—´éš”ä¸º 5 ç§’\n      const minInterval = 5000;\n      this.refreshInterval = Math.max(interval, minInterval);\n      this.saveToStorage();\n      console.log(`â±ï¸ åˆ·æ–°é—´éš”å·²è®¾ç½®ä¸º ${this.formattedRefreshInterval}`);\n    },\n\n    /**\n     * è®¾ç½®åˆ·æ–°é—´éš”ï¼ˆç§’ï¼‰\n     * @param seconds - ç§’æ•°\n     */\n    setRefreshIntervalSeconds(seconds: number): void {\n      this.setRefreshInterval(seconds * 1000);\n    },\n\n    /**\n     * è®¾ç½®åˆ·æ–°é—´éš”ï¼ˆåˆ†é’Ÿï¼‰\n     * @param minutes - åˆ†é’Ÿæ•°\n     */\n    setRefreshIntervalMinutes(minutes: number): void {\n      this.setRefreshInterval(minutes * 60000);\n    },\n\n    /**\n     * é‡ç½®ä¸ºé»˜è®¤è®¾ç½®\n     */\n    resetToDefaults(): void {\n      this.autoRefreshEnabled = DEFAULT_SETTINGS.autoRefreshEnabled;\n      this.refreshInterval = DEFAULT_SETTINGS.refreshInterval;\n      this.saveToStorage();\n      console.log('ğŸ”„ è®¾ç½®å·²é‡ç½®ä¸ºé»˜è®¤å€¼');\n    },\n\n    /**\n     * åˆå§‹åŒ–è®¾ç½®\n     * ä» localStorage åŠ è½½ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä½¿ç”¨é»˜è®¤å€¼\n     */\n    initialize(): void {\n      if (!this.initialized) {\n        this.loadFromStorage();\n      }\n    },\n\n    /**\n     * æ¸…é™¤ä¿å­˜çš„è®¾ç½®\n     */\n    clearStorage(): void {\n      try {\n        localStorage.removeItem(STORAGE_KEYS.SETTINGS);\n        this.resetToDefaults();\n        console.log('ğŸ—‘ï¸ å·²æ¸…é™¤ä¿å­˜çš„è®¾ç½®');\n      } catch (error) {\n        console.error('âŒ æ¸…é™¤è®¾ç½®å¤±è´¥:', error);\n      }\n    },\n\n    /**\n     * å¯¼å‡ºè®¾ç½®ï¼ˆç”¨äºå¤‡ä»½ï¼‰\n     */\n    exportSettings(): PluginSettings {\n      return {\n        autoRefreshEnabled: this.autoRefreshEnabled,\n        refreshInterval: this.refreshInterval,\n      };\n    },\n\n    /**\n     * å¯¼å…¥è®¾ç½®ï¼ˆç”¨äºæ¢å¤ï¼‰\n     * @param settings - è®¾ç½®å¯¹è±¡\n     */\n    importSettings(settings: Partial<PluginSettings>): void {\n      if (settings.autoRefreshEnabled !== undefined) {\n        this.autoRefreshEnabled = settings.autoRefreshEnabled;\n      }\n      if (settings.refreshInterval !== undefined) {\n        this.refreshInterval = settings.refreshInterval;\n      }\n      this.saveToStorage();\n      console.log('ğŸ“¥ è®¾ç½®å·²å¯¼å…¥', settings);\n    },\n  },\n});\n","/**\n * å‘½ä»¤å¡«å……å·¥å…·å‡½æ•°\n * \n * ç”¨äºå°†å‘½ä»¤æ–‡æœ¬å¡«å……åˆ° SillyTavern çš„è¾“å…¥æ¡†\n */\n\n/**\n * å¡«å……å‘½ä»¤åˆ°è¾“å…¥æ¡†\n * \n * @param command - è¦å¡«å……çš„å‘½ä»¤æ–‡æœ¬\n * \n * @example\n * ```ts\n * fillCommand('æ‹›å‹Ÿç§Ÿå®¢ï¼šæ€§æ„Ÿçš„å¥³å¤§å­¦ç”Ÿ');\n * fillCommand('è£…ä¿®æˆ¿é—´101ä¸ºæ ‡å‡†å¥—é—´');\n * ```\n */\nexport function fillCommand(command: string): void {\n  try {\n    // è·å– SillyTavern çš„è¾“å…¥æ¡†\n    const textarea = document.querySelector('#send_textarea') as HTMLTextAreaElement;\n    \n    if (!textarea) {\n      console.warn('âš ï¸ æœªæ‰¾åˆ°è¾“å…¥æ¡†å…ƒç´  #send_textarea');\n      toastr?.warning('æœªæ‰¾åˆ°è¾“å…¥æ¡†');\n      return;\n    }\n\n    // è®¾ç½®è¾“å…¥æ¡†çš„å€¼\n    textarea.value = command;\n\n    // è§¦å‘ input äº‹ä»¶ä»¥ç¡®ä¿ SillyTavern æ£€æµ‹åˆ°å˜åŒ–\n    const inputEvent = new Event('input', {\n      bubbles: true,\n      cancelable: true,\n    });\n    textarea.dispatchEvent(inputEvent);\n\n    // èšç„¦åˆ°è¾“å…¥æ¡†\n    textarea.focus();\n\n    // å°†å…‰æ ‡ç§»åˆ°æœ«å°¾\n    textarea.setSelectionRange(command.length, command.length);\n\n    console.log('âœ… å‘½ä»¤å·²å¡«å……:', command);\n  } catch (error) {\n    console.error('âŒ å¡«å……å‘½ä»¤å¤±è´¥:', error);\n    toastr?.error('å¡«å……å‘½ä»¤å¤±è´¥');\n  }\n}\n\n/**\n * ç”Ÿæˆæ‹›å‹Ÿç§Ÿå®¢å‘½ä»¤\n * \n * @param description - ç§Ÿå®¢æè¿°/ç‰¹å¾\n * @returns å‘½ä»¤æ–‡æœ¬\n */\nexport function generateRecruitCommand(description: string): string {\n  return `æ‹›å‹Ÿç§Ÿå®¢ï¼š${description}`;\n}\n\n/**\n * ç”Ÿæˆè£…ä¿®æ ‡å‡†å¥—é—´å‘½ä»¤\n * \n * @param roomNumber - æˆ¿é—´å·\n * @returns å‘½ä»¤æ–‡æœ¬\n */\nexport function generateRenovateStandardCommand(roomNumber: string): string {\n  return `è£…ä¿®æˆ¿é—´${roomNumber}ä¸ºæ ‡å‡†å¥—é—´`;\n}\n\n/**\n * ç”Ÿæˆè£…ä¿®åŠŸèƒ½æ€§æˆ¿é—´å‘½ä»¤\n * \n * @param roomNumber - æˆ¿é—´å·\n * @param roomName - æˆ¿é—´åç§°\n * @param roomPurpose - æˆ¿é—´ä½œç”¨\n * @returns å‘½ä»¤æ–‡æœ¬\n */\nexport function generateRenovateFunctionalCommand(\n  roomNumber: string,\n  roomName: string,\n  roomPurpose: string\n): string {\n  return `è£…ä¿®æˆ¿é—´${roomNumber}ä¸ºåŠŸèƒ½æ€§æˆ¿é—´ï¼Œåç§°ï¼š${roomName}ï¼Œä½œç”¨ï¼š${roomPurpose}`;\n}\n\n/**\n * ç”Ÿæˆæ‹†é™¤æˆ¿é—´å‘½ä»¤\n * \n * @param roomNumber - æˆ¿é—´å·\n * @returns å‘½ä»¤æ–‡æœ¬\n */\nexport function generateDemolishCommand(roomNumber: string): string {\n  return `æ‹†é™¤æˆ¿é—´${roomNumber}`;\n}\n\n/**\n * ç”Ÿæˆè´­ç½®æ¥¼å±‚å‘½ä»¤\n * \n * @returns å‘½ä»¤æ–‡æœ¬\n */\nexport function generatePurchaseFloorCommand(): string {\n  return 'è´­ç½®æ–°æ¥¼å±‚';\n}\n\n/**\n * ç”Ÿæˆåˆ·æ–°æ•°æ®å‘½ä»¤\n * \n * @returns å‘½ä»¤æ–‡æœ¬\n */\nexport function generateRefreshCommand(): string {\n  return 'æŸ¥çœ‹å…¬å¯“çŠ¶æ€';\n}\n\n// ==================== å…¨å±€ç±»å‹å£°æ˜ ====================\n\ndeclare global {\n  /**\n   * toastr é€šçŸ¥åº“\n   */\n  const toastr: {\n    success: (message: string, title?: string) => void;\n    error: (message: string, title?: string) => void;\n    warning: (message: string, title?: string) => void;\n    info: (message: string, title?: string) => void;\n  } | undefined;\n}\n\n","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n    class: \"ngq-card\",\n    style: { \"margin-top\": \"16px\" }\n};\nconst _hoisted_2 = { class: \"ngq-card-body\" };\nconst _hoisted_3 = {\n    class: \"ngq-management-actions\",\n    style: { \"margin-top\": \"12px\" }\n};\nconst _hoisted_4 = [\"disabled\"];\nconst _hoisted_5 = { key: 0 };\nconst _hoisted_6 = { key: 1 };\nimport { computed } from 'vue';\nimport { useUIStore, useApartmentStore, useSettingsStore } from '../stores';\nimport { fillCommand } from '../utils/commandHelper';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'ManagementActions',\n    setup(__props) {\n        const uiStore = useUIStore();\n        const apartmentStore = useApartmentStore();\n        const settingsStore = useSettingsStore();\n        const autoRefreshText = computed(() => {\n            return settingsStore.autoRefreshEnabled ? 'â±ï¸ è‡ªåŠ¨åˆ·æ–°: å¼€' : 'â±ï¸ è‡ªåŠ¨åˆ·æ–°: å…³';\n        });\n        const openRecruitmentModal = () => {\n            uiStore.openModal('recruitment');\n        };\n        const buyNewFloor = () => {\n            fillCommand('è´­ç½®æ–°æ¥¼å±‚ï¼ˆéœ€åŒæ—¶å»ºé€ 4ä¸ªå…¬å¯“å•å…ƒï¼š01/02/03/04ï¼‰');\n        };\n        const refreshData = () => {\n            apartmentStore.loadData();\n        };\n        const toggleAutoRefresh = () => {\n            settingsStore.toggleAutoRefresh();\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"ngq-card-title\" }, [\n                    _createElementVNode(\"span\", null, \"ğŸ¢\"),\n                    _createElementVNode(\"span\", null, \"å°åŒºç®¡ç†\")\n                ], -1 /* CACHED */)),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", { class: \"ngq-management-actions\" }, [\n                        _createElementVNode(\"button\", {\n                            class: \"ngq-btn\",\n                            onClick: openRecruitmentModal\n                        }, \"ğŸ‘¤ æ‹›å‹Ÿæ–°ç§Ÿå®¢\"),\n                        _createElementVNode(\"button\", {\n                            class: \"ngq-btn\",\n                            onClick: buyNewFloor\n                        }, \"ğŸ—ï¸ è´­ç½®æ–°æ¥¼å±‚\")\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _createElementVNode(\"button\", {\n                            class: \"ngq-btn\",\n                            onClick: refreshData,\n                            disabled: _unref(apartmentStore).loading\n                        }, [\n                            (_unref(apartmentStore).loading)\n                                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \"ğŸ”„ åŠ è½½ä¸­...\"))\n                                : (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \"ğŸ”„ åˆ·æ–°æ•°æ®\"))\n                        ], 8 /* PROPS */, _hoisted_4),\n                        _createElementVNode(\"button\", {\n                            class: \"ngq-btn\",\n                            onClick: toggleAutoRefresh\n                        }, _toDisplayString(autoRefreshText.value), 1 /* TEXT */)\n                    ]),\n                    _cache[0] || (_cache[0] = _createElementVNode(\"div\", { class: \"ngq-hint\" }, \" ğŸ’¡ æç¤ºï¼šè´­ç½®æ–°æ¥¼å±‚å°†åŒæ—¶å»ºé€ 4ä¸ªå…¬å¯“å•å…ƒï¼ˆå¦‚å››æ¥¼ï¼š401/402/403/404ï¼‰ \", -1 /* CACHED */))\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./ManagementActions.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ManagementActions.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"ngq-room-name\" };\nconst _hoisted_2 = { class: \"ngq-room-occupant\" };\nimport { computed } from 'vue';\nimport { useUIStore } from '../stores';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'RoomCard',\n    props: {\n        room: {\n            type: Object,\n            required: true,\n        },\n    },\n    setup(__props) {\n        const props = __props;\n        const uiStore = useUIStore();\n        const isYourRoom = computed(() => props.room.type === 'æ‚¨çš„æˆ¿é—´');\n        const isEmptyRoom = computed(() => props.room.type === 'ç©ºæˆ¿é—´');\n        const isSuite = computed(() => props.room.type === 'å¥—é—´');\n        const isPublicLounge = computed(() => props.room.type === 'å…¬å…±å®¢å…');\n        const isPublicGym = computed(() => props.room.type === 'å¥èº«æˆ¿');\n        const isPublicLaundry = computed(() => props.room.type === 'æ´—è¡£é—´');\n        const isDefaultPublic = computed(() => isPublicLounge.value || isPublicGym.value || isPublicLaundry.value);\n        const isCustomFunctional = computed(() => !isSuite.value && !isYourRoom.value && !isEmptyRoom.value && !isDefaultPublic.value);\n        const isVacant = computed(() => props.room.tenant === 'æœªçŸ¥' && isSuite.value);\n        const roomClasses = computed(() => ({\n            'your': isYourRoom.value,\n            'empty': isEmptyRoom.value,\n            'public-lounge': isPublicLounge.value,\n            'public-gym': isPublicGym.value,\n            'public-laundry': isPublicLaundry.value,\n            'custom-functional': isCustomFunctional.value,\n            'bedroom vacant': isVacant.value,\n            'bedroom': !isVacant.value && isSuite.value,\n            'merged': props.room.isMerged,\n        }));\n        const roomIcon = computed(() => {\n            if (isYourRoom.value)\n                return 'ğŸ‘‘';\n            if (isEmptyRoom.value)\n                return 'ğŸ”§';\n            if (isPublicLounge.value)\n                return 'ğŸ›‹ï¸';\n            if (isPublicGym.value)\n                return 'ğŸ’ª';\n            if (isPublicLaundry.value)\n                return 'ğŸ§º';\n            if (isCustomFunctional.value)\n                return 'ğŸ¢';\n            return 'ğŸ ';\n        });\n        const occupantText = computed(() => {\n            if (isYourRoom.value)\n                return 'ğŸ”‘ æˆ¿ä¸œè‡ªä½';\n            if (isEmptyRoom.value)\n                return 'ğŸ”¨ æœªè£…ä¿®';\n            if (isDefaultPublic.value)\n                return `âœ¨ ${props.room.type}`;\n            if (isCustomFunctional.value)\n                return `ğŸ¨ ${props.room.type}`;\n            if (props.room.tenant && props.room.tenant !== 'æœªçŸ¥') {\n                const tenantDisplay = props.room.tenant === '<user>' ? 'æˆ¿ä¸œ' : props.room.tenant;\n                return `ğŸ‘¤ ${tenantDisplay}`;\n            }\n            return 'ğŸ·ï¸ å¾…å‡ºç§Ÿ';\n        });\n        const onCardClick = () => {\n            if (isEmptyRoom.value) {\n                uiStore.openModal('renovate', { roomId: props.room.name });\n            }\n            else {\n                uiStore.openModal('room', { roomId: props.room.name });\n            }\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n                class: _normalizeClass([\"ngq-room-card\", roomClasses.value]),\n                onClick: onCardClick\n            }, [\n                _createElementVNode(\"div\", _hoisted_1, _toDisplayString(roomIcon.value) + \" \" + _toDisplayString(__props.room.name), 1 /* TEXT */),\n                _createElementVNode(\"div\", _hoisted_2, _toDisplayString(occupantText.value), 1 /* TEXT */)\n            ], 2 /* CLASS */));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./RoomCard.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RoomCard.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"ngq-floor-level\" };\nconst _hoisted_2 = { class: \"ngq-floor-level-title\" };\nconst _hoisted_3 = {\n    key: 0,\n    class: \"ngq-floor-grid\"\n};\nconst _hoisted_4 = {\n    key: 1,\n    class: \"ngq-empty\",\n    style: { \"padding\": \"20px\" }\n};\nimport { computed } from 'vue';\nimport { useApartmentStore } from '../stores';\nimport RoomCard from './RoomCard.vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'FloorView',\n    props: {\n        floor: {\n            type: Object,\n            required: true,\n        },\n    },\n    setup(__props) {\n        const props = __props;\n        const apartmentStore = useApartmentStore();\n        /**\n         * å¯¹å½“å‰æ¥¼å±‚çš„æˆ¿é—´è¿›è¡Œè¿‡æ»¤ã€æ’åºå’Œåˆå¹¶å¤„ç†\n         */\n        const processedRooms = computed(() => {\n            // 1. è¿‡æ»¤å‡ºå½“å‰æ¥¼å±‚çš„æˆ¿é—´\n            const floorRooms = apartmentStore.getRoomsByFloor(props.floor.name);\n            // 2. æŒ‰å•å…ƒå·æ’åºï¼šA/B/C/DåŒºï¼ˆ01/02/03/04ï¼‰\n            floorRooms.sort((a, b) => {\n                const getOrder = (pos) => {\n                    if (pos.includes('AåŒº') || pos.includes('01'))\n                        return 1;\n                    if (pos.includes('BåŒº') || pos.includes('02'))\n                        return 2;\n                    if (pos.includes('CåŒº') || pos.includes('03'))\n                        return 3;\n                    if (pos.includes('DåŒº') || pos.includes('04'))\n                        return 4;\n                    return 0;\n                };\n                const orderDiff = getOrder(a.position) - getOrder(b.position);\n                return orderDiff !== 0 ? orderDiff : a.name.localeCompare(b.name);\n            });\n            // 3. åˆå¹¶ç›¸é‚»çš„åŒç±»å‹å…¬å…±è®¾æ–½\n            const mergedRooms = [];\n            const skipIndices = new Set();\n            for (let i = 0; i < floorRooms.length; i++) {\n                if (skipIndices.has(i))\n                    continue;\n                const currentRoom = floorRooms[i];\n                const isPublic = ['å…¬å…±å®¢å…', 'å¥èº«æˆ¿'].includes(currentRoom.type);\n                // æ£€æŸ¥ä¸‹ä¸€ä¸ªæˆ¿é—´æ˜¯å¦æ˜¯ç›¸åŒç±»å‹çš„å…¬å…±è®¾æ–½\n                if (isPublic && i + 1 < floorRooms.length) {\n                    const nextRoom = floorRooms[i + 1];\n                    if (nextRoom.type === currentRoom.type) {\n                        // åˆå¹¶ä¸¤ä¸ªæˆ¿é—´\n                        mergedRooms.push({\n                            ...currentRoom,\n                            name: `${currentRoom.name}-${nextRoom.name}`,\n                            isMerged: true,\n                        });\n                        skipIndices.add(i + 1);\n                        continue;\n                    }\n                }\n                // ä¸åˆå¹¶ï¼Œå•ç‹¬æ˜¾ç¤º\n                mergedRooms.push(currentRoom);\n            }\n            return mergedRooms;\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, \"ğŸ¢ \" + _toDisplayString(__props.floor.name), 1 /* TEXT */),\n                (processedRooms.value.length > 0)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(processedRooms.value, (room) => {\n                            return (_openBlock(), _createBlock(RoomCard, {\n                                key: room.name,\n                                room: room\n                            }, null, 8 /* PROPS */, [\"room\"]));\n                        }), 128 /* KEYED_FRAGMENT */))\n                    ]))\n                    : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [...(_cache[0] || (_cache[0] = [\n                            _createElementVNode(\"div\", { class: \"ngq-empty-text\" }, \"è¯¥æ¥¼å±‚æš‚æ— æˆ¿é—´\", -1 /* CACHED */)\n                        ]))]))\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./FloorView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FloorView.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, createVNode as _createVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = { class: \"ngq-header-left\" };\nconst _hoisted_2 = { class: \"ngq-header-subtitle\" };\nconst _hoisted_3 = { class: \"ngq-content custom-scrollbar\" };\nconst _hoisted_4 = {\n    key: 0,\n    class: \"ngq-loading\"\n};\nconst _hoisted_5 = {\n    key: 1,\n    class: \"ngq-empty\"\n};\nconst _hoisted_6 = { key: 2 };\nconst _hoisted_7 = { style: { \"display\": \"flex\", \"flex-direction\": \"column\", \"gap\": \"12px\" } };\nimport { ref, computed, onMounted } from 'vue';\nimport { useUIStore, useApartmentStore } from '../stores';\nimport { useDrag } from '../composables/useDrag';\nimport { usePosition } from '../composables/usePosition';\nimport ManagementActions from './ManagementActions.vue';\nimport FloorView from './FloorView.vue';\n// Stores\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'MainPanel',\n    setup(__props) {\n        const uiStore = useUIStore();\n        const apartmentStore = useApartmentStore();\n        // å…ƒç´ å¼•ç”¨\n        const panelRef = ref(null);\n        const headerRef = ref(null);\n        // ä½ç½®ç®¡ç†\n        const { position, savePosition, restorePosition } = usePosition({\n            key: 'panel',\n            defaultPosition: { left: window.innerWidth / 2 - 450, top: window.innerHeight / 2 - 325 },\n        });\n        // æ‹–åŠ¨åŠŸèƒ½\n        const { isDragging } = useDrag({\n            elementRef: panelRef, // ç§»åŠ¨æ•´ä¸ªé¢æ¿\n            handleRef: headerRef, // ä½†åªåœ¨å¤´éƒ¨è§¦å‘æ‹–åŠ¨\n            position: position, // å°†å“åº”å¼ position ä¼ é€’è¿›å»\n            enabled: true,\n            onDragEnd: (pos) => {\n                savePosition(pos);\n            },\n        });\n        /**\n         * é¢æ¿æ ·å¼\n         */\n        const panelStyle = computed(() => ({\n            left: `${position.value.left}px`,\n            top: `${position.value.top}px`,\n        }));\n        /**\n         * å¤´éƒ¨å‰¯æ ‡é¢˜\n         */\n        const headerSubtitle = computed(() => {\n            if (!apartmentStore.hasData)\n                return 'ä¸œæµ·å¸‚Â·èŸèƒåŸ';\n            const { date, time, location } = apartmentStore.worldInfo;\n            return `${location} | ${date} ${time}`;\n        });\n        /**\n         * å…³é—­é¢æ¿\n         */\n        const closePanel = () => {\n            uiStore.closePanel();\n        };\n        /**\n         * åˆå§‹åŒ–\n         */\n        onMounted(() => {\n            restorePosition();\n        });\n        return (_ctx, _cache) => {\n            return (_unref(uiStore).isPanelVisible)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    ref_key: \"panelRef\",\n                    ref: panelRef,\n                    class: _normalizeClass([\"ngq-main-panel\", { dragging: _unref(isDragging) }]),\n                    style: _normalizeStyle(panelStyle.value)\n                }, [\n                    _createCommentVNode(\" å¤´éƒ¨ \"),\n                    _createElementVNode(\"div\", {\n                        ref_key: \"headerRef\",\n                        ref: headerRef,\n                        class: \"ngq-header\"\n                    }, [\n                        _createElementVNode(\"div\", _hoisted_1, [\n                            _cache[0] || (_cache[0] = _createElementVNode(\"div\", { class: \"ngq-header-title\" }, \"ğŸ  ç½‘çº¢å°åŒº\", -1 /* CACHED */)),\n                            _createElementVNode(\"div\", _hoisted_2, _toDisplayString(headerSubtitle.value), 1 /* TEXT */)\n                        ]),\n                        _createElementVNode(\"button\", {\n                            class: \"ngq-close-btn\",\n                            title: \"å…³é—­\",\n                            onClick: closePanel\n                        }, \"Ã—\")\n                    ], 512 /* NEED_PATCH */),\n                    _createCommentVNode(\" æ ‡ç­¾é¡µ \"),\n                    _cache[3] || (_cache[3] = _createStaticVNode(\"<div class=\\\"ngq-tabs\\\"><button class=\\\"ngq-tab active\\\">æ€»è§ˆ</button><button class=\\\"ngq-tab\\\">ç§Ÿå®¢</button><button class=\\\"ngq-tab\\\">è´¢åŠ¡</button><button class=\\\"ngq-tab\\\">è®¾ç½®</button></div>\", 1)),\n                    _createCommentVNode(\" å†…å®¹åŒºåŸŸ \"),\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        (_unref(apartmentStore).loading)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [...(_cache[1] || (_cache[1] = [\n                                    _createElementVNode(\"div\", { class: \"ngq-loading-icon\" }, \"â³\", -1 /* CACHED */),\n                                    _createElementVNode(\"div\", { class: \"ngq-loading-text\" }, \"æ­£åœ¨åŠ è½½æ•°æ®...\", -1 /* CACHED */)\n                                ]))]))\n                            : (!_unref(apartmentStore).hasData)\n                                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [...(_cache[2] || (_cache[2] = [\n                                        _createElementVNode(\"div\", { class: \"ngq-empty-icon\" }, \"ğŸ“­\", -1 /* CACHED */),\n                                        _createElementVNode(\"div\", { class: \"ngq-empty-text\" }, \"æœªèƒ½åŠ è½½æ•°æ®ï¼Œè¯·åœ¨æ¸¸æˆä¸­ç”Ÿæˆä¸€äº›å†…å®¹åé‡è¯•\", -1 /* CACHED */)\n                                    ]))]))\n                                : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                                    _createElementVNode(\"div\", _hoisted_7, [\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(apartmentStore).floors, (floor) => {\n                                            return (_openBlock(), _createBlock(FloorView, {\n                                                key: floor.key,\n                                                floor: floor\n                                            }, null, 8 /* PROPS */, [\"floor\"]));\n                                        }), 128 /* KEYED_FRAGMENT */))\n                                    ]),\n                                    _createVNode(ManagementActions)\n                                ]))\n                    ])\n                ], 6 /* CLASS, STYLE */))\n                : _createCommentVNode(\"v-if\", true);\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./MainPanel.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MainPanel.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderSlot as _renderSlot, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, withModifiers as _withModifiers, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, Teleport as _Teleport, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n    key: 0,\n    class: \"ngq-modal-title\"\n};\nimport { watch } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'BaseModal',\n    props: {\n        visible: {\n            type: Boolean,\n            required: true,\n        },\n        title: {\n            type: String,\n            default: ''\n        },\n        maxWidth: {\n            type: String,\n            default: '420px'\n        }\n    },\n    emits: ['close'],\n    setup(__props, { emit: __emit }) {\n        const emit = __emit;\n        const close = () => {\n            emit('close');\n        };\n        // ç›‘å¬ ESC é”®\n        watch(() => props.visible, (isVisible) => {\n            if (isVisible) {\n                window.addEventListener('keydown', onKeydown);\n            }\n            else {\n                window.removeEventListener('keydown', onKeydown);\n            }\n        });\n        const onKeydown = (e) => {\n            if (e.key === 'Escape') {\n                close();\n            }\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(_Teleport, { to: \"body\" }, [\n                _createVNode(_Transition, { name: \"modal-fade\" }, {\n                    default: _withCtx(() => [\n                        (__props.visible)\n                            ? (_openBlock(), _createElementBlock(\"div\", {\n                                key: 0,\n                                class: \"ngq-modal-overlay\",\n                                onClick: _withModifiers(close, [\"self\"])\n                            }, [\n                                _createElementVNode(\"div\", {\n                                    class: \"ngq-modal-content\",\n                                    style: _normalizeStyle({ maxWidth: __props.maxWidth })\n                                }, [\n                                    (__props.title)\n                                        ? (_openBlock(), _createElementBlock(\"h2\", _hoisted_1, _toDisplayString(__props.title), 1 /* TEXT */))\n                                        : _createCommentVNode(\"v-if\", true),\n                                    _renderSlot(_ctx.$slots, \"default\")\n                                ], 4 /* STYLE */)\n                            ]))\n                            : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _: 3 /* FORWARDED */\n                })\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./BaseModal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./BaseModal.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","/* unplugin-vue-components disabled */import script from \"./RecruitmentModal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RecruitmentModal.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, createElementVNode as _createElementVNode, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nimport { ref, watch } from 'vue';\nimport { useUIStore } from '../../stores';\nimport { fillCommand } from '../../utils/commandHelper';\nimport BaseModal from './BaseModal.vue';\n\nimport { nextTick } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'RecruitmentModal',\n    setup(__props) {\n        const uiStore = useUIStore();\n        const keywords = ref('');\n        const inputRef = ref(null);\n        const close = () => {\n            uiStore.closeModal();\n        };\n        const confirm = () => {\n            if (!keywords.value.trim()) {\n                toastr?.warning('è¯·è¾“å…¥ç§Ÿå®¢ç‰¹å¾åå†ç¡®è®¤ã€‚');\n                inputRef.value?.focus();\n                return;\n            }\n            fillCommand(`æ‹›å‹Ÿä¸€åç¬¦åˆä»¥ä¸‹ç‰¹å¾çš„ç§Ÿå®¢ï¼š${keywords.value.trim()}`);\n            close();\n        };\n        // å½“æ¨¡æ€æ¡†æ˜¾ç¤ºæ—¶ï¼Œè‡ªåŠ¨èšç„¦åˆ°è¾“å…¥æ¡†\n        watch(() => uiStore.activeModal, (modal) => {\n            if (modal === 'recruitment') {\n                // é‡ç½®è¾“å…¥\n                keywords.value = '';\n                // nextTick ç¡®ä¿ DOM æ›´æ–°åå†èšç„¦\n                nextTick(() => {\n                    inputRef.value?.focus();\n                });\n            }\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(BaseModal, {\n                visible: _unref(uiStore).activeModal === 'recruitment',\n                title: \"ğŸ‘¤ æ‹›å‹Ÿæ–°ç§Ÿå®¢\",\n                onClose: close\n            }, {\n                default: _withCtx(() => [\n                    _cache[1] || (_cache[1] = _createElementVNode(\"p\", { class: \"ngq-modal-subtitle\" }, \"ç½‘çº¢å°åŒºä¸“æ³¨äºå†…å®¹åˆ›ä½œè€…ï¼Œè¯·è¾“å…¥æ‚¨æœŸæœ›çš„ç§Ÿå®¢ç‰¹å¾\", -1 /* CACHED */)),\n                    _withDirectives(_createElementVNode(\"input\", {\n                        ref_key: \"inputRef\",\n                        ref: inputRef,\n                        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => ((keywords).value = $event)),\n                        type: \"text\",\n                        class: \"ngq-input\",\n                        placeholder: \"ä¾‹å¦‚ï¼šç¾å¦†åšä¸»ã€æ¸¸æˆä¸»æ’­ã€èˆè¹ˆUPä¸»\",\n                        onKeypress: _withKeys(confirm, [\"enter\"])\n                    }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [\n                        [_vModelText, keywords.value]\n                    ]),\n                    _createElementVNode(\"div\", { class: \"ngq-modal-actions\" }, [\n                        _createElementVNode(\"button\", {\n                            class: \"ngq-modal-btn ngq-modal-btn-cancel\",\n                            onClick: close\n                        }, \"å–æ¶ˆ\"),\n                        _createElementVNode(\"button\", {\n                            class: \"ngq-modal-btn ngq-modal-btn-confirm\",\n                            onClick: confirm\n                        }, \"ç¡®è®¤æ‹›å‹Ÿ\")\n                    ])\n                ]),\n                _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"visible\"]));\n        };\n    }\n});\n","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"ngq-modal-subtitle\" };\nimport { computed } from 'vue';\nimport { useUIStore } from '../../stores';\nimport { fillCommand } from '../../utils/commandHelper';\nimport BaseModal from './BaseModal.vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'RenovateModal',\n    setup(__props) {\n        const uiStore = useUIStore();\n        const roomId = computed(() => uiStore.modalData?.roomId || '');\n        const close = () => {\n            uiStore.closeModal();\n        };\n        const renovateToSuite = () => {\n            if (!roomId.value)\n                return;\n            fillCommand(`å°† ${roomId.value} è£…ä¿®ä¸ºæ ‡å‡†å¥—é—´ï¼ˆä¸€å®¤ä¸€å…ä¸€å«ä¸€å¨ï¼Œ35-50ã¡ï¼‰`);\n            close();\n        };\n        const renovateToFunctional = () => {\n            if (!roomId.value)\n                return;\n            // åˆ‡æ¢åˆ°åŠŸèƒ½æ€§æˆ¿é—´è¾“å…¥æ¨¡æ€æ¡†\n            uiStore.openModal('functionalInput', { roomId: roomId.value });\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(BaseModal, {\n                visible: _unref(uiStore).activeModal === 'renovate',\n                title: \"ğŸ”¨ è£…ä¿®é€‰æ‹©\",\n                \"max-width\": \"450px\",\n                onClose: close\n            }, {\n                default: _withCtx(() => [\n                    _createElementVNode(\"p\", _hoisted_1, \"é€‰æ‹©è¦å°† \" + _toDisplayString(roomId.value) + \" è£…ä¿®ä¸ºä½•ç§ç±»å‹ï¼š\", 1 /* TEXT */),\n                    _createElementVNode(\"div\", { style: { \"display\": \"flex\", \"flex-direction\": \"column\", \"gap\": \"12px\", \"margin-top\": \"16px\" } }, [\n                        _createElementVNode(\"button\", {\n                            class: \"ngq-modal-btn ngq-modal-btn-confirm\",\n                            style: { \"padding\": \"16px\", \"font-size\": \"15px\" },\n                            onClick: renovateToSuite\n                        }, [...(_cache[0] || (_cache[0] = [\n                                _createTextVNode(\" ğŸ  æ ‡å‡†å¥—é—´ \", -1 /* CACHED */),\n                                _createElementVNode(\"div\", { style: { \"font-size\": \"12px\", \"opacity\": \"0.8\", \"margin-top\": \"4px\" } }, \"ä¸€å®¤ä¸€å…ä¸€å«ä¸€å¨ï¼Œå¯å‡ºç§Ÿç»™ç§Ÿå®¢\", -1 /* CACHED */)\n                            ]))]),\n                        _createElementVNode(\"button\", {\n                            class: \"ngq-modal-btn ngq-modal-btn-confirm\",\n                            style: { \"padding\": \"16px\", \"font-size\": \"15px\", \"background\": \"linear-gradient(135deg, #0891b2 0%, #06b6d4 100%)\" },\n                            onClick: renovateToFunctional\n                        }, [...(_cache[1] || (_cache[1] = [\n                                _createTextVNode(\" ğŸ”§ åŠŸèƒ½æ€§æˆ¿é—´ \", -1 /* CACHED */),\n                                _createElementVNode(\"div\", { style: { \"font-size\": \"12px\", \"opacity\": \"0.8\", \"margin-top\": \"4px\" } }, \"å…¬å…±è®¾æ–½ï¼ˆå®¢å…/å¥èº«æˆ¿/æ´—è¡£é—´ç­‰ï¼‰\", -1 /* CACHED */)\n                            ]))])\n                    ]),\n                    _createElementVNode(\"div\", {\n                        class: \"ngq-modal-actions\",\n                        style: { \"margin-top\": \"16px\" }\n                    }, [\n                        _createElementVNode(\"button\", {\n                            class: \"ngq-modal-btn ngq-modal-btn-cancel\",\n                            style: { \"width\": \"100%\" },\n                            onClick: close\n                        }, \"å–æ¶ˆ\")\n                    ])\n                ]),\n                _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"visible\"]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./RenovateModal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RenovateModal.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withKeys as _withKeys, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"ngq-modal-subtitle\" };\nconst _hoisted_2 = { style: { \"display\": \"flex\", \"flex-direction\": \"column\", \"gap\": \"12px\", \"margin-top\": \"16px\" } };\nimport { ref, computed, watch, nextTick } from 'vue';\nimport { useUIStore } from '../../stores';\nimport { fillCommand } from '../../utils/commandHelper';\nimport BaseModal from './BaseModal.vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'FunctionalInputModal',\n    setup(__props) {\n        const uiStore = useUIStore();\n        const name = ref('');\n        const purpose = ref('');\n        const nameInputRef = ref(null);\n        const roomId = computed(() => uiStore.modalData?.roomId || '');\n        const close = () => {\n            uiStore.closeModal();\n        };\n        const confirm = () => {\n            const roomName = name.value.trim();\n            const roomPurpose = purpose.value.trim();\n            if (!roomName) {\n                toastr?.warning('è¯·è¾“å…¥æˆ¿é—´åç§°');\n                nameInputRef.value?.focus();\n                return;\n            }\n            if (!roomPurpose) {\n                toastr?.warning('è¯·è¾“å…¥æˆ¿é—´ä½œç”¨');\n                return;\n            }\n            fillCommand(`å°† ${roomId.value} è£…ä¿®ä¸ºåŠŸèƒ½æ€§æˆ¿é—´ã€${roomName}ã€‘ï¼Œä½œç”¨ï¼š${roomPurpose}`);\n            close();\n        };\n        // å½“æ¨¡æ€æ¡†æ˜¾ç¤ºæ—¶ï¼Œè‡ªåŠ¨èšç„¦åˆ°è¾“å…¥æ¡†\n        watch(() => uiStore.activeModal, (modal) => {\n            if (modal === 'functionalInput') {\n                name.value = '';\n                purpose.value = '';\n                nextTick(() => {\n                    nameInputRef.value?.focus();\n                });\n            }\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(BaseModal, {\n                visible: _unref(uiStore).activeModal === 'functionalInput',\n                title: \"ğŸ”§ åŠŸèƒ½æ€§æˆ¿é—´è¯¦æƒ…\",\n                \"max-width\": \"450px\",\n                onClose: close\n            }, {\n                default: _withCtx(() => [\n                    _createElementVNode(\"p\", _hoisted_1, \"è¯·è¾“å…¥ \" + _toDisplayString(roomId.value) + \" çš„è¯¦ç»†ä¿¡æ¯ï¼š\", 1 /* TEXT */),\n                    _createElementVNode(\"div\", _hoisted_2, [\n                        _createElementVNode(\"div\", null, [\n                            _cache[2] || (_cache[2] = _createElementVNode(\"label\", { class: \"ngq-modal-label\" }, \"æˆ¿é—´åç§°\", -1 /* CACHED */)),\n                            _withDirectives(_createElementVNode(\"input\", {\n                                ref_key: \"nameInputRef\",\n                                ref: nameInputRef,\n                                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => ((name).value = $event)),\n                                type: \"text\",\n                                class: \"ngq-input\",\n                                placeholder: \"ä¾‹å¦‚ï¼šå¥èº«æˆ¿ã€å½±éŸ³å®¤ã€èŒ¶å®¤\"\n                            }, null, 512 /* NEED_PATCH */), [\n                                [_vModelText, name.value]\n                            ])\n                        ]),\n                        _createElementVNode(\"div\", null, [\n                            _cache[3] || (_cache[3] = _createElementVNode(\"label\", { class: \"ngq-modal-label\" }, \"æˆ¿é—´ä½œç”¨\", -1 /* CACHED */)),\n                            _withDirectives(_createElementVNode(\"input\", {\n                                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => ((purpose).value = $event)),\n                                type: \"text\",\n                                class: \"ngq-input\",\n                                placeholder: \"ä¾‹å¦‚ï¼šé…å¤‡è·‘æ­¥æœºå’Œç‘œä¼½å«ï¼Œä¾›ç§Ÿå®¢å…è´¹ä½¿ç”¨\",\n                                onKeypress: _withKeys(confirm, [\"enter\"])\n                            }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [\n                                [_vModelText, purpose.value]\n                            ])\n                        ])\n                    ]),\n                    _createElementVNode(\"div\", { class: \"ngq-modal-actions\" }, [\n                        _createElementVNode(\"button\", {\n                            class: \"ngq-modal-btn ngq-modal-btn-cancel\",\n                            onClick: close\n                        }, \"å–æ¶ˆ\"),\n                        _createElementVNode(\"button\", {\n                            class: \"ngq-modal-btn ngq-modal-btn-confirm\",\n                            onClick: confirm\n                        }, \"ç¡®è®¤è£…ä¿®\")\n                    ])\n                ]),\n                _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"visible\"]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./FunctionalInputModal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FunctionalInputModal.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, Fragment as _Fragment, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { key: 0 };\nconst _hoisted_2 = { key: 1 };\nconst _hoisted_3 = { class: \"ngq-info-section\" };\nconst _hoisted_4 = { class: \"ngq-info-row\" };\nconst _hoisted_5 = { class: \"ngq-info-value\" };\nconst _hoisted_6 = { class: \"ngq-info-row\" };\nconst _hoisted_7 = { class: \"ngq-info-value\" };\nconst _hoisted_8 = { class: \"ngq-info-row\" };\nconst _hoisted_9 = { class: \"ngq-info-value\" };\nconst _hoisted_10 = {\n    key: 0,\n    class: \"ngq-info-block\"\n};\nconst _hoisted_11 = { class: \"ngq-info-value\" };\nconst _hoisted_12 = {\n    key: 0,\n    class: \"ngq-info-section tenant-section\"\n};\nconst _hoisted_13 = { class: \"ngq-info-row\" };\nconst _hoisted_14 = { class: \"ngq-info-value\" };\nconst _hoisted_15 = { class: \"ngq-info-row\" };\nconst _hoisted_16 = { class: \"ngq-info-value\" };\nconst _hoisted_17 = { class: \"ngq-info-row\" };\nconst _hoisted_18 = { class: \"ngq-info-value\" };\nconst _hoisted_19 = { class: \"ngq-info-row\" };\nconst _hoisted_20 = { class: \"ngq-info-value\" };\nconst _hoisted_21 = { class: \"ngq-info-block\" };\nconst _hoisted_22 = { class: \"ngq-progress-bar\" };\nconst _hoisted_23 = { class: \"ngq-info-block\" };\nconst _hoisted_24 = { class: \"ngq-progress-bar\" };\nconst _hoisted_25 = { class: \"ngq-info-block\" };\nconst _hoisted_26 = { class: \"ngq-info-value\" };\nconst _hoisted_27 = { class: \"ngq-info-block\" };\nconst _hoisted_28 = { class: \"ngq-info-value\" };\nconst _hoisted_29 = { class: \"ngq-info-block\" };\nconst _hoisted_30 = { class: \"ngq-info-value\" };\nconst _hoisted_31 = { class: \"ngq-info-block\" };\nconst _hoisted_32 = { class: \"ngq-info-value\" };\nconst _hoisted_33 = { class: \"ngq-info-row\" };\nconst _hoisted_34 = { class: \"ngq-info-value\" };\nconst _hoisted_35 = {\n    key: 2,\n    class: \"ngq-empty-subtle\"\n};\nconst _hoisted_36 = {\n    key: 0,\n    class: \"ngq-modal-actions\",\n    style: { \"margin-top\": \"8px\" }\n};\nimport { computed } from 'vue';\nimport { useUIStore, useApartmentStore } from '../../stores';\nimport { fillCommand } from '../../utils/commandHelper';\nimport BaseModal from './BaseModal.vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'RoomModal',\n    setup(__props) {\n        const uiStore = useUIStore();\n        const apartmentStore = useApartmentStore();\n        const roomId = computed(() => uiStore.modalData?.roomId || null);\n        const room = computed(() => roomId.value ? apartmentStore.getRoomById(roomId.value) : null);\n        const tenant = computed(() => room.value?.tenant && room.value.tenant !== 'æœªçŸ¥' ? apartmentStore.getTenantByName(room.value.tenant) : null);\n        const title = computed(() => {\n            if (!room.value)\n                return 'æˆ¿é—´è¯¦æƒ…';\n            const icon = room.value.type === 'æ‚¨çš„æˆ¿é—´' ? 'ğŸ‘‘' : 'ğŸ ';\n            return `${icon} ${room.value.name}`;\n        });\n        const canDemolish = computed(() => {\n            if (!room.value)\n                return false;\n            const defaultPublicRooms = ['101', '102', '103', '104', '204', '304'];\n            const isYourRoom = room.value.type === 'æ‚¨çš„æˆ¿é—´';\n            const isDefaultPublic = defaultPublicRooms.includes(room.value.name);\n            const isOccupiedSuite = room.value.type === 'å¥—é—´' && room.value.tenant !== 'æœªçŸ¥';\n            return !isYourRoom && !isDefaultPublic && !isOccupiedSuite;\n        });\n        const close = () => {\n            uiStore.closeModal();\n        };\n        const demolish = () => {\n            if (!canDemolish.value || !room.value)\n                return;\n            const confirmed = confirm(`ç¡®å®šè¦æ‹†é™¤ ${room.value.name} å—ï¼Ÿ\\næ‹†é™¤åå°†å˜ä¸ºç©ºæˆ¿é—´ï¼Œéœ€è¦é‡æ–°è£…ä¿®æ‰èƒ½ä½¿ç”¨ã€‚`);\n            if (confirmed) {\n                fillCommand(`æ‹†é™¤ ${room.value.name}ï¼Œå°†å…¶è¿˜åŸä¸ºç©ºæˆ¿é—´çŠ¶æ€`);\n                close();\n            }\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(BaseModal, {\n                visible: _unref(uiStore).activeModal === 'room',\n                title: title.value,\n                \"max-width\": \"500px\",\n                onClose: close\n            }, {\n                actions: _withCtx(() => [\n                    _createElementVNode(\"div\", { class: \"ngq-modal-actions\" }, [\n                        _createElementVNode(\"button\", {\n                            class: \"ngq-modal-btn ngq-modal-btn-confirm\",\n                            onClick: close\n                        }, \"å…³é—­\")\n                    ]),\n                    (canDemolish.value)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_36, [\n                            _createElementVNode(\"button\", {\n                                class: \"ngq-modal-btn demolish-btn\",\n                                onClick: demolish\n                            }, \"ğŸ—‘ï¸ æ‹†é™¤æˆ¿é—´\")\n                        ]))\n                        : _createCommentVNode(\"v-if\", true)\n                ]),\n                default: _withCtx(() => [\n                    (!room.value)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [...(_cache[0] || (_cache[0] = [\n                                _createElementVNode(\"div\", { class: \"ngq-empty\" }, [\n                                    _createElementVNode(\"div\", { class: \"ngq-empty-icon\" }, \"â“\"),\n                                    _createElementVNode(\"div\", null, \"æˆ¿é—´æ•°æ®ä¸å­˜åœ¨\")\n                                ], -1 /* CACHED */)\n                            ]))]))\n                        : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n                            _createCommentVNode(\" æˆ¿é—´åŸºæœ¬ä¿¡æ¯ \"),\n                            _createElementVNode(\"div\", _hoisted_3, [\n                                _createElementVNode(\"div\", _hoisted_4, [\n                                    _cache[1] || (_cache[1] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"æˆ¿é—´ç±»å‹\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", _hoisted_5, _toDisplayString(room.value.type), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_6, [\n                                    _cache[2] || (_cache[2] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"æ‰€åœ¨æ¥¼å±‚\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", _hoisted_7, _toDisplayString(room.value.floor), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_8, [\n                                    _cache[3] || (_cache[3] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"ä½ç½®\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", _hoisted_9, _toDisplayString(room.value.position), 1 /* TEXT */)\n                                ]),\n                                (room.value.description)\n                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n                                        _cache[4] || (_cache[4] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"æˆ¿é—´æè¿°\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_11, _toDisplayString(room.value.description), 1 /* TEXT */)\n                                    ]))\n                                    : _createCommentVNode(\"v-if\", true)\n                            ]),\n                            _createCommentVNode(\" ç§Ÿå®¢ä¿¡æ¯ \"),\n                            (tenant.value)\n                                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                                    _cache[16] || (_cache[16] = _createElementVNode(\"div\", { class: \"ngq-section-title\" }, \"ğŸ‘¤ ç§Ÿå®¢ä¿¡æ¯\", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", _hoisted_13, [\n                                        _cache[5] || (_cache[5] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"å§“å\", -1 /* CACHED */)),\n                                        _createElementVNode(\"span\", _hoisted_14, _toDisplayString(tenant.value.name), 1 /* TEXT */)\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_15, [\n                                        _cache[6] || (_cache[6] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"å¹´é¾„\", -1 /* CACHED */)),\n                                        _createElementVNode(\"span\", _hoisted_16, _toDisplayString(tenant.value.age) + \"å²\", 1 /* TEXT */)\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_17, [\n                                        _cache[7] || (_cache[7] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"èŒä¸š\", -1 /* CACHED */)),\n                                        _createElementVNode(\"span\", _hoisted_18, \"ğŸ“± \" + _toDisplayString(tenant.value.job), 1 /* TEXT */)\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_19, [\n                                        _cache[8] || (_cache[8] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"åˆ›ä½œå†…å®¹\", -1 /* CACHED */)),\n                                        _createElementVNode(\"span\", _hoisted_20, \"âœ¨ \" + _toDisplayString(tenant.value.creatorType), 1 /* TEXT */)\n                                    ]),\n                                    _createCommentVNode(\" è¿›åº¦æ¡ \"),\n                                    _createElementVNode(\"div\", _hoisted_21, [\n                                        _cache[9] || (_cache[9] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"â¤ï¸ å¥½æ„Ÿåº¦\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_22, [\n                                            _createElementVNode(\"div\", {\n                                                class: \"ngq-progress-fill favor\",\n                                                style: _normalizeStyle({ width: tenant.value.favor + '%' })\n                                            }, _toDisplayString(tenant.value.favor), 5 /* TEXT, STYLE */)\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_23, [\n                                        _cache[10] || (_cache[10] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"ğŸ”¥ æ€§æ¬²\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_24, [\n                                            _createElementVNode(\"div\", {\n                                                class: \"ngq-progress-fill lust\",\n                                                style: _normalizeStyle({ width: tenant.value.lust + '%' })\n                                            }, _toDisplayString(tenant.value.lust), 5 /* TEXT, STYLE */)\n                                        ])\n                                    ]),\n                                    _createCommentVNode(\" é•¿æ–‡æœ¬ä¿¡æ¯ \"),\n                                    _createElementVNode(\"div\", _hoisted_25, [\n                                        _cache[11] || (_cache[11] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"å¤–è²Œç‰¹å¾\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_26, _toDisplayString(tenant.value.appearance), 1 /* TEXT */)\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_27, [\n                                        _cache[12] || (_cache[12] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"æ€§æ ¼\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_28, _toDisplayString(tenant.value.personality), 1 /* TEXT */)\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_29, [\n                                        _cache[13] || (_cache[13] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"å½“å‰çŠ¶æ€\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_30, _toDisplayString(tenant.value.status), 1 /* TEXT */)\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_31, [\n                                        _cache[14] || (_cache[14] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"å†…å¿ƒæƒ³æ³•\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_32, _toDisplayString(tenant.value.mood), 1 /* TEXT */)\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_33, [\n                                        _cache[15] || (_cache[15] = _createElementVNode(\"span\", { class: \"ngq-info-label\" }, \"å…¥ä½å¤©æ•°\", -1 /* CACHED */)),\n                                        _createElementVNode(\"span\", _hoisted_34, \"ğŸ“… \" + _toDisplayString(tenant.value.daysStayed) + \"å¤©\", 1 /* TEXT */)\n                                    ])\n                                ]))\n                                : (room.value.type === 'å¥—é—´')\n                                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                        _createCommentVNode(\" ç©ºæˆ¿é—´/è‡ªä½æˆ¿æç¤º \"),\n                                        _cache[17] || (_cache[17] = _createElementVNode(\"div\", { class: \"ngq-empty-subtle\" }, \"ğŸ  è¯¥å¥—é—´æš‚æ— ç§Ÿå®¢å…¥ä½\", -1 /* CACHED */))\n                                    ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                                    : (room.value.type === 'æ‚¨çš„æˆ¿é—´')\n                                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_35, \"ğŸ‘‘ è¿™æ˜¯æ‚¨çš„ç§äººå¥—é—´\"))\n                                        : _createCommentVNode(\"v-if\", true)\n                        ]))\n                ]),\n                _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"visible\", \"title\"]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./RoomModal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RoomModal.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"ngq-vue-app\" };\nimport { onMounted, watch } from 'vue';\nimport ToggleButton from './components/ToggleButton.vue';\nimport MainPanel from './components/MainPanel.vue';\nimport RecruitmentModal from './components/modals/RecruitmentModal.vue';\nimport RenovateModal from './components/modals/RenovateModal.vue';\nimport FunctionalInputModal from './components/modals/FunctionalInputModal.vue';\nimport RoomModal from './components/modals/RoomModal.vue';\nimport { useApartmentStore, useUIStore, useSettingsStore } from './stores';\n// Stores\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'App',\n    setup(__props) {\n        const apartmentStore = useApartmentStore();\n        const uiStore = useUIStore();\n        const settingsStore = useSettingsStore();\n        /**\n         * åˆå§‹åŒ–\n         */\n        onMounted(() => {\n            console.log('âœ… App ç»„ä»¶å·²æŒ‚è½½');\n            // åˆå§‹åŒ–è®¾ç½®\n            settingsStore.initialize();\n            // å¦‚æœé¢æ¿é»˜è®¤å¯è§ï¼Œåˆ™è‡ªåŠ¨åŠ è½½æ•°æ®\n            if (uiStore.isPanelVisible) {\n                apartmentStore.loadData();\n            }\n            // ç›‘å¬é¢æ¿æ‰“å¼€äº‹ä»¶ï¼Œå¦‚æœè¿˜æ²¡æœ‰æ•°æ®ï¼Œåˆ™è‡ªåŠ¨åŠ è½½\n            watch(() => uiStore.isPanelVisible, (isVisible) => {\n                if (isVisible && !apartmentStore.hasData) {\n                    apartmentStore.loadData();\n                }\n            });\n            console.log('ğŸ¢ ç½‘çº¢å°åŒº Vue ç‰ˆå·²å¯åŠ¨');\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createCommentVNode(\" æ‹–åŠ¨æŒ‰é’® \"),\n                _createVNode(ToggleButton),\n                _createCommentVNode(\" ä¸»é¢æ¿ \"),\n                _createVNode(MainPanel),\n                _createCommentVNode(\" æ¨¡æ€æ¡† \"),\n                _createVNode(RecruitmentModal),\n                _createVNode(RenovateModal),\n                _createVNode(FunctionalInputModal),\n                _createVNode(RoomModal)\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","/**\n * ç½‘çº¢å°åŒº Vue ç‰ˆ - å…¥å£æ–‡ä»¶\n * \n * åˆå§‹åŒ– Vue åº”ç”¨å¹¶æŒ‚è½½åˆ° SillyTavern é¡µé¢\n */\n\nimport { createApp } from 'vue';\nimport { createPinia } from 'pinia';\nimport App from './App.vue';\nimport { allStyles } from './styles';\n\nconsole.log('ğŸ¢ ç½‘çº¢å°åŒº Vue ç‰ˆæ­£åœ¨åˆå§‹åŒ–...');\n\n/**\n * åˆ›å»º Vue åº”ç”¨\n */\nfunction createNgqApp() {\n  const app = createApp(App);\n  const pinia = createPinia();\n\n  app.use(pinia);\n\n  return app;\n}\n\n/**\n * è·å–ç›®æ ‡æ–‡æ¡£ï¼ˆSillyTavern çš„é¡¶å±‚æ–‡æ¡£ï¼‰\n */\nfunction getTargetDocument(): Document {\n  return window.top?.document || document;\n}\n\n/**\n * åˆ›å»ºæŒ‚è½½å®¹å™¨\n */\nfunction createMountContainer(targetDoc: Document): HTMLDivElement {\n  const container = targetDoc.createElement('div');\n  container.id = 'ngq-vue-app';\n  container.setAttribute('data-script-id', getScriptId());\n  return container;\n}\n\n/**\n * é”€æ¯æŒ‚è½½å®¹å™¨\n */\nfunction destroyMountContainer(targetDoc: Document): void {\n  const container = targetDoc.getElementById('ngq-vue-app');\n  if (container) {\n    container.remove();\n    console.log('ğŸ—‘ï¸ æŒ‚è½½å®¹å™¨å·²ç§»é™¤');\n  }\n  const style = targetDoc.getElementById('ngq-vue-styles');\n  if (style) {\n    style.remove();\n    console.log('ğŸ—‘ï¸ æ ·å¼å·²ç§»é™¤');\n  }\n}\n\n/**\n * è·å–è„šæœ¬ IDï¼ˆç”¨äºæ ‡è¯†å’Œæ¸…ç†ï¼‰\n */\nfunction getScriptId(): string {\n  // ä»å½“å‰è„šæœ¬è·¯å¾„æå– ID\n  const scriptPath = import.meta.url;\n  const match = scriptPath.match(/ç½‘çº¢å°åŒºvueç‰ˆ/);\n  return match ? 'ç½‘çº¢å°åŒºvueç‰ˆ' : 'ngq-vue';\n}\n\n/**\n * åˆå§‹åŒ–åº”ç”¨\n */\nfunction initialize(): void {\n  try {\n    const targetDoc = getTargetDocument();\n    \n    // æ£€æŸ¥æ˜¯å¦å·²ç»åˆå§‹åŒ–\n    if (targetDoc.getElementById('ngq-vue-app')) {\n      console.warn('âš ï¸ åº”ç”¨å·²ç»åˆå§‹åŒ–ï¼Œè·³è¿‡é‡å¤åˆå§‹åŒ–');\n      return;\n    }\n\n    // æ³¨å…¥æ ·å¼\n    const styleTag = targetDoc.createElement('style');\n    styleTag.id = 'ngq-vue-styles';\n    styleTag.textContent = allStyles;\n    targetDoc.head.appendChild(styleTag);\n    console.log('âœ… æ ·å¼å·²æ‰‹åŠ¨æ³¨å…¥');\n\n    // åˆ›å»º Vue åº”ç”¨\n    const app = createNgqApp();\n\n    // åˆ›å»ºæŒ‚è½½å®¹å™¨\n    const container = createMountContainer(targetDoc);\n    targetDoc.body.appendChild(container);\n\n    // æŒ‚è½½åº”ç”¨\n    app.mount(container);\n\n    console.log('âœ… ç½‘çº¢å°åŒº Vue ç‰ˆåˆå§‹åŒ–æˆåŠŸ');\n\n    // é¡µé¢å¸è½½æ—¶æ¸…ç†\n    $(window).on('pagehide', () => {\n      cleanup(app, targetDoc);\n    });\n  } catch (error) {\n    console.error('âŒ ç½‘çº¢å°åŒº Vue ç‰ˆåˆå§‹åŒ–å¤±è´¥:', error);\n    toastr?.error('ç½‘çº¢å°åŒºæ’ä»¶åˆå§‹åŒ–å¤±è´¥');\n  }\n}\n\n/**\n * æ¸…ç†åº”ç”¨\n */\nfunction cleanup(app: any, targetDoc: Document): void {\n  try {\n    app.unmount();\n    destroyMountContainer(targetDoc);\n    console.log('ğŸ§¹ ç½‘çº¢å°åŒº Vue ç‰ˆå·²æ¸…ç†');\n  } catch (error) {\n    console.error('âŒ æ¸…ç†å¤±è´¥:', error);\n  }\n}\n\n// ç­‰å¾… DOM åŠ è½½å®Œæˆååˆå§‹åŒ–\n$(() => {\n  initialize();\n});\n\n// å…¨å±€ç±»å‹å£°æ˜\ndeclare global {\n  const $: JQueryStatic;\n  const toastr: {\n    success: (message: string, title?: string) => void;\n    error: (message: string, title?: string) => void;\n    warning: (message: string, title?: string) => void;\n    info: (message: string, title?: string) => void;\n  } | undefined;\n}\n\n","\n/**\n * æ ·å¼æ‰“åŒ…æ–‡ä»¶\n * \n * ä½¿ç”¨ ?raw æŸ¥è¯¢å‚æ•°å¯¼å…¥æ‰€æœ‰ CSS æ–‡ä»¶å†…å®¹ï¼Œ\n * å¹¶å°†å®ƒä»¬æ‹¼æ¥æˆä¸€ä¸ªå•ç‹¬çš„å­—ç¬¦ä¸²å¯¼å‡ºã€‚\n */\n\n// æ³¨æ„ï¼šå¯¼å…¥é¡ºåºå¾ˆé‡è¦ï¼Œå˜é‡å’ŒåŠ¨ç”»éœ€è¦å…ˆå¯¼å…¥\nimport variables from './styles/variables.css?raw';\nimport animations from './styles/animations.css?raw';\nimport common from './styles/common.css?raw';\nimport app from './App.css?raw';\nimport toggleButton from './components/ToggleButton.css?raw';\nimport mainPanel from './components/MainPanel.css?raw';\nimport managementActions from './components/ManagementActions.css?raw';\nimport floorView from './components/FloorView.css?raw';\nimport roomCard from './components/RoomCard.css?raw';\nimport baseModal from './components/modals/BaseModal.css?raw';\nimport functionalInputModal from './components/modals/FunctionalInputModal.css?raw';\nimport roomModal from './components/modals/RoomModal.css?raw';\n\n/**\n * åŒ…å«æ‰€æœ‰æ’ä»¶æ ·å¼çš„å­—ç¬¦ä¸²\n */\nexport const allStyles: string = `\n  ${variables}\n  ${animations}\n  ${common}\n  ${app}\n  ${toggleButton}\n  ${mainPanel}\n  ${managementActions}\n  ${floorView}\n  ${roomCard}\n  ${baseModal}\n  ${functionalInputModal}\n  ${roomModal}\n`;\n"],"names":["Vue","useUIStore","state","isPanelVisible","activeModal","currentRoom","currentRenovatingRoom","currentRoomForDemolish","getters","hasModalOpen","isRoomModalOpen","isRecruitmentModalOpen","isRenovateModalOpen","isFunctionalInputModalOpen","currentRoomNumber","number","Array","isArray","actions","openPanel","this","console","log","closePanel","togglePanel","openModal","type","room","closeModal","previousModal","openRoomModal","openRecruitmentModal","openRenovateModal","roomNumber","openFunctionalInputModal","setCurrentRoom","setCurrentRenovatingRoom","setCurrentRoomForDemolish","reset","useDrag","options","elementRef","handleRef","position","enabled","constrainToViewport","boundaryOffset","clickThreshold","onDragStart","onDragMove","onDragEnd","onClick","isDragging","ref","onUnmounted","unbindEvents","DEFAULT_SETTINGS","RETRY_CONFIG","STORAGE_KEYS","usePosition","key","defaultPosition","left","top","autoSave","validateInViewport","validatePosition","pos","maxX","window","innerWidth","maxY","innerHeight","Math","max","min","loadAllPositions","stored","localStorage","getItem","JSON","parse","error","saveAllPositions","positions","setItem","stringify","savePosition","posToSave","value","validatedPos","allPositions","watch","newPos","deep","restorePosition","savedPos","resetPosition","clearSavedPosition","_hoisted_1","__name","setup","__props","uiStore","buttonRef","isClick","handleClick","buttonStyle","computed","tooltipText","onMounted","_ctx","_cache","ref_key","class","dragging","style","title","unwrapMVU","defaultValue","length","unwrapMVUString","unwrapped","String","useApartmentStore","rawData","loading","retryCount","lastUpdateTime","hasData","undefined","floors","floorCount","allRooms","rooms","forEach","floor","push","roomCount","rentedRoomCount","filter","tenant","emptyRoomCount","functionalRoomCount","currentTime","current_time","apartmentName","apartment_name","getRoomByNumber","find","r","getFloorByLevel","level","f","canRetry","loadData","mvu","Mvu","parent","Error","params","message_id","mvuResult","getMvuData","data","stat_data","Date","now","errorMessage","message","Promise","resolve","setTimeout","refreshData","clearData","resetError","setData","useSettingsStore","autoRefreshEnabled","refreshInterval","initialized","refreshIntervalSeconds","refreshIntervalMinutes","formattedRefreshInterval","seconds","minutes","remainingSeconds","loadFromStorage","settings","resetToDefaults","saveToStorage","toggleAutoRefresh","enableAutoRefresh","disableAutoRefresh","setRefreshInterval","interval","setRefreshIntervalSeconds","setRefreshIntervalMinutes","initialize","clearStorage","removeItem","exportSettings","importSettings","fillCommand","command","textarea","document","querySelector","warn","toastr","warning","inputEvent","Event","bubbles","cancelable","dispatchEvent","focus","setSelectionRange","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","apartmentStore","settingsStore","autoRefreshText","buyNewFloor","disabled","props","Object","required","isYourRoom","isEmptyRoom","isSuite","isPublicLounge","isPublicGym","isPublicLaundry","isDefaultPublic","isCustomFunctional","isVacant","roomClasses","isMerged","roomIcon","occupantText","onCardClick","roomId","name","processedRooms","floorRooms","getRoomsByFloor","sort","a","b","getOrder","includes","orderDiff","localeCompare","mergedRooms","skipIndices","Set","i","has","nextRoom","add","RoomCard","_hoisted_7","panelRef","headerRef","panelStyle","headerSubtitle","date","time","location","worldInfo","FloorView","ManagementActions","visible","Boolean","default","maxWidth","emits","emit","__emit","close","isVisible","addEventListener","onKeydown","removeEventListener","e","to","$slots","_","keywords","inputRef","confirm","trim","modal","nextTick","BaseModal","onClose","$event","placeholder","onKeypress","modalData","renovateToSuite","renovateToFunctional","purpose","nameInputRef","roomName","roomPurpose","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","getRoomById","getTenantByName","canDemolish","isOccupiedSuite","demolish","description","age","job","creatorType","width","favor","lust","appearance","personality","status","mood","daysStayed","ToggleButton","MainPanel","RecruitmentModal","RenovateModal","FunctionalInputModal","RoomModal","targetDoc","getElementById","styleTag","createElement","id","textContent","head","appendChild","app","createApp","App","pinia","use","createNgqApp","container","setAttribute","match","createMountContainer","body","mount","$","on","unmount","remove","destroyMountContainer","cleanup"],"sourceRoot":""}