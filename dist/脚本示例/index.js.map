{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/webpack/runtime/async module","src://tavern_helper_template/external module \"https://testingcf.jsdelivr.net/npm/klona/+esm\"","webpack://tavern_helper_template/src/脚本示例/设置界面.vue?6505","src://tavern_helper_template/external module \"https://testingcf.jsdelivr.net/npm/pinia/+esm\"","src://tavern_helper_template/src/脚本示例/设置界面.ts","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/src/脚本示例/加载和卸载时执行函数.ts","src://tavern_helper_template/external module \"https://testingcf.jsdelivr.net/npm/dedent/+esm\"","src://tavern_helper_template/src/脚本示例/添加按钮和注册按钮事件.ts","src://tavern_helper_template/external var \"z\"","src://tavern_helper_template/src/脚本示例/监听消息修改.ts","src://tavern_helper_template/src/脚本示例/设置界面.vue","src://tavern_helper_template/src/脚本示例/settings.ts","src://tavern_helper_template/src/脚本示例/调整消息楼层.ts","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/webpack/runtime/compat get default export","src://tavern_helper_template/webpack/runtime/define property getters","src://tavern_helper_template/webpack/runtime/hasOwnProperty shorthand","src://tavern_helper_template/webpack/startup"],"sourcesContent":["var hasSymbol = typeof Symbol === \"function\";\nvar webpackQueues = hasSymbol ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = hasSymbol ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = hasSymbol ? Symbol(\"webpack error\") : \"__webpack_error__\";\n\n\nvar resolveQueue = (queue) => {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tvar handle = (deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}\n\tvar done = (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue))\n\tbody(handle, done);\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","module.exports = import(\"https://testingcf.jsdelivr.net/npm/klona/+esm\");;","/* unplugin-vue-components disabled */import script from \"./设置界面.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./设置界面.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","module.exports = import(\"https://testingcf.jsdelivr.net/npm/pinia/+esm\");;","import 界面 from './设置界面.vue';\nconst app = createApp(界面).use(createPinia());\n$(() => {\n    const $app = createScriptIdDiv();\n    $('#extensions_settings2').append($app);\n    teleportStyle();\n    app.mount($app[0]);\n});\n$(window).on('pagehide', () => {\n    app.unmount();\n    deteleportStyle();\n    destroyScriptIdDiv();\n});\nfunction teleportStyle() {\n    if ($(`head > div[script_id=\"${getScriptId()}\"]`).length > 0) {\n        return;\n    }\n    const $div = $(`<div>`).attr('script_id', getScriptId()).append($(`head > style`, document).clone());\n    $('head').append($div);\n}\nfunction deteleportStyle() {\n    $(`head > div[script_id=\"${getScriptId()}\"]`).remove();\n}\nfunction createScriptIdDiv() {\n    return $('<div>').attr('script_id', getScriptId());\n}\nfunction destroyScriptIdDiv() {\n    $(`div[script_id=\"${getScriptId()}\"]`).remove();\n}\n","module.exports = Vue;","// 在加载脚本时执行某个函数\n$(() => {\n  toastr.success('你已经成功加载示例脚本!', '恭喜你!');\n});\n\n// 在卸载脚本时执行某个函数\n$(window).on('pagehide', () => {\n  toastr.info('你已经卸载示例脚本!', '再见!');\n});\n","module.exports = import(\"https://testingcf.jsdelivr.net/npm/dedent/+esm\");;","$(() => {\n  replaceScriptButtons([{ name: '晚上好', visible: true }]);\n\n  eventOn(getButtonEvent('晚上好'), () => {\n    toastr.warning('晚安, 络络');\n  });\n});\n","module.exports = z;","eventOn(tavern_events.MESSAGE_UPDATED, (message_id: number) => {\n  toastr.error(`谁让你动我第 ${message_id} 楼消息的😡`, `干什么!`);\n});\n","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"example-extension-settings\" };\nconst _hoisted_2 = { class: \"inline-drawer\" };\nconst _hoisted_3 = { class: \"inline-drawer-content\" };\nconst _hoisted_4 = { class: \"example-extension_block flex-container\" };\nimport { storeToRefs } from 'pinia';\nimport { useSettingsStore } from './settings';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: '设置界面',\n    setup(__props) {\n        const { settings } = storeToRefs(useSettingsStore());\n        const handle_button_click = () => {\n            toastr.success('你好呀!');\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"inline-drawer-toggle inline-drawer-header\" }, [\n                        _createElementVNode(\"b\", null, _toDisplayString(`脚本示例`)),\n                        _createElementVNode(\"div\", { class: \"inline-drawer-icon fa-solid fa-circle-chevron-down down\" })\n                    ], -1 /* CACHED */)),\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _createElementVNode(\"div\", { class: \"example-extension_block flex-container\" }, [\n                            _createElementVNode(\"input\", {\n                                class: \"menu_button\",\n                                type: \"submit\",\n                                value: `示例按钮`,\n                                onClick: handle_button_click\n                            })\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_4, [\n                            _withDirectives(_createElementVNode(\"input\", {\n                                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => ((_unref(settings).button_selected) = $event)),\n                                type: \"checkbox\"\n                            }, null, 512 /* NEED_PATCH */), [\n                                [_vModelCheckbox, _unref(settings).button_selected]\n                            ]),\n                            _cache[1] || (_cache[1] = _createElementVNode(\"label\", { for: \"example_setting\" }, _toDisplayString(`示例开关`), -1 /* CACHED */))\n                        ]),\n                        _cache[2] || (_cache[2] = _createElementVNode(\"hr\", { class: \"sysHR\" }, null, -1 /* CACHED */))\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","const Settings = z\n    .object({\n    button_selected: z.boolean().default(false),\n})\n    .prefault({});\nexport const useSettingsStore = defineStore('settings', () => {\n    const settings = ref(validateInplace(Settings, getVariables({ type: 'script', script_id: getScriptId() })));\n    watch(settings, new_settings => {\n        insertOrAssignVariables(klona(new_settings), { type: 'script', script_id: getScriptId() });\n    }, { immediate: true, deep: true });\n    return {\n        settings,\n    };\n});\nfunction validateInplace(schema, data) {\n    const result = parsePrettified(schema, data);\n    return _.assign(data, result);\n}\nfunction parsePrettified(schema, data) {\n    const result = schema.safeParse(data);\n    if (!result.success) {\n        throw Error(z.prettifyError(result.error));\n    }\n    return result.data;\n}\n","\"use strict\";\n$(async () => {\n    const message_id = getLastMessageId();\n    if (message_id !== 0) {\n        return;\n    }\n    await createChatMessages([\n        {\n            role: 'assistant',\n            message: dedent(`\n                   [查看日记: 这是第二次看我的日记了呢~]\n                   <roleplay_options>\n                   接受日记本并翻阅: 青空黎接过她递来的粉色日记本，在天台阳光下缓缓翻开第一页\n                   保持沉默盯着她看: 青空黎没有接本子，只是盯着她略显紧张的表情和轻颤的声音\n                   坐到她身边: 青空黎没有立刻回应，而是缓缓走到络络身边坐下，等待她自己继续说\n                   开玩笑化解气氛: 青空黎微微一笑，开玩笑地说「所以，是要让我当监督官啦？」\n                   跳过时间: 青空黎接过日记本，安静地翻了几页，时间悄然流逝至黄昏深处\n                   和络络聊天: 青空黎试探性地问：「这本是从哪天开始写的？都写些什么呀？」\n                   </roleplay_options>\n                 `),\n        },\n        {\n            role: 'assistant',\n            message: dedent(`\n                   [查看日记: 真是的, 就这么喜欢看吗(v〃ω〃)]\n                   <roleplay_options>\n                   阅读日记第一页：青空黎打开粉色的日记本，从第一页开始认真阅读络络的记录内容。\n                   问她封面上的兔子贴纸：青空黎好奇那枚蓝色兔子贴纸的来历，转头向络络询问。\n                   观察络络的小动作：青空黎不急着翻开日记，而是注意到络络表情里一丝期待与不安。\n                   和她闲聊天气：青空黎随口聊起傍晚风有点凉，试图舒缓紧张气氛。\n                   调侃她：“有哪页是‘不许看’的？”青空黎轻松地试图化解她的小慌乱。\n                   转身回教室：青空黎接过日记却并未立刻翻开，而是表示回教室再看，打算慢慢阅读。\n                   </roleplay_options>\n                 `),\n        },\n    ], { refresh: 'all' });\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(107);\n"],"names":["hasSymbol","webpackQueues","webpackExports","webpackError","resolveQueue","module","exports","import","app","createApp","use","createPinia","teleportStyle","$","getScriptId","length","$div","attr","append","document","clone","$app","mount","window","on","unmount","remove","Vue","toastr","success","info","replaceScriptButtons","name","visible","eventOn","getButtonEvent","warning","z","tavern_events","MESSAGE_UPDATED","message_id","error","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","__name","setup","__props","settings","storeToRefs","handle_button_click","_ctx","_cache","type","value","onClick","$event","button_selected","for","Settings","object","boolean","default","prefault","useSettingsStore","defineStore","ref","validateInplace","getVariables","script_id","watch","new_settings","insertOrAssignVariables","klona","immediate","deep","schema","data","result","parsePrettified","_","assign","safeParse","Error","prettifyError","async","getLastMessageId","createChatMessages","role","message","refresh","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","Symbol","queue","d","forEach","fn","r","a","body","hasAwait","currentDeps","outerResolve","reject","depQueues","Set","promise","Promise","resolve","rej","x","deps","map","dep","then","obj","e","ret","wrapDeps","getResult","fnQueue","q","has","add","push","err","n","getter","__esModule","definition","key","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call"],"sourceRoot":""}